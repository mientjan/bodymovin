{"version":3,"sources":["webpack:///bodymovin.js","webpack:///webpack/bootstrap 770de397d325c9404a64","webpack:///./js/utils/common.js","webpack:///./js/elements/svgElements/SVGBaseElement.js","webpack:///./js/utils/PropertyFactory.js","webpack:///./js/utils/shapes/ShapeModifiers.js","webpack:///./js/renderers/BaseRenderer.js","webpack:///./js/renderers/SVGRenderer.js","webpack:///./js/3rd_party/BezierFactory.js","webpack:///./js/3rd_party/Matrix.js","webpack:///./js/elements/ImageElement.js","webpack:///./js/utils/bez.js","webpack:///./js/utils/shapes/ShapePropertyFactory.js","webpack:///./js/animation/AnimationManager.js","webpack:///./js/animation/AnimationItem.js","webpack:///./js/elements/BaseElement.js","webpack:///./js/elements/CompElement.js","webpack:///./js/elements/MaskElement.js","webpack:///./js/elements/ShapeElement.js","webpack:///./js/elements/SolidElement.js","webpack:///./js/elements/TextElement.js","webpack:///./js/elements/svgElements/SVGTextElement.js","webpack:///./js/renderers/CanvasRenderer.js","webpack:///./js/renderers/HybridRenderer.js","webpack:///./js/utils/DataManager.js","webpack:///./js/utils/FontManager.js","webpack:///./js/utils/ImagePreloader.js","webpack:///./js/utils/shapes/MouseModifier.js","webpack:///./js/utils/shapes/RoundCornersModifier.js","webpack:///./js/utils/shapes/TrimModifier.js","webpack:///./js/index.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","ProjectInterface","roundValues","flag","bm_rnd","Math","round","val","roundTo2Decimals","roundTo3Decimals","styleDiv","element","style","position","top","left","display","transformOrigin","webkitTransformOrigin","backfaceVisibility","webkitBackfaceVisibility","transformStyle","webkitTransformStyle","mozTransformStyle","styleUnselectableDiv","userSelect","MozUserSelect","webkitUserSelect","oUserSelect","BMEnterFrameEvent","t","this","type","currentTime","totalTime","direction","BMCompleteEvent","BMCompleteLoopEvent","currentLoop","totalLoops","BMSegmentStartEvent","f","firstFrame","totalFrames","BMDestroyEvent","target","_addEventListener","eventName","callback","_cbs","push","_removeEventListener","len","length","splice","_triggerEvent","args","randomString","chars","undefined","result","random","HSVtoRGB","h","v","r","g","b","q","arguments","floor","RGBtoHSV","max","min","addSaturationToRGB","color","offset","hsv","addBrightnessToRGB","addHueToRGB","componentToHex","hex","toString","fillToRgba","alpha","cachedColors","exec","parseInt","RenderedFrame","tr","LetterProps","sw","sc","fc","props","iterateDynamicProperties","num","dynamicProperties","getValue","reversePath","paths","newI","newO","newV","newPaths","init","cnt","createElement","parent","child","params","instance","create","getType","constructor","_parent","extendPrototype","source","destination","attr","_typeof","Symbol","iterator","obj","subframeEnabled","svgNS","expressionsPlugin","isSafari","test","navigator","userAgent","bm_rounder","BMMath","bm_pow","pow","bm_sqrt","sqrt","bm_abs","abs","bm_floor","bm_max","bm_min","blitter","propertyNames","getOwnPropertyNames","absArr","Array","apply","defaultCurveSegments","degToRads","PI","roundCorner","colorMap","colorArr","join","_interopRequireDefault","default","SVGBaseElement","data","parentContainer","globalData","comp","placeholder","matteElement","transformedElement","layerId","_common","_BaseElement","_BaseElement2","_MaskElement","_MaskElement2","createElements","layerElement","document","createElementNS","hasMask","maskedElement","layerElementParent","td","masker","setAttribute","appendChild","defs","featureSupport","maskType","filId","fil","filtersFactory","createFilter","createAlphaToLuminanceFilter","gg","maskGroup","maskGrouper","feColorMatrix","alphaRect","w","tt","baseElement","ln","cl","ty","cp","pt","clipId","checkMasks","cpGroup","bm","setBlendMode","ef","effectsManager","SVGEffects","checkParenting","renderFrame","parentTransform","hd","isVisible","lastNum","currentFrameNum","finalTransform","opMdf","op","mdf","matMdf","mProp","opacity","mat","finalMat","hierarchy","cloneFromProps","transform","to2dCSS","maskManager","destroy","getBaseElement","addMasks","setMatte","id","hide","elem","frameId","frameNum","renderedFrame","offsetTime","lastFrame","initFrame","keyframes","keyData","nextKeyData","dir","k","kLen","perc","jLen","fnc","j","to","bezierData","_bez2","buildBezierData","ind","points","point","mult","pv","lastPValue","__fnct","_BezierFactory2","getBezierEasing","x","y","segmentPerc","distanceInLine","segmentLength","addedLength","partialLength","outX","outY","inX","inY","keyValue","isArray","sh","initP","endP","e","getNoValue","ValueProperty","kf","vel","MultiDimensionalProperty","lastValue","arr","map","KeyframedValueProperty","st","KeyframedMultidimensionalProperty","ti","pointOnLine2D","pointOnLine3D","getProp","TransformProperty","a","getDashProp","renderer","DashProperty","getTextSelectorProp","TextSelectorProp","PropertyFactory","Error","_Matrix","_Matrix2","_bez","_BezierFactory","positionGetter","ExpressionValue","xPositionGetter","px","yPositionGetter","py","anchorGetter","orientationGetter","or","rotationGetter","scaleGetter","opacityGetter","skewGetter","sk","skewAxisGetter","sa","applyToMatrix","translate","scale","rotate","rotateZ","rz","rotateY","ry","rotateX","rx","z","pz","processKeys","reset","skewFromAxis","autoOriented","getValueAtTime","v1","v2","frameRate","atan2","setInverted","inverted","iv","autoOrient","getGradientProp","forceRender","prop","cmdf","omdf","gradientProp","cLength","dataProps","dasharray","dashoffset","updateRange","totalChars","divisor","_s","finalS","finalE","getMult","easer","ne","xe","tot","cos","ShapeModifier","ShapeModifiers","ob","modifiers","registerModifier","nm","factory","getModifier","initModifierProperties","addShapeToModifier","addShape","shape","closed","shapes","last","isTrimming","_classCallCheck","Constructor","TypeError","_createClass","defineProperties","descriptor","writable","key","protoProps","staticProps","_TrimModifier","_MouseModifier","_RoundCornersModifier","BaseRenderer","layers","completeLayers","elements","ip","buildItem","checkPendingElements","layer","createImage","createComp","createSolid","createShape","createText","createBase","newLayers","pInterface","projectInterface","progressiveLoad","buildAllItems","parentName","_isParent","buildElementParenting","setHierarchy","addPendingElement","pendingElements","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","setPrototypeOf","__proto__","_BaseRenderer2","_BaseRenderer3","_FontManager","_FontManager2","_SVGBaseElement","_SVGBaseElement2","_ShapeElement","_ShapeElement2","_SVGTextElement","_SVGTextElement2","_ImageElement","_ImageElement2","_CompElement","_CompElement2","_SolidElement","_SolidElement2","SVGRenderer","_BaseRenderer","animationItem","config","_this","getPrototypeOf","renderConfig","preserveAspectRatio","destroyed","animData","width","height","wrapper","getAssetData","bind","getAssetsPath","compSize","fr","maskElement","rect","maskId","fontManager","addChars","addFonts","fonts","innerHTML","pos","createItem","registerComposition","initExpressions","appendElementInPos","pop","currentFrame","checkLayers","prepareFrame","newElement","nextElement","insertBefore","assets","floatingContainer","xt","BezierFactory","str","replace","beziers","bezEasing","BezierEasing","A","aA1","aA2","B","C","calcBezier","aT","getSlope","binarySubdivide","aX","aA","aB","mX1","mX2","currentX","currentT","SUBDIVISION_PRECISION","SUBDIVISION_MAX_ITERATIONS","newtonRaphsonIterate","aGuessT","NEWTON_ITERATIONS","currentSlope","_p","_mSampleValues","float32ArraySupported","Float32Array","kSplineTableSize","_precomputed","kSampleStepSize","mY1","mY2","_precompute","_getTForX","_calcSampleValues","mSampleValues","intervalStart","currentSample","lastSample","dist","guessForT","initialSlope","angle","mCos","mSin","sin","_t","shear","sx","sy","skew","ax","ay","tan","sz","isNaN","setTransform","tx","tz","a2","b2","c2","d2","e2","f2","g2","h2","i2","j2","k2","l2","m2","n2","o2","p2","a1","b1","c1","d1","e1","f1","g1","h1","i1","j1","k1","l1","m1","n1","o1","p1","clone","matr","applyToPoint","applyToX","applyToY","applyToZ","inversePoints","pts","determinant","retPts","applyToPointArray","applyToPointStringified","toArray","toCSS","cssParts","Matrix","ImageElement","assetData","refId","assetPath","innerElem","setAttributeNS","hidden","parentMatrix","bezFunction","x1","y1","x2","y2","x3","y3","det1","z1","z2","z3","BezierData","PointData","partial","getDistancePerc","segments","initPos","lengthPos","lPerc","SegmentPoints","pt1","pt2","pt3","pt4","getNewSegment","startPerc","endPerc","t0","t1","u0","u1","getBezierLength","Segment","ptCoord","ptDistance","curveSegments","lastPoint","lengthData","storedData","bezierName","bez","_PropertyFactory","_PropertyFactory2","ShapePropertyFactory","interpolateShape","keyPropS","keyPropE","isHold","vertexValue","hasModified","getShapeValue","resetShape","resetPaths","ShapeProperty","numNodes","ks","KeyframedShapeProperty","getShapeProp","dataProp","keys","RectShapeProperty","EllShapeProperty","StarShapeProperty","convertEllToPath","p0","s0","s1","cPoint","convertPolygonToPath","numPts","rad","roundness","os","perimSegment","currentAng","ox","oy","convertStarToPath","longFlag","longRad","shortRad","ir","longRound","shortRound","is","longPerimSegment","shortPerimSegment","convertToPath","convertRectToPath","v0","removeElement","ev","animItem","registeredAnimations","animation","isPaused","subtractPlayingCount","registerAnimation","animationData","_AnimationItem2","setupAnimation","setData","addPlayingCount","playingAnimationsNum","activate","idled","addEventListener","loadAnimation","setParams","setSpeed","setDirection","play","moveFrame","initTime","Date","now","resume","nowTime","elapsedTime","advanceTime","requestAnimationFrame","first","pause","goToAndStop","isFrame","stop","togglePause","searchAnimations","standalone","animElements","getElementsByClassName","body","getElementsByTagName","div","resize","start","_AnimationItem","AnimationManager","setTimeout","AnimationItem","path","isLoaded","currentRawFrame","frameMult","playSpeed","playDirection","playCount","prerenderFramesFlag","autoplay","loop","animationID","scaleMode","assetsPath","timeCompleted","segmentPos","pendingSegment","_idle","_CanvasRenderer","_CanvasRenderer2","_SVGRenderer","_SVGRenderer2","_HybridRenderer","_HybridRenderer2","_ImagePreloader","_ImagePreloader2","_DataManager","_DataManager2","context","container","animType","rendererSettings","setProjectInterface","prerender","autoloadSegments","configAnimation","substr","xhr","XMLHttpRequest","lastIndexOf","fileName","open","send","onreadystatechange","readyState","status","JSON","parse","responseText","response","err","wrapperAttributes","attributes","getNamedItem","includeLayers","tf","__complete","completeData","loadNextSegment","trigger","segment","shift","time","segmentPath","loadSegments","comps","concat","searchExtraCompositions","imagePreloader","setAssetsPath","setPath","loadAssets","updaFrameModifier","waitForFontsLoaded","checkLoaded","checkFontsLoaded","loaded","elementLoaded","initItems","gotoFrame","updateContainerSize","setSubframe","setCurrentRawFrameValue","frameModifier","goToAndPlay","adjustSegment","updateAnimation","setSegment","end","pendingFrame","playSegments","forceFlag","resetSegments","checkSegments","remove","onEnterFrame","onLoopComplete","onComplete","onSegmentStart","onDestroy","getPath","imagePath","indexOf","split","u","show","getAssets","triggerEvent","removeEventListener","BaseElement","masksProperties","mode","elemMdf","sr","globalToLocal","transforms","ptNew","layerInterface","LayerExpressionInterface","registerMaskInterface","effectsInterface","EffectsExpressionInterface","createEffectsInterface","registerEffectsInterface","compInterface","CompExpressionInterface","shapeInterface","ShapeExpressionInterface","createShapeInterface","shapesData","viewData","textInterface","TextExpressionInterface","blendModeValue","effects","EffectsManager","ao","resetHierarchy","getHierarchy","getLayerSize","textData","mHelper","_get","receiver","Function","desc","getOwnPropertyDescriptor","_SVGBaseElement3","CompElement","supports3d","tm","timeRemapped","renderParent","elems","MaskElement","expansor","feMorph","properties","count","currentMasks","maskRef","inv","filterID","expan","lastPath","lastOperator","filterId","lastRadius","mask","solidPath","createLayerSolidPath","_ShapePropertyFactory2","invRect","drawPath","_ShapePropertyFactory","getMaskProperty","getMaskelement","pathData","pathNodes","pathString","getMask","maskPath","ShapeElement","stylesList","shapeModifiers","_ShapeModifiers","lcEnum","1","2","3","ljEnum","buildExpressionInterface","searchShapes","setGradientData","pathElement","gfill","gradientId","stops","gf","cst","setGradientOpacity","styleOb","opFill","opacityId","of","ost","msElem","level","transformers","currentTransform","ownTransformers","ownArrays","ownModifiers","ld","lvl","lc","lj","ml","pElem","it","gr","mProps","caches","styles","lStr","addShapeToModifiers","modifier","renderModifiers","processShapes","renderShape","parentNode","items","isMain","renderPath","renderFill","renderGradient","renderStroke","pathStringTransformed","redraw","lLen","iterations","styleData","styleElem","attr1","attr2","cValues","oValues","ang","percent","shapeData","SolidElement","ITextElement","lettersChangedFlag","currentTextDocumentData","animatorData","animatorProps","fh","fs","fb","textDocumentData","buildNewText","createPathShape","matrixHelper","shapeStr","getMeasures","xPos","yPos","renderType","documentData","letters","pathInfo","tLength","totalLength","pi","currentPoint","prevPoint","currentLength","segmentInd","pointInd","tanAngle","animatorSelector","letterValue","yOff","firstLine","renderedData","lettersValue","lastLetter","offf","xPathPos","yPathPos","elemOpacity","letterSw","letterSc","letterFc","letterM","letterP","letterO","initPathPos","initSegmentInd","initPointInd","currentLine","lineLength","yOffset","emptyProp","line","lineWidths","extra","an","animatorOffset","anIndexes","add","strokeWidthAnim","strokeColorAnim","fillColorAnim","rot","atan","ps","ascent","justifyOffset","boxWidth","renderedLetters","SVGTextElement","textSpans","_TextElement","_TextElement2","fontData","getFontByName","fClass","fFamily","fWeight","fStyle","tSpan","singleShape","charData","getCharData","charAt","textContent","renderedLetter","CanvasRenderer","clearCanvas","dpr","window","devicePixelRatio","contextData","saved","savedOp","cArrPos","cTr","cO","transformMat","CVBaseElement","CVShapeElement","CVTextElement","CVImageElement","CVCompElement","CVSolidElement","ctxTransform","canvasContext","trProps","ctxOpacity","globalAlpha","restore","save","actionFlag","popped","mozTransformOrigin","getContext","isDashed","compWidth","compHeight","transformCanvas","FontManager","elementWidth","elementHeight","offsetWidth","offsetHeight","canvas","elementRel","animationRel","par","fillType","clearRect","beginPath","closePath","clip","HybridRenderer","threeDElements","camera","ddd","addTo3dContainer","HShapeElement","IShapeElement","HTextElement","createCamera","HCameraElement","HImageElement","IImageElement","HCompElement","ICompElement","HSolidElement","ISolidElement","getThreeDContainer","perspectiveElem","webkitTransform","resizerElem","threeDContainerData","startPos","endPos","build3dContainers","lastThreeDContainerData","overflow","svg","setup","cWidth","cHeight","perspective","webkitPerspective","dataFunctionManager","layerData","completed","maskProps","convertPathsToAbsoluteValues","findCompLayers","completeShapes","completeText","checkVersion","minimum","animVersionString","animVersion","checkColors","checkText","checkShapes","newLineFlag","index","anchorGrouping","currentSize","currentPos","lineWidth","maxLineWidth","toLowerCase","lastSpaceIndex","charCodeAt","measureText","animators","based","indexes","rn","newInd","currentInd","lh","updateTextLayer","textLayer","iterateLayers","minimumVersion","iterateShapes","moduleOb","DataManager","setUpNode","font","family","fontFamily","node","fontSize","fontVariant","fontStyle","fontWeight","letterSpacing","checkLoadedFonts","loadedCount","fOrigin","Typekit","load","typekitLoaded","async","active","monoCase","sansCase","removeChild","maxWaitingTime","createHelper","def","tHelper","className","tCanvasHelper","list","fontArr","fPath","rel","href","helper","found","ch","char","fontName","size","fName","imageLoaded","loadedAssets","totalImages","loadImage","img","src","totalAssets","ImagePreloader","MouseModifier","positions","processPath","mouseCoords","theta","vValues","iValues","distV","distO","distI","distance","dc","maxDist","shapePaths","mouseX","mouseY","localMouseCoords","RoundCornersModifier","rd","currentV","currentI","currentO","closerV","newPosPerc","TrimModifier","sValue","eValue","oValue","getSegmentsLength","pathV","pathO","pathI","lengths","calculateShapeEdges","shapeLength","totalModifierLength","segmentOb","shapeSegments","shapeS","shapeE","pathsData","totalShapeLength","newShapes","edges","newShapeData","addShapes","lastPos","addSegment","shapePath","shapeSegment","currentLengthData","segmentCount","_AnimationManager2","setSubframeRendering","setQuality","installPlugin","plugin","getFactory","checkReady","clearInterval","readyStateCheckInterval","getQueryVariable","variable","vars","queryString","pair","decodeURIComponent","_AnimationManager","bodymovin","__getFactory","version","scripts","myScript","setInterval","console","log"],"mappings":"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","file":"bodymovin.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 28);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.ProjectInterface = ProjectInterface;\nexports.roundValues = roundValues;\nexports.roundTo2Decimals = roundTo2Decimals;\nexports.roundTo3Decimals = roundTo3Decimals;\nexports.styleDiv = styleDiv;\nexports.styleUnselectableDiv = styleUnselectableDiv;\nexports.BMEnterFrameEvent = BMEnterFrameEvent;\nexports.BMCompleteEvent = BMCompleteEvent;\nexports.BMCompleteLoopEvent = BMCompleteLoopEvent;\nexports.BMSegmentStartEvent = BMSegmentStartEvent;\nexports.BMDestroyEvent = BMDestroyEvent;\nexports._addEventListener = _addEventListener;\nexports._removeEventListener = _removeEventListener;\nexports._triggerEvent = _triggerEvent;\nexports.randomString = randomString;\nexports.HSVtoRGB = HSVtoRGB;\nexports.RGBtoHSV = RGBtoHSV;\nexports.addSaturationToRGB = addSaturationToRGB;\nexports.addBrightnessToRGB = addBrightnessToRGB;\nexports.addHueToRGB = addHueToRGB;\nexports.componentToHex = componentToHex;\nexports.fillToRgba = fillToRgba;\nexports.RenderedFrame = RenderedFrame;\nexports.LetterProps = LetterProps;\nexports.iterateDynamicProperties = iterateDynamicProperties;\nexports.reversePath = reversePath;\nexports.createElement = createElement;\nexports.extendPrototype = extendPrototype;\nvar subframeEnabled = exports.subframeEnabled = true;\nvar svgNS = exports.svgNS = \"http://www.w3.org/2000/svg\";\nvar expressionsPlugin = exports.expressionsPlugin = undefined;\nvar isSafari = exports.isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\nvar cachedColors = exports.cachedColors = {};\nvar bm_rounder = exports.bm_rounder = Math.round;\nvar bm_rnd = exports.bm_rnd = undefined;\nvar bm_pow = exports.bm_pow = Math.pow;\nvar bm_sqrt = exports.bm_sqrt = Math.sqrt;\nvar bm_abs = exports.bm_abs = Math.abs;\nvar bm_floor = exports.bm_floor = Math.floor;\nvar bm_max = exports.bm_max = Math.max;\nvar bm_min = exports.bm_min = Math.min;\nvar blitter = exports.blitter = 10;\n\nvar BMMath = {};\n(function () {\n    var propertyNames = Object.getOwnPropertyNames(Math);\n    var i,\n        len = propertyNames.length;\n    for (i = 0; i < len; i += 1) {\n        BMMath[propertyNames[i]] = Math[propertyNames[i]];\n    }\n})();\n\nfunction ProjectInterface() {\n    return {};\n};\n\nBMMath.random = Math.random;\nBMMath.abs = function (val) {\n    var tOfVal = typeof val === 'undefined' ? 'undefined' : _typeof(val);\n    if (tOfVal === 'object' && val.length) {\n        var absArr = Array.apply(null, { length: val.length });\n        var i,\n            len = val.length;\n        for (i = 0; i < len; i += 1) {\n            absArr[i] = Math.abs(val[i]);\n        }\n        return absArr;\n    }\n    return Math.abs(val);\n};\nvar defaultCurveSegments = exports.defaultCurveSegments = 150;\nvar degToRads = exports.degToRads = Math.PI / 180;\nvar roundCorner = exports.roundCorner = 0.5519;\n\nfunction roundValues(flag) {\n    if (flag) {\n        exports.bm_rnd = bm_rnd = Math.round;\n    } else {\n        exports.bm_rnd = bm_rnd = function bm_rnd(val) {\n            return val;\n        };\n    }\n}\nroundValues(false);\n\nfunction roundTo2Decimals(val) {\n    return Math.round(val * 10000) / 10000;\n}\n\nfunction roundTo3Decimals(val) {\n    return Math.round(val * 100) / 100;\n}\n\nfunction styleDiv(element) {\n    element.style.position = 'absolute';\n    element.style.top = 0;\n    element.style.left = 0;\n    element.style.display = 'block';\n    element.style.transformOrigin = element.style.webkitTransformOrigin = '0 0';\n    element.style.backfaceVisibility = element.style.webkitBackfaceVisibility = 'visible';\n    element.style.transformStyle = element.style.webkitTransformStyle = element.style.mozTransformStyle = \"preserve-3d\";\n}\n\nfunction styleUnselectableDiv(element) {\n    element.style.userSelect = 'none';\n    element.style.MozUserSelect = 'none';\n    element.style.webkitUserSelect = 'none';\n    element.style.oUserSelect = 'none';\n}\n\nfunction BMEnterFrameEvent(n, c, t, d) {\n    this.type = n;\n    this.currentTime = c;\n    this.totalTime = t;\n    this.direction = d < 0 ? -1 : 1;\n}\n\nfunction BMCompleteEvent(n, d) {\n    this.type = n;\n    this.direction = d < 0 ? -1 : 1;\n}\n\nfunction BMCompleteLoopEvent(n, c, t, d) {\n    this.type = n;\n    this.currentLoop = c;\n    this.totalLoops = t;\n    this.direction = d < 0 ? -1 : 1;\n}\n\nfunction BMSegmentStartEvent(n, f, t) {\n    this.type = n;\n    this.firstFrame = f;\n    this.totalFrames = t;\n}\n\nfunction BMDestroyEvent(n, t) {\n    this.type = n;\n    this.target = t;\n}\n\nfunction _addEventListener(eventName, callback) {\n\n    if (!this._cbs[eventName]) {\n        this._cbs[eventName] = [];\n    }\n    this._cbs[eventName].push(callback);\n}\n\nfunction _removeEventListener(eventName, callback) {\n\n    if (!callback) {\n        this._cbs[eventName] = null;\n    } else if (this._cbs[eventName]) {\n        var i = 0,\n            len = this._cbs[eventName].length;\n        while (i < len) {\n            if (this._cbs[eventName][i] === callback) {\n                this._cbs[eventName].splice(i, 1);\n                i -= 1;\n                len -= 1;\n            }\n            i += 1;\n        }\n        if (!this._cbs[eventName].length) {\n            this._cbs[eventName] = null;\n        }\n    }\n}\n\nfunction _triggerEvent(eventName, args) {\n    if (this._cbs[eventName]) {\n        var len = this._cbs[eventName].length;\n        for (var i = 0; i < len; i++) {\n            this._cbs[eventName][i](args);\n        }\n    }\n}\n\nfunction randomString(length, chars) {\n    if (chars === undefined) {\n        chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890';\n    }\n    var i;\n    var result = '';\n    for (i = length; i > 0; --i) {\n        result += chars[Math.round(Math.random() * (chars.length - 1))];\n    }return result;\n}\n\nfunction HSVtoRGB(h, s, v) {\n    var r, g, b, i, f, p, q, t;\n    if (arguments.length === 1) {\n        s = h.s, v = h.v, h = h.h;\n    }\n    i = Math.floor(h * 6);\n    f = h * 6 - i;\n    p = v * (1 - s);\n    q = v * (1 - f * s);\n    t = v * (1 - (1 - f) * s);\n    switch (i % 6) {\n        case 0:\n            r = v, g = t, b = p;break;\n        case 1:\n            r = q, g = v, b = p;break;\n        case 2:\n            r = p, g = v, b = t;break;\n        case 3:\n            r = p, g = q, b = v;break;\n        case 4:\n            r = t, g = p, b = v;break;\n        case 5:\n            r = v, g = p, b = q;break;\n    }\n    return [r, g, b];\n}\n\nfunction RGBtoHSV(r, g, b) {\n    if (arguments.length === 1) {\n        g = r.g, b = r.b, r = r.r;\n    }\n    var max = Math.max(r, g, b),\n        min = Math.min(r, g, b),\n        d = max - min,\n        h,\n        s = max === 0 ? 0 : d / max,\n        v = max / 255;\n\n    switch (max) {\n        case min:\n            h = 0;break;\n        case r:\n            h = g - b + d * (g < b ? 6 : 0);h /= 6 * d;break;\n        case g:\n            h = b - r + d * 2;h /= 6 * d;break;\n        case b:\n            h = r - g + d * 4;h /= 6 * d;break;\n    }\n\n    return [h, s, v];\n}\n\nfunction addSaturationToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[1] += offset;\n    if (hsv[1] > 1) {\n        hsv[1] = 1;\n    } else if (hsv[1] <= 0) {\n        hsv[1] = 0;\n    }\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n}\n\nfunction addBrightnessToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[2] += offset;\n    if (hsv[2] > 1) {\n        hsv[2] = 1;\n    } else if (hsv[2] < 0) {\n        hsv[2] = 0;\n    }\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n}\n\nfunction addHueToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[0] += offset / 360;\n    if (hsv[0] > 1) {\n        hsv[0] -= 1;\n    } else if (hsv[0] < 0) {\n        hsv[0] += 1;\n    }\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n}\n\nfunction componentToHex(c) {\n    var hex = c.toString(16);\n    return hex.length == 1 ? '0' + hex : hex;\n}\n\nvar rgbToHex = function () {\n    var colorMap = [];\n    var i;\n    var hex;\n    for (i = 0; i < 256; i += 1) {\n        hex = i.toString(16);\n        colorMap[i] = hex.length == 1 ? '0' + hex : hex;\n    }\n\n    return function (r, g, b) {\n        if (r < 0) {\n            r = 0;\n        }\n        if (g < 0) {\n            g = 0;\n        }\n        if (b < 0) {\n            b = 0;\n        }\n        return '#' + colorMap[r] + colorMap[g] + colorMap[b];\n    };\n}();\n\nfunction fillToRgba(hex, alpha) {\n    if (!cachedColors[hex]) {\n        var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n        cachedColors[hex] = parseInt(result[1], 16) + ',' + parseInt(result[2], 16) + ',' + parseInt(result[3], 16);\n    }\n    return 'rgba(' + cachedColors[hex] + ',' + alpha + ')';\n}\n\nvar fillColorToString = function () {\n\n    var colorMap = [];\n    return function (colorArr, alpha) {\n        if (alpha !== undefined) {\n            colorArr[3] = alpha;\n        }\n        if (!colorMap[colorArr[0]]) {\n            colorMap[colorArr[0]] = {};\n        }\n        if (!colorMap[colorArr[0]][colorArr[1]]) {\n            colorMap[colorArr[0]][colorArr[1]] = {};\n        }\n        if (!colorMap[colorArr[0]][colorArr[1]][colorArr[2]]) {\n            colorMap[colorArr[0]][colorArr[1]][colorArr[2]] = {};\n        }\n        if (!colorMap[colorArr[0]][colorArr[1]][colorArr[2]][colorArr[3]]) {\n            colorMap[colorArr[0]][colorArr[1]][colorArr[2]][colorArr[3]] = 'rgba(' + colorArr.join(',') + ')';\n        }\n        return colorMap[colorArr[0]][colorArr[1]][colorArr[2]][colorArr[3]];\n    };\n}();\n\nfunction RenderedFrame(tr, o) {\n    this.tr = tr;\n    this.o = o;\n}\n\nfunction LetterProps(o, sw, sc, fc, m, p) {\n    this.o = o;\n    this.sw = sw;\n    this.sc = sc;\n    this.fc = fc;\n    this.m = m;\n    this.props = p;\n}\n\nfunction iterateDynamicProperties(num) {\n    var i,\n        len = this.dynamicProperties;\n    for (i = 0; i < len; i += 1) {\n        this.dynamicProperties[i].getValue(num);\n    }\n}\n\nfunction reversePath(paths) {\n    var newI = [],\n        newO = [],\n        newV = [];\n    var i,\n        len,\n        newPaths = {};\n    var init = 0;\n    if (paths.c) {\n        newI[0] = paths.o[0];\n        newO[0] = paths.i[0];\n        newV[0] = paths.v[0];\n        init = 1;\n    }\n    len = paths.i.length;\n    var cnt = len - 1;\n\n    for (i = init; i < len; i += 1) {\n        newI.push(paths.o[cnt]);\n        newO.push(paths.i[cnt]);\n        newV.push(paths.v[cnt]);\n        cnt -= 1;\n    }\n\n    newPaths.i = newI;\n    newPaths.o = newO;\n    newPaths.v = newV;\n\n    return newPaths;\n}\n\nfunction createElement(parent, child, params) {\n    if (child) {\n        child.prototype = Object.create(parent.prototype);\n        child.prototype.constructor = child;\n        child.prototype._parent = parent.prototype;\n    } else {\n        var instance = Object.create(parent.prototype, params);\n        var getType = {};\n        if (instance && getType.toString.call(instance.init) === '[object Function]') {\n            instance.init();\n        }\n        return instance;\n    }\n}\n\nfunction extendPrototype(source, destination) {\n    for (var attr in source.prototype) {\n        if (source.prototype.hasOwnProperty(attr)) destination.prototype[attr] = source.prototype[attr];\n    }\n}\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _common = __webpack_require__(0);\n\nvar _BaseElement = __webpack_require__(13);\n\nvar _BaseElement2 = _interopRequireDefault(_BaseElement);\n\nvar _MaskElement = __webpack_require__(15);\n\nvar _MaskElement2 = _interopRequireDefault(_MaskElement);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction SVGBaseElement(data, parentContainer, globalData, comp, placeholder) {\n    this.globalData = globalData;\n    this.comp = comp;\n    this.data = data;\n    this.matteElement = null;\n    this.transformedElement = null;\n    this.parentContainer = parentContainer;\n    this.layerId = placeholder ? placeholder.layerId : 'ly_' + (0, _common.randomString)(10);\n    this.placeholder = placeholder;\n    this.init();\n};\n\n(0, _common.createElement)(_BaseElement2.default, SVGBaseElement);\n\nSVGBaseElement.prototype.createElements = function () {\n    this.layerElement = document.createElementNS(_common.svgNS, 'g');\n    this.transformedElement = this.layerElement;\n    if (this.data.hasMask) {\n        this.maskedElement = this.layerElement;\n    }\n    var layerElementParent = null;\n    if (this.data.td) {\n        if (this.data.td == 3 || this.data.td == 1) {\n            var masker = document.createElementNS(_common.svgNS, 'mask');\n            masker.setAttribute('id', this.layerId);\n            masker.setAttribute('mask-type', this.data.td == 3 ? 'luminance' : 'alpha');\n            masker.appendChild(this.layerElement);\n            layerElementParent = masker;\n            this.globalData.defs.appendChild(masker);\n            ////// This is only for IE and Edge when mask if of type alpha\n            if (!featureSupport.maskType && this.data.td == 1) {\n                masker.setAttribute('mask-type', 'luminance');\n                var filId = (0, _common.randomString)(10);\n                var fil = filtersFactory.createFilter(filId);\n                this.globalData.defs.appendChild(fil);\n                fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\n                var gg = document.createElementNS(_common.svgNS, 'g');\n                gg.appendChild(this.layerElement);\n                layerElementParent = gg;\n                masker.appendChild(gg);\n                gg.setAttribute('filter', 'url(#' + filId + ')');\n            }\n        } else if (this.data.td == 2) {\n            var maskGroup = document.createElementNS(_common.svgNS, 'mask');\n            maskGroup.setAttribute('id', this.layerId);\n            maskGroup.setAttribute('mask-type', 'alpha');\n            var maskGrouper = document.createElementNS(_common.svgNS, 'g');\n            maskGroup.appendChild(maskGrouper);\n            var filId = (0, _common.randomString)(10);\n            var fil = filtersFactory.createFilter(filId);\n            ////\n\n            var feColorMatrix = document.createElementNS(_common.svgNS, 'feColorMatrix');\n            feColorMatrix.setAttribute('type', 'matrix');\n            feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n            feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 -1 1');\n            fil.appendChild(feColorMatrix);\n\n            ////\n            /*var feCTr = document.createElementNS(svgNS,'feComponentTransfer');\n            feCTr.setAttribute('in','SourceGraphic');\n            fil.appendChild(feCTr);\n            var feFunc = document.createElementNS(svgNS,'feFuncA');\n            feFunc.setAttribute('type','table');\n            feFunc.setAttribute('tableValues','1.0 0.0');\n            feCTr.appendChild(feFunc);*/\n            this.globalData.defs.appendChild(fil);\n            var alphaRect = document.createElementNS(_common.svgNS, 'rect');\n            alphaRect.setAttribute('width', this.comp.data.w);\n            alphaRect.setAttribute('height', this.comp.data.h);\n            alphaRect.setAttribute('x', '0');\n            alphaRect.setAttribute('y', '0');\n            alphaRect.setAttribute('fill', '#ffffff');\n            alphaRect.setAttribute('opacity', '0');\n            maskGrouper.setAttribute('filter', 'url(#' + filId + ')');\n            maskGrouper.appendChild(alphaRect);\n            maskGrouper.appendChild(this.layerElement);\n            layerElementParent = maskGrouper;\n            if (!featureSupport.maskType) {\n                maskGroup.setAttribute('mask-type', 'luminance');\n                fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\n                var gg = document.createElementNS(_common.svgNS, 'g');\n                maskGrouper.appendChild(alphaRect);\n                gg.appendChild(this.layerElement);\n                layerElementParent = gg;\n                maskGrouper.appendChild(gg);\n            }\n            this.globalData.defs.appendChild(maskGroup);\n        }\n    } else if (this.data.hasMask || this.data.tt) {\n        if (this.data.tt) {\n            this.matteElement = document.createElementNS(_common.svgNS, 'g');\n            this.matteElement.appendChild(this.layerElement);\n            layerElementParent = this.matteElement;\n            this.baseElement = this.matteElement;\n        } else {\n            this.baseElement = this.layerElement;\n        }\n    } else {\n        this.baseElement = this.layerElement;\n    }\n    if ((this.data.ln || this.data.cl) && (this.data.ty === 4 || this.data.ty === 0)) {\n        if (this.data.ln) {\n            this.layerElement.setAttribute('id', this.data.ln);\n        }\n        if (this.data.cl) {\n            this.layerElement.setAttribute('class', this.data.cl);\n        }\n    }\n    if (this.data.ty === 0) {\n        var cp = document.createElementNS(_common.svgNS, 'clipPath');\n        var pt = document.createElementNS(_common.svgNS, 'path');\n        pt.setAttribute('d', 'M0,0 L' + this.data.w + ',0' + ' L' + this.data.w + ',' + this.data.h + ' L0,' + this.data.h + 'z');\n        var clipId = 'cp_' + (0, _common.randomString)(8);\n        cp.setAttribute('id', clipId);\n        cp.appendChild(pt);\n        this.globalData.defs.appendChild(cp);\n        if (this.checkMasks()) {\n            var cpGroup = document.createElementNS(_common.svgNS, 'g');\n            cpGroup.setAttribute('clip-path', 'url(#' + clipId + ')');\n            cpGroup.appendChild(this.layerElement);\n            this.transformedElement = cpGroup;\n            if (layerElementParent) {\n                layerElementParent.appendChild(this.transformedElement);\n            } else {\n                this.baseElement = this.transformedElement;\n            }\n        } else {\n            this.layerElement.setAttribute('clip-path', 'url(#' + clipId + ')');\n        }\n    }\n    if (this.data.bm !== 0) {\n        this.setBlendMode();\n    }\n    if (this.layerElement !== this.parentContainer) {\n        this.placeholder = null;\n    }\n    /* Todo performance killer\n    if(this.data.sy){\n        var filterID = 'st_'+randomString(10);\n        var c = this.data.sy[0].c.k;\n        var r = this.data.sy[0].s.k;\n        var expansor = document.createElementNS(svgNS,'filter');\n        expansor.setAttribute('id',filterID);\n        var feFlood = document.createElementNS(svgNS,'feFlood');\n        this.feFlood = feFlood;\n        if(!c[0].e){\n            feFlood.setAttribute('flood-color','rgb('+c[0]+','+c[1]+','+c[2]+')');\n        }\n        feFlood.setAttribute('result','base');\n        expansor.appendChild(feFlood);\n        var feMorph = document.createElementNS(svgNS,'feMorphology');\n        feMorph.setAttribute('operator','dilate');\n        feMorph.setAttribute('in','SourceGraphic');\n        feMorph.setAttribute('result','bigger');\n        this.feMorph = feMorph;\n        if(!r.length){\n            feMorph.setAttribute('radius',this.data.sy[0].s.k);\n        }\n        expansor.appendChild(feMorph);\n        var feColorMatrix = document.createElementNS(svgNS,'feColorMatrix');\n        feColorMatrix.setAttribute('result','mask');\n        feColorMatrix.setAttribute('in','bigger');\n        feColorMatrix.setAttribute('type','matrix');\n        feColorMatrix.setAttribute('values','0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0');\n        expansor.appendChild(feColorMatrix);\n        var feComposite = document.createElementNS(svgNS,'feComposite');\n        feComposite.setAttribute('result','drop');\n        feComposite.setAttribute('in','base');\n        feComposite.setAttribute('in2','mask');\n        feComposite.setAttribute('operator','in');\n        expansor.appendChild(feComposite);\n        var feBlend = document.createElementNS(svgNS,'feBlend');\n        feBlend.setAttribute('in','SourceGraphic');\n        feBlend.setAttribute('in2','drop');\n        feBlend.setAttribute('mode','normal');\n        expansor.appendChild(feBlend);\n        this.globalData.defs.appendChild(expansor);\n        var cont = document.createElementNS(svgNS,'g');\n        if(this.layerElement === this.parentContainer){\n            this.layerElement = cont;\n        }else{\n            cont.appendChild(this.layerElement);\n        }\n        cont.setAttribute('filter','url(#'+filterID+')');\n        if(this.data.td){\n            cont.setAttribute('data-td',this.data.td);\n        }\n        if(this.data.td == 3){\n            this.globalData.defs.appendChild(cont);\n        }else if(this.data.td == 2){\n            maskGrouper.appendChild(cont);\n        }else if(this.data.td == 1){\n            masker.appendChild(cont);\n        }else{\n            if(this.data.hasMask && this.data.tt){\n                this.matteElement.appendChild(cont);\n            }else{\n                this.appendNodeToParent(cont);\n            }\n        }\n    }*/\n    if (this.data.ef) {\n        this.effectsManager = new SVGEffects(this);\n    }\n    this.checkParenting();\n};\n\nSVGBaseElement.prototype.setBlendMode = _BaseElement2.default.prototype.setBlendMode;\n\nSVGBaseElement.prototype.renderFrame = function (parentTransform) {\n    if (this.data.ty === 3 || this.data.hd) {\n        return false;\n    }\n\n    if (!this.isVisible) {\n        return this.isVisible;\n    }\n    this.lastNum = this.currentFrameNum;\n    this.finalTransform.opMdf = this.finalTransform.op.mdf;\n    this.finalTransform.matMdf = this.finalTransform.mProp.mdf;\n    this.finalTransform.opacity = this.finalTransform.op.v;\n    if (this.firstFrame) {\n        this.finalTransform.opMdf = true;\n        this.finalTransform.matMdf = true;\n    }\n\n    var mat;\n    var finalMat = this.finalTransform.mat;\n\n    if (this.hierarchy) {\n        var i,\n            len = this.hierarchy.length;\n\n        mat = this.finalTransform.mProp.v.props;\n        finalMat.cloneFromProps(mat);\n        for (i = 0; i < len; i += 1) {\n            this.finalTransform.matMdf = this.hierarchy[i].finalTransform.mProp.mdf ? true : this.finalTransform.matMdf;\n            mat = this.hierarchy[i].finalTransform.mProp.v.props;\n            finalMat.transform(mat[0], mat[1], mat[2], mat[3], mat[4], mat[5], mat[6], mat[7], mat[8], mat[9], mat[10], mat[11], mat[12], mat[13], mat[14], mat[15]);\n        }\n    } else {\n        if (this.isVisible) {\n            finalMat.cloneFromProps(this.finalTransform.mProp.v.props);\n        }\n    }\n    if (parentTransform) {\n        mat = parentTransform.mat.props;\n        finalMat.transform(mat[0], mat[1], mat[2], mat[3], mat[4], mat[5], mat[6], mat[7], mat[8], mat[9], mat[10], mat[11], mat[12], mat[13], mat[14], mat[15]);\n        this.finalTransform.opacity *= parentTransform.opacity;\n        this.finalTransform.opMdf = parentTransform.opMdf ? true : this.finalTransform.opMdf;\n        this.finalTransform.matMdf = parentTransform.matMdf ? true : this.finalTransform.matMdf;\n    }\n    if (this.finalTransform.matMdf && this.layerElement) {\n        this.transformedElement.setAttribute('transform', finalMat.to2dCSS());\n    }\n    if (this.finalTransform.opMdf && this.layerElement) {\n        this.transformedElement.setAttribute('opacity', this.finalTransform.opacity);\n    }\n\n    if (this.data.hasMask) {\n        this.maskManager.renderFrame(finalMat);\n    }\n    if (this.effectsManager) {\n        this.effectsManager.renderFrame(this.firstFrame);\n    }\n    return this.isVisible;\n};\n\nSVGBaseElement.prototype.destroy = function () {\n    this.layerElement = null;\n    this.parentContainer = null;\n    if (this.matteElement) {\n        this.matteElement = null;\n    }\n    if (this.maskManager) {\n        this.maskManager.destroy();\n    }\n};\n\nSVGBaseElement.prototype.getBaseElement = function () {\n    return this.baseElement;\n};\nSVGBaseElement.prototype.addMasks = function (data) {\n    this.maskManager = new _MaskElement2.default(data, this, this.globalData);\n};\n\nSVGBaseElement.prototype.setMatte = function (id) {\n    if (!this.matteElement) {\n        return;\n    }\n    this.matteElement.setAttribute(\"mask\", \"url(#\" + id + \")\");\n};\n\nSVGBaseElement.prototype.setMatte = function (id) {\n    if (!this.matteElement) {\n        return;\n    }\n    this.matteElement.setAttribute(\"mask\", \"url(#\" + id + \")\");\n};\n\nSVGBaseElement.prototype.hide = function () {};\n\nexports.default = SVGBaseElement;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = PropertyFactory;\n\nvar _Matrix = __webpack_require__(7);\n\nvar _Matrix2 = _interopRequireDefault(_Matrix);\n\nvar _common = __webpack_require__(0);\n\nvar _bez = __webpack_require__(9);\n\nvar _bez2 = _interopRequireDefault(_bez);\n\nvar _BezierFactory = __webpack_require__(6);\n\nvar _BezierFactory2 = _interopRequireDefault(_BezierFactory);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar initFrame = -999999;\n\nfunction getValue() {\n\tif (this.elem.globalData.frameId === this.frameId) {\n\t\treturn;\n\t}\n\tthis.mdf = false;\n\tvar frameNum = this.comp.renderedFrame - this.offsetTime;\n\tif (frameNum === this.lastFrame || this.lastFrame !== initFrame && (this.lastFrame >= this.keyframes[this.keyframes.length - 1].t - this.offsetTime && frameNum >= this.keyframes[this.keyframes.length - 1].t - this.offsetTime || this.lastFrame < this.keyframes[0].t - this.offsetTime && frameNum < this.keyframes[0].t - this.offsetTime)) {} else {\n\t\tvar i = 0,\n\t\t    len = this.keyframes.length - 1,\n\t\t    dir = 1,\n\t\t    flag = true;\n\t\tvar keyData, nextKeyData;\n\n\t\twhile (flag) {\n\t\t\tkeyData = this.keyframes[i];\n\t\t\tnextKeyData = this.keyframes[i + 1];\n\t\t\tif (i == len - 1 && frameNum >= nextKeyData.t - this.offsetTime) {\n\t\t\t\tif (keyData.h) {\n\t\t\t\t\tkeyData = nextKeyData;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (nextKeyData.t - this.offsetTime > frameNum) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (i < len - 1) {\n\t\t\t\ti += dir;\n\t\t\t} else {\n\t\t\t\tflag = false;\n\t\t\t}\n\t\t}\n\n\t\tvar k,\n\t\t    kLen,\n\t\t    perc,\n\t\t    jLen,\n\t\t    j = 0,\n\t\t    fnc;\n\t\tif (keyData.to) {\n\n\t\t\tif (!keyData.bezierData) {\n\t\t\t\t_bez2.default.buildBezierData(keyData);\n\t\t\t}\n\t\t\tvar bezierData = keyData.bezierData;\n\t\t\tif (frameNum >= nextKeyData.t - this.offsetTime || frameNum < keyData.t - this.offsetTime) {\n\t\t\t\tvar ind = frameNum >= nextKeyData.t - this.offsetTime ? bezierData.points.length - 1 : 0;\n\t\t\t\tkLen = bezierData.points[ind].point.length;\n\t\t\t\tfor (k = 0; k < kLen; k += 1) {\n\t\t\t\t\tthis.v[k] = this.mult ? bezierData.points[ind].point[k] * this.mult : bezierData.points[ind].point[k];\n\t\t\t\t\tthis.pv[k] = bezierData.points[ind].point[k];\n\t\t\t\t\tif (this.lastPValue[k] !== this.pv[k]) {\n\t\t\t\t\t\tthis.mdf = true;\n\t\t\t\t\t\tthis.lastPValue[k] = this.pv[k];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (keyData.__fnct) {\n\t\t\t\t\tfnc = keyData.__fnct;\n\t\t\t\t} else {\n\t\t\t\t\tfnc = _BezierFactory2.default.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y, keyData.n).get;\n\t\t\t\t\tkeyData.__fnct = fnc;\n\t\t\t\t}\n\t\t\t\tperc = fnc((frameNum - (keyData.t - this.offsetTime)) / (nextKeyData.t - this.offsetTime - (keyData.t - this.offsetTime)));\n\t\t\t\tvar distanceInLine = bezierData.segmentLength * perc;\n\n\t\t\t\tvar segmentPerc;\n\t\t\t\tvar addedLength = 0;\n\t\t\t\tdir = 1;\n\t\t\t\tflag = true;\n\t\t\t\tjLen = bezierData.points.length;\n\t\t\t\twhile (flag) {\n\t\t\t\t\taddedLength += bezierData.points[j].partialLength * dir;\n\t\t\t\t\tif (distanceInLine === 0 || perc === 0 || j == bezierData.points.length - 1) {\n\t\t\t\t\t\tkLen = bezierData.points[j].point.length;\n\t\t\t\t\t\tfor (k = 0; k < kLen; k += 1) {\n\t\t\t\t\t\t\tthis.v[k] = this.mult ? bezierData.points[j].point[k] * this.mult : bezierData.points[j].point[k];\n\t\t\t\t\t\t\tthis.pv[k] = bezierData.points[j].point[k];\n\t\t\t\t\t\t\tif (this.lastPValue[k] !== this.pv[k]) {\n\t\t\t\t\t\t\t\tthis.mdf = true;\n\t\t\t\t\t\t\t\tthis.lastPValue[k] = this.pv[k];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else if (distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j + 1].partialLength) {\n\t\t\t\t\t\tsegmentPerc = (distanceInLine - addedLength) / bezierData.points[j + 1].partialLength;\n\t\t\t\t\t\tkLen = bezierData.points[j].point.length;\n\t\t\t\t\t\tfor (k = 0; k < kLen; k += 1) {\n\t\t\t\t\t\t\tthis.v[k] = this.mult ? (bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc) * this.mult : bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc;\n\t\t\t\t\t\t\tthis.pv[k] = bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc;\n\n\t\t\t\t\t\t\tif (this.lastPValue[k] !== this.pv[k]) {\n\t\t\t\t\t\t\t\tthis.mdf = true;\n\t\t\t\t\t\t\t\tthis.lastPValue[k] = this.pv[k];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (j < jLen - 1 && dir == 1 || j > 0 && dir == -1) {\n\t\t\t\t\t\tj += dir;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tflag = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tvar outX,\n\t\t\t    outY,\n\t\t\t    inX,\n\t\t\t    inY,\n\t\t\t    isArray = false,\n\t\t\t    keyValue;\n\t\t\tlen = keyData.s.length;\n\t\t\tfor (i = 0; i < len; i += 1) {\n\t\t\t\tif (keyData.h !== 1) {\n\t\t\t\t\tif (keyData.o.x instanceof Array) {\n\t\t\t\t\t\tisArray = true;\n\t\t\t\t\t\tif (!keyData.__fnct) {\n\t\t\t\t\t\t\tkeyData.__fnct = [];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!keyData.__fnct[i]) {\n\t\t\t\t\t\t\toutX = keyData.o.x[i] || keyData.o.x[0];\n\t\t\t\t\t\t\toutY = keyData.o.y[i] || keyData.o.y[0];\n\t\t\t\t\t\t\tinX = keyData.i.x[i] || keyData.i.x[0];\n\t\t\t\t\t\t\tinY = keyData.i.y[i] || keyData.i.y[0];\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tisArray = false;\n\t\t\t\t\t\tif (!keyData.__fnct) {\n\t\t\t\t\t\t\toutX = keyData.o.x;\n\t\t\t\t\t\t\toutY = keyData.o.y;\n\t\t\t\t\t\t\tinX = keyData.i.x;\n\t\t\t\t\t\t\tinY = keyData.i.y;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (isArray) {\n\t\t\t\t\t\tif (keyData.__fnct[i]) {\n\t\t\t\t\t\t\tfnc = keyData.__fnct[i];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//fnc = bez.getEasingCurve(outX,outY,inX,inY);\n\t\t\t\t\t\t\tfnc = _BezierFactory2.default.getBezierEasing(outX, outY, inX, inY).get;\n\t\t\t\t\t\t\tkeyData.__fnct[i] = fnc;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (keyData.__fnct) {\n\t\t\t\t\t\t\tfnc = keyData.__fnct;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//fnc = bez.getEasingCurve(outX,outY,inX,inY);\n\t\t\t\t\t\t\tfnc = _BezierFactory2.default.getBezierEasing(outX, outY, inX, inY).get;\n\t\t\t\t\t\t\tkeyData.__fnct = fnc;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (frameNum >= nextKeyData.t - this.offsetTime) {\n\t\t\t\t\t\tperc = 1;\n\t\t\t\t\t} else if (frameNum < keyData.t - this.offsetTime) {\n\t\t\t\t\t\tperc = 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tperc = fnc((frameNum - (keyData.t - this.offsetTime)) / (nextKeyData.t - this.offsetTime - (keyData.t - this.offsetTime)));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.sh && keyData.h !== 1) {\n\t\t\t\t\tvar initP = keyData.s[i];\n\t\t\t\t\tvar endP = keyData.e[i];\n\t\t\t\t\tif (initP - endP < -180) {\n\t\t\t\t\t\tinitP += 360;\n\t\t\t\t\t} else if (initP - endP > 180) {\n\t\t\t\t\t\tinitP -= 360;\n\t\t\t\t\t}\n\t\t\t\t\tkeyValue = initP + (endP - initP) * perc;\n\t\t\t\t} else {\n\t\t\t\t\tkeyValue = keyData.h === 1 ? keyData.s[i] : keyData.s[i] + (keyData.e[i] - keyData.s[i]) * perc;\n\t\t\t\t}\n\t\t\t\tif (len === 1) {\n\t\t\t\t\tthis.v = this.mult ? keyValue * this.mult : keyValue;\n\t\t\t\t\tthis.pv = keyValue;\n\t\t\t\t\tif (this.lastPValue != this.pv) {\n\t\t\t\t\t\tthis.mdf = true;\n\t\t\t\t\t\tthis.lastPValue = this.pv;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.v[i] = this.mult ? keyValue * this.mult : keyValue;\n\t\t\t\t\tthis.pv[i] = keyValue;\n\t\t\t\t\tif (this.lastPValue[i] !== this.pv[i]) {\n\t\t\t\t\t\tthis.mdf = true;\n\t\t\t\t\t\tthis.lastPValue[i] = this.pv[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tthis.lastFrame = frameNum;\n\tthis.frameId = this.elem.globalData.frameId;\n}\n\nfunction getNoValue() {}\n\nfunction ValueProperty(elem, data, mult) {\n\tthis.mult = mult;\n\tthis.v = mult ? data.k * mult : data.k;\n\tthis.pv = data.k;\n\tthis.mdf = false;\n\tthis.comp = elem.comp;\n\tthis.k = false;\n\tthis.kf = false;\n\tthis.vel = 0;\n\tthis.getValue = getNoValue;\n}\n\nfunction MultiDimensionalProperty(elem, data, mult) {\n\tthis.mult = mult;\n\tthis.data = data;\n\tthis.mdf = false;\n\tthis.comp = elem.comp;\n\tthis.k = false;\n\tthis.kf = false;\n\tthis.frameId = -1;\n\tthis.v = new Array(data.k.length);\n\tthis.pv = new Array(data.k.length);\n\tthis.lastValue = new Array(data.k.length);\n\tvar arr = Array.apply(null, { length: data.k.length });\n\tthis.vel = arr.map(function () {\n\t\treturn 0;\n\t});\n\tvar i,\n\t    len = data.k.length;\n\tfor (i = 0; i < len; i += 1) {\n\t\tthis.v[i] = mult ? data.k[i] * mult : data.k[i];\n\t\tthis.pv[i] = data.k[i];\n\t}\n\tthis.getValue = getNoValue;\n}\n\nfunction KeyframedValueProperty(elem, data, mult) {\n\tthis.keyframes = data.k;\n\tthis.offsetTime = elem.data.st;\n\tthis.lastValue = -99999;\n\tthis.lastPValue = -99999;\n\tthis.frameId = -1;\n\tthis.k = true;\n\tthis.kf = true;\n\tthis.data = data;\n\tthis.mult = mult;\n\tthis.elem = elem;\n\tthis.comp = elem.comp;\n\tthis.lastFrame = initFrame;\n\tthis.v = mult ? data.k[0].s[0] * mult : data.k[0].s[0];\n\tthis.pv = data.k[0].s[0];\n\tthis.getValue = getValue;\n}\n\nfunction KeyframedMultidimensionalProperty(elem, data, mult) {\n\tvar i,\n\t    len = data.k.length;\n\tvar s, e, to, ti;\n\tfor (i = 0; i < len - 1; i += 1) {\n\t\tif (data.k[i].to && data.k[i].s && data.k[i].e) {\n\t\t\ts = data.k[i].s;\n\t\t\te = data.k[i].e;\n\t\t\tto = data.k[i].to;\n\t\t\tti = data.k[i].ti;\n\t\t\tif (s.length === 2 && !(s[0] === e[0] && s[1] === e[1]) && _bez2.default.pointOnLine2D(s[0], s[1], e[0], e[1], s[0] + to[0], s[1] + to[1]) && _bez2.default.pointOnLine2D(s[0], s[1], e[0], e[1], e[0] + ti[0], e[1] + ti[1]) || s.length === 3 && !(s[0] === e[0] && s[1] === e[1] && s[2] === e[2]) && _bez2.default.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], s[0] + to[0], s[1] + to[1], s[2] + to[2]) && _bez2.default.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], e[0] + ti[0], e[1] + ti[1], e[2] + ti[2])) {\n\t\t\t\tdata.k[i].to = null;\n\t\t\t\tdata.k[i].ti = null;\n\t\t\t}\n\t\t}\n\t}\n\tthis.keyframes = data.k;\n\tthis.offsetTime = elem.data.st;\n\tthis.k = true;\n\tthis.kf = true;\n\tthis.mult = mult;\n\tthis.elem = elem;\n\tthis.comp = elem.comp;\n\tthis.getValue = getValue;\n\tthis.frameId = -1;\n\tthis.v = new Array(data.k[0].s.length);\n\tthis.pv = new Array(data.k[0].s.length);\n\tthis.lastValue = new Array(data.k[0].s.length);\n\tthis.lastPValue = new Array(data.k[0].s.length);\n\tthis.lastFrame = initFrame;\n}\n\nvar TransformProperty = function () {\n\tfunction positionGetter() {\n\t\treturn ExpressionValue(this.p);\n\t}\n\n\tfunction xPositionGetter() {\n\t\treturn ExpressionValue(this.px);\n\t}\n\n\tfunction yPositionGetter() {\n\t\treturn ExpressionValue(this.py);\n\t}\n\n\tfunction zPositionGetter() {\n\t\treturn ExpressionValue(this.pz);\n\t}\n\n\tfunction anchorGetter() {\n\t\treturn ExpressionValue(this.a);\n\t}\n\n\tfunction orientationGetter() {\n\t\treturn ExpressionValue(this.or);\n\t}\n\n\tfunction rotationGetter() {\n\t\treturn ExpressionValue(this.r, 1 / _common.degToRads);\n\t}\n\n\tfunction scaleGetter() {\n\t\treturn ExpressionValue(this.s, 100);\n\t}\n\n\tfunction opacityGetter() {\n\t\treturn ExpressionValue(this.o, 100);\n\t}\n\n\tfunction skewGetter() {\n\t\treturn ExpressionValue(this.sk);\n\t}\n\n\tfunction skewAxisGetter() {\n\t\treturn ExpressionValue(this.sa);\n\t}\n\n\tfunction applyToMatrix(mat) {\n\t\tvar i,\n\t\t    len = this.dynamicProperties.length;\n\t\tfor (i = 0; i < len; i += 1) {\n\t\t\tthis.dynamicProperties[i].getValue();\n\t\t\tif (this.dynamicProperties[i].mdf) {\n\t\t\t\tthis.mdf = true;\n\t\t\t}\n\t\t}\n\t\tif (this.a) {\n\t\t\tmat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n\t\t}\n\t\tif (this.s) {\n\t\t\tmat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n\t\t}\n\t\tif (this.r) {\n\t\t\tmat.rotate(-this.r.v);\n\t\t} else {\n\t\t\tmat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n\t\t}\n\t\tif (this.data.p.s) {\n\t\t\tif (this.data.p.z) {\n\t\t\t\tmat.translate(this.px.v, this.py.v, -this.pz.v);\n\t\t\t} else {\n\t\t\t\tmat.translate(this.px.v, this.py.v, 0);\n\t\t\t}\n\t\t} else {\n\t\t\tmat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n\t\t}\n\t}\n\n\tfunction processKeys() {\n\t\tif (this.elem.globalData.frameId === this.frameId) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.mdf = false;\n\t\tvar i,\n\t\t    len = this.dynamicProperties.length;\n\n\t\tfor (i = 0; i < len; i += 1) {\n\t\t\tthis.dynamicProperties[i].getValue();\n\t\t\tif (this.dynamicProperties[i].mdf) {\n\t\t\t\tthis.mdf = true;\n\t\t\t}\n\t\t}\n\t\tif (this.mdf) {\n\t\t\tthis.v.reset();\n\t\t\tif (this.a) {\n\t\t\t\tthis.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n\t\t\t}\n\t\t\tif (this.s) {\n\t\t\t\tthis.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n\t\t\t}\n\t\t\tif (this.sk) {\n\t\t\t\tthis.v.skewFromAxis(-this.sk.v, this.sa.v);\n\t\t\t}\n\t\t\tif (this.r) {\n\t\t\t\tthis.v.rotate(-this.r.v);\n\t\t\t} else {\n\t\t\t\tthis.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n\t\t\t}\n\t\t\tif (this.autoOriented && this.p.keyframes && this.p.getValueAtTime) {\n\t\t\t\tvar v1, v2;\n\t\t\t\tif (this.p.lastFrame + this.p.offsetTime <= this.p.keyframes[0].t) {\n\t\t\t\t\tv1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / this.elem.globalData.frameRate, 0);\n\t\t\t\t\tv2 = this.p.getValueAtTime(this.p.keyframes[0].t / this.elem.globalData.frameRate, 0);\n\t\t\t\t} else if (this.p.lastFrame + this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t) {\n\t\t\t\t\tv1 = this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length - 1].t / this.elem.globalData.frameRate, 0);\n\t\t\t\t\tv2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.01) / this.elem.globalData.frameRate, 0);\n\t\t\t\t} else {\n\t\t\t\t\tv1 = this.p.pv;\n\t\t\t\t\tv2 = this.p.getValueAtTime((this.p.lastFrame + this.p.offsetTime - 0.01) / this.elem.globalData.frameRate, this.p.offsetTime);\n\t\t\t\t}\n\t\t\t\tthis.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));\n\t\t\t}\n\t\t\tif (this.data.p.s) {\n\t\t\t\tif (this.data.p.z) {\n\t\t\t\t\tthis.v.translate(this.px.v, this.py.v, -this.pz.v);\n\t\t\t\t} else {\n\t\t\t\t\tthis.v.translate(this.px.v, this.py.v, 0);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n\t\t\t}\n\t\t}\n\t\t//console.log(this.v.to2dCSS())\n\t\tthis.frameId = this.elem.globalData.frameId;\n\t}\n\n\tfunction setInverted() {\n\t\tthis.inverted = true;\n\t\tthis.iv = new _Matrix2.default();\n\t\tif (!this.k) {\n\t\t\tif (this.data.p.s) {\n\t\t\t\tthis.iv.translate(this.px.v, this.py.v, -this.pz.v);\n\t\t\t} else {\n\t\t\t\tthis.iv.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n\t\t\t}\n\t\t\tif (this.r) {\n\t\t\t\tthis.iv.rotate(-this.r.v);\n\t\t\t} else {\n\t\t\t\tthis.iv.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v);\n\t\t\t}\n\t\t\tif (this.s) {\n\t\t\t\tthis.iv.scale(this.s.v[0], this.s.v[1], 1);\n\t\t\t}\n\t\t\tif (this.a) {\n\t\t\t\tthis.iv.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction autoOrient() {\n\t\t//\n\t\t//var prevP = this.getValueAtTime();\n\t}\n\n\treturn function TransformProperty(elem, data, arr) {\n\t\tthis.elem = elem;\n\t\tthis.frameId = -1;\n\t\tthis.type = 'transform';\n\t\tthis.dynamicProperties = [];\n\t\tthis.mdf = false;\n\t\tthis.data = data;\n\t\tthis.getValue = processKeys;\n\t\tthis.applyToMatrix = applyToMatrix;\n\t\tthis.setInverted = setInverted;\n\t\tthis.autoOrient = autoOrient;\n\t\tthis.v = new _Matrix2.default();\n\t\tif (data.p.s) {\n\t\t\tthis.px = PropertyFactory.getProp(elem, data.p.x, 0, 0, this.dynamicProperties);\n\t\t\tthis.py = PropertyFactory.getProp(elem, data.p.y, 0, 0, this.dynamicProperties);\n\t\t\tif (data.p.z) {\n\t\t\t\tthis.pz = PropertyFactory.getProp(elem, data.p.z, 0, 0, this.dynamicProperties);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.p = PropertyFactory.getProp(elem, data.p, 1, 0, this.dynamicProperties);\n\t\t}\n\t\tif (data.r) {\n\t\t\tthis.r = PropertyFactory.getProp(elem, data.r, 0, _common.degToRads, this.dynamicProperties);\n\t\t} else if (data.rx) {\n\t\t\tthis.rx = PropertyFactory.getProp(elem, data.rx, 0, _common.degToRads, this.dynamicProperties);\n\t\t\tthis.ry = PropertyFactory.getProp(elem, data.ry, 0, _common.degToRads, this.dynamicProperties);\n\t\t\tthis.rz = PropertyFactory.getProp(elem, data.rz, 0, _common.degToRads, this.dynamicProperties);\n\t\t\tthis.or = PropertyFactory.getProp(elem, data.or, 0, _common.degToRads, this.dynamicProperties);\n\t\t}\n\t\tif (data.sk) {\n\t\t\tthis.sk = PropertyFactory.getProp(elem, data.sk, 0, _common.degToRads, this.dynamicProperties);\n\t\t\tthis.sa = PropertyFactory.getProp(elem, data.sa, 0, _common.degToRads, this.dynamicProperties);\n\t\t}\n\t\tif (data.a) {\n\t\t\tthis.a = PropertyFactory.getProp(elem, data.a, 1, 0, this.dynamicProperties);\n\t\t}\n\t\tif (data.s) {\n\t\t\tthis.s = PropertyFactory.getProp(elem, data.s, 1, 0.01, this.dynamicProperties);\n\t\t}\n\t\tif (data.o) {\n\t\t\tthis.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, arr);\n\t\t} else {\n\t\t\tthis.o = { mdf: false, v: 1 };\n\t\t}\n\t\tif (this.dynamicProperties.length) {\n\t\t\tarr.push(this);\n\t\t} else {\n\t\t\tif (this.a) {\n\t\t\t\tthis.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n\t\t\t}\n\t\t\tif (this.s) {\n\t\t\t\tthis.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n\t\t\t}\n\t\t\tif (this.sk) {\n\t\t\t\tthis.v.skewFromAxis(-this.sk.v, this.sa.v);\n\t\t\t}\n\t\t\tif (this.r) {\n\t\t\t\tthis.v.rotate(-this.r.v);\n\t\t\t} else {\n\t\t\t\tthis.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n\t\t\t}\n\t\t\tif (this.data.p.s) {\n\t\t\t\tif (data.p.z) {\n\t\t\t\t\tthis.v.translate(this.px.v, this.py.v, -this.pz.v);\n\t\t\t\t} else {\n\t\t\t\t\tthis.v.translate(this.px.v, this.py.v, 0);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n\t\t\t}\n\t\t}\n\t\tObject.defineProperty(this, \"position\", { get: positionGetter });\n\t\tObject.defineProperty(this, \"xPosition\", { get: xPositionGetter });\n\t\tObject.defineProperty(this, \"yPosition\", { get: yPositionGetter });\n\t\tObject.defineProperty(this, \"orientation\", { get: orientationGetter });\n\t\tObject.defineProperty(this, \"anchorPoint\", { get: anchorGetter });\n\t\tObject.defineProperty(this, \"rotation\", { get: rotationGetter });\n\t\tObject.defineProperty(this, \"scale\", { get: scaleGetter });\n\t\tObject.defineProperty(this, \"opacity\", { get: opacityGetter });\n\t\tObject.defineProperty(this, \"skew\", { get: skewGetter });\n\t\tObject.defineProperty(this, \"skewAxis\", { get: skewAxisGetter });\n\t};\n}();\n\nfunction getProp(elem, data, type, mult, arr) {\n\tvar p;\n\tif (type === 2) {\n\t\tp = new TransformProperty(elem, data, arr);\n\t} else if (data.a === 0) {\n\t\tif (type === 0) {\n\t\t\tp = new ValueProperty(elem, data, mult);\n\t\t} else {\n\t\t\tp = new MultiDimensionalProperty(elem, data, mult);\n\t\t}\n\t} else if (data.a === 1) {\n\t\tif (type === 0) {\n\t\t\tp = new KeyframedValueProperty(elem, data, mult);\n\t\t} else {\n\t\t\tp = new KeyframedMultidimensionalProperty(elem, data, mult);\n\t\t}\n\t} else if (!data.k.length) {\n\t\tp = new ValueProperty(elem, data, mult);\n\t} else if (typeof data.k[0] === 'number') {\n\t\tp = new MultiDimensionalProperty(elem, data, mult);\n\t} else {\n\t\tswitch (type) {\n\t\t\tcase 0:\n\t\t\t\tp = new KeyframedValueProperty(elem, data, mult);\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tp = new KeyframedMultidimensionalProperty(elem, data, mult);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\tif (p.k) {\n\t\tarr.push(p);\n\t}\n\treturn p;\n}\n\nvar getGradientProp = function () {\n\n\tfunction getValue(forceRender) {\n\t\tthis.prop.getValue();\n\t\tthis.cmdf = false;\n\t\tthis.omdf = false;\n\t\tif (this.prop.mdf || forceRender) {\n\t\t\tvar i,\n\t\t\t    len = this.data.p * 4;\n\t\t\tvar mult, val;\n\t\t\tfor (i = 0; i < len; i += 1) {\n\t\t\t\tmult = i % 4 === 0 ? 100 : 255;\n\t\t\t\tval = Math.round(this.prop.v[i] * mult);\n\t\t\t\tif (this.c[i] !== val) {\n\t\t\t\t\tthis.c[i] = val;\n\t\t\t\t\tthis.cmdf = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.o.length) {\n\t\t\t\tlen = this.prop.v.length;\n\t\t\t\tfor (i = this.data.p * 4; i < len; i += 1) {\n\t\t\t\t\tmult = i % 2 === 0 ? 100 : 1;\n\t\t\t\t\tval = i % 2 === 0 ? Math.round(this.prop.v[i] * 100) : this.prop.v[i];\n\t\t\t\t\tif (this.o[i - this.data.p * 4] !== val) {\n\t\t\t\t\t\tthis.o[i - this.data.p * 4] = val;\n\t\t\t\t\t\tthis.omdf = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction gradientProp(elem, data, arr) {\n\t\tthis.prop = getProp(elem, data.k, 1, null, []);\n\t\tthis.data = data;\n\t\tthis.k = this.prop.k;\n\t\tthis.c = Array.apply(null, { length: data.p * 4 });\n\t\tvar cLength = data.k.k[0].s ? data.k.k[0].s.length - data.p * 4 : data.k.k.length - data.p * 4;\n\t\tthis.o = Array.apply(null, { length: cLength });\n\t\tthis.cmdf = false;\n\t\tthis.omdf = false;\n\t\tthis.getValue = getValue;\n\t\tif (this.prop.k) {\n\t\t\tarr.push(this);\n\t\t}\n\t\tthis.getValue(true);\n\t}\n\n\treturn function getGradientProp(elem, data, arr) {\n\t\treturn new gradientProp(elem, data, arr);\n\t};\n}();\n\nvar DashProperty = function () {\n\n\tfunction processKeys(forceRender) {\n\t\tvar i = 0,\n\t\t    len = this.dataProps.length;\n\n\t\tif (this.elem.globalData.frameId === this.frameId && !forceRender) {\n\t\t\treturn;\n\t\t}\n\t\tthis.mdf = false;\n\t\tthis.frameId = this.elem.globalData.frameId;\n\t\twhile (i < len) {\n\t\t\tif (this.dataProps[i].p.mdf) {\n\t\t\t\tthis.mdf = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\ti += 1;\n\t\t}\n\t\tif (this.mdf || forceRender) {\n\t\t\tif (this.renderer === 'svg') {\n\t\t\t\tthis.dasharray = '';\n\t\t\t}\n\t\t\tfor (i = 0; i < len; i += 1) {\n\t\t\t\tif (this.dataProps[i].n != 'o') {\n\t\t\t\t\tif (this.renderer === 'svg') {\n\t\t\t\t\t\tthis.dasharray += ' ' + this.dataProps[i].p.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.dasharray[i] = this.dataProps[i].p.v;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.dashoffset = this.dataProps[i].p.v;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn function (elem, data, renderer, dynamicProperties) {\n\t\tthis.elem = elem;\n\t\tthis.frameId = -1;\n\t\tthis.dataProps = new Array(data.length);\n\t\tthis.renderer = renderer;\n\t\tthis.mdf = false;\n\t\tthis.k = false;\n\t\tif (this.renderer === 'svg') {\n\t\t\tthis.dasharray = '';\n\t\t} else {\n\n\t\t\tthis.dasharray = new Array(data.length - 1);\n\t\t}\n\t\tthis.dashoffset = 0;\n\t\tvar i,\n\t\t    len = data.length,\n\t\t    prop;\n\t\tfor (i = 0; i < len; i += 1) {\n\t\t\tprop = PropertyFactory.getProp(elem, data[i].v, 0, 0, dynamicProperties);\n\t\t\tthis.k = prop.k ? true : this.k;\n\t\t\tthis.dataProps[i] = { n: data[i].n, p: prop };\n\t\t}\n\t\tthis.getValue = processKeys;\n\t\tif (this.k) {\n\t\t\tdynamicProperties.push(this);\n\t\t} else {\n\t\t\tthis.getValue(true);\n\t\t}\n\t};\n}();\n\nfunction getDashProp(elem, data, renderer, dynamicProperties) {\n\treturn new DashProperty(elem, data, renderer, dynamicProperties);\n};\n\nvar TextSelectorProp = function () {\n\tvar max = Math.max;\n\tvar min = Math.min;\n\tvar floor = Math.floor;\n\n\tfunction updateRange() {\n\t\tif (this.dynamicProperties.length) {\n\t\t\tvar i,\n\t\t\t    len = this.dynamicProperties.length;\n\t\t\tfor (i = 0; i < len; i += 1) {\n\t\t\t\tthis.dynamicProperties[i].getValue();\n\t\t\t\tif (this.dynamicProperties[i].mdf) {\n\t\t\t\t\tthis.mdf = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tvar totalChars = this.data.totalChars;\n\t\tvar divisor = this.data.r === 2 ? 1 : 100 / totalChars;\n\t\tvar o = this.o.v / divisor;\n\t\tvar s = this.s.v / divisor + o;\n\t\tvar e = this.e.v / divisor + o;\n\t\tif (s > e) {\n\t\t\tvar _s = s;\n\t\t\ts = e;\n\t\t\te = _s;\n\t\t}\n\t\tthis.finalS = s;\n\t\tthis.finalE = e;\n\t}\n\n\tfunction getMult(ind) {\n\t\t//var easer = bez.getEasingCurve(this.ne.v/100,0,1-this.xe.v/100,1);\n\t\tvar easer = _BezierFactory2.default.getBezierEasing(this.ne.v / 100, 0, 1 - this.xe.v / 100, 1).get;\n\t\tvar mult = 0;\n\t\tvar s = this.finalS;\n\t\tvar e = this.finalE;\n\t\tvar type = this.data.sh;\n\t\tif (type == 2) {\n\t\t\tif (e === s) {\n\t\t\t\tmult = ind >= e ? 1 : 0;\n\t\t\t} else {\n\t\t\t\tmult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n\t\t\t}\n\t\t\tmult = easer(mult);\n\t\t} else if (type == 3) {\n\t\t\tif (e === s) {\n\t\t\t\tmult = ind >= e ? 0 : 1;\n\t\t\t} else {\n\t\t\t\tmult = 1 - max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n\t\t\t}\n\n\t\t\tmult = easer(mult);\n\t\t} else if (type == 4) {\n\t\t\tif (e === s) {\n\t\t\t\tmult = 0;\n\t\t\t} else {\n\t\t\t\tmult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n\t\t\t\tif (mult < .5) {\n\t\t\t\t\tmult *= 2;\n\t\t\t\t} else {\n\t\t\t\t\tmult = 1 - 2 * (mult - 0.5);\n\t\t\t\t}\n\t\t\t}\n\t\t\tmult = easer(mult);\n\t\t} else if (type == 5) {\n\t\t\tif (e === s) {\n\t\t\t\tmult = 0;\n\t\t\t} else {\n\t\t\t\tvar tot = e - s;\n\t\t\t\t/*ind += 0.5;\n     mult = -4/(tot*tot)*(ind*ind)+(4/tot)*ind;*/\n\t\t\t\tind = min(max(0, ind + 0.5 - s), e - s);\n\t\t\t\tvar x = -tot / 2 + ind;\n\t\t\t\tvar a = tot / 2;\n\t\t\t\tmult = Math.sqrt(1 - x * x / (a * a));\n\t\t\t}\n\t\t\tmult = easer(mult);\n\t\t} else if (type == 6) {\n\t\t\tif (e === s) {\n\t\t\t\tmult = 0;\n\t\t\t} else {\n\t\t\t\tind = min(max(0, ind + 0.5 - s), e - s);\n\t\t\t\tmult = (1 + Math.cos(Math.PI + Math.PI * 2 * ind / (e - s))) / 2;\n\t\t\t\t/*\n     ind = Math.min(Math.max(s,ind),e-1);\n     mult = (1+(Math.cos((Math.PI+Math.PI*2*(ind-s)/(e-1-s)))))/2;\n     mult = Math.max(mult,(1/(e-1-s))/(e-1-s));*/\n\t\t\t}\n\t\t\tmult = easer(mult);\n\t\t} else {\n\t\t\tif (ind >= floor(s)) {\n\t\t\t\tif (ind - s < 0) {\n\t\t\t\t\tmult = 1 - (s - ind);\n\t\t\t\t} else {\n\t\t\t\t\tmult = max(0, min(e - ind, 1));\n\t\t\t\t}\n\t\t\t}\n\t\t\tmult = easer(mult);\n\t\t}\n\t\treturn mult * this.a.v;\n\t}\n\n\treturn function TextSelectorProp(elem, data, arr) {\n\t\tthis.mdf = false;\n\t\tthis.k = false;\n\t\tthis.data = data;\n\t\tthis.dynamicProperties = [];\n\t\tthis.getValue = updateRange;\n\t\tthis.getMult = getMult;\n\t\tthis.comp = elem.comp;\n\t\tthis.finalS = 0;\n\t\tthis.finalE = 0;\n\t\tthis.s = PropertyFactory.getProp(elem, data.s || { k: 0 }, 0, 0, this.dynamicProperties);\n\t\tif ('e' in data) {\n\t\t\tthis.e = PropertyFactory.getProp(elem, data.e, 0, 0, this.dynamicProperties);\n\t\t} else {\n\t\t\tthis.e = { v: data.r === 2 ? data.totalChars : 100 };\n\t\t}\n\t\tthis.o = PropertyFactory.getProp(elem, data.o || { k: 0 }, 0, 0, this.dynamicProperties);\n\t\tthis.xe = PropertyFactory.getProp(elem, data.xe || { k: 0 }, 0, 0, this.dynamicProperties);\n\t\tthis.ne = PropertyFactory.getProp(elem, data.ne || { k: 0 }, 0, 0, this.dynamicProperties);\n\t\tthis.a = PropertyFactory.getProp(elem, data.a, 0, 0.01, this.dynamicProperties);\n\t\tif (this.dynamicProperties.length) {\n\t\t\tarr.push(this);\n\t\t} else {\n\t\t\tthis.getValue();\n\t\t}\n\t};\n}();\n\nfunction getTextSelectorProp(elem, data, arr) {\n\treturn new TextSelectorProp(elem, data, arr);\n}\n\nfunction PropertyFactory() {\n\tthrow new Error('this can not be newed');\n}\n\nPropertyFactory.getProp = getProp;\nPropertyFactory.getDashProp = getDashProp;\nPropertyFactory.getTextSelectorProp = getTextSelectorProp;\nPropertyFactory.getGradientProp = getGradientProp;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar ShapeModifiers = function () {\n    var ob = {};\n    var modifiers = {};\n\n    var registerModifier = function registerModifier(nm, factory) {\n        if (!modifiers[nm]) {\n            modifiers[nm] = factory;\n        }\n    };\n\n    var getModifier = function getModifier(nm, elem, data, dynamicProperties) {\n        return new modifiers[nm](elem, data, dynamicProperties);\n    };\n\n    ob.registerModifier = registerModifier;\n    ob.getModifier = getModifier;\n\n    return ob;\n}();\n\nfunction ShapeModifier() {}\nShapeModifier.prototype.initModifierProperties = function () {};\nShapeModifier.prototype.addShapeToModifier = function () {};\nShapeModifier.prototype.addShape = function (shape) {\n    if (!this.closed) {\n        this.shapes.push({ shape: shape, last: [] });\n        this.addShapeToModifier(shape);\n    }\n};\nShapeModifier.prototype.init = function (elem, data, dynamicProperties) {\n    this.elem = elem;\n    this.frameId = -1;\n    this.shapes = [];\n    this.dynamicProperties = [];\n    this.mdf = false;\n    this.closed = false;\n    this.k = false;\n    this.isTrimming = false;\n    this.comp = elem.comp;\n    this.initModifierProperties(elem, data);\n    if (this.dynamicProperties.length) {\n        this.k = true;\n        dynamicProperties.push(this);\n    } else {\n        this.getValue(true);\n    }\n};\n\nexports.ShapeModifier = ShapeModifier;\nexports.ShapeModifiers = ShapeModifiers;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _TrimModifier = __webpack_require__(27);\n\nvar _TrimModifier2 = _interopRequireDefault(_TrimModifier);\n\nvar _MouseModifier = __webpack_require__(25);\n\nvar _MouseModifier2 = _interopRequireDefault(_MouseModifier);\n\nvar _RoundCornersModifier = __webpack_require__(26);\n\nvar _RoundCornersModifier2 = _interopRequireDefault(_RoundCornersModifier);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar BaseRenderer = function () {\n\tfunction BaseRenderer() {\n\t\t_classCallCheck(this, BaseRenderer);\n\t}\n\n\t_createClass(BaseRenderer, [{\n\t\tkey: \"checkLayers\",\n\t\tvalue: function checkLayers(num) {\n\t\t\tvar i,\n\t\t\t    len = this.layers.length,\n\t\t\t    data;\n\t\t\tthis.completeLayers = true;\n\t\t\tfor (i = len - 1; i >= 0; i--) {\n\t\t\t\tif (!this.elements[i]) {\n\t\t\t\t\tdata = this.layers[i];\n\t\t\t\t\tif (data.ip - data.st <= num - this.layers[i].st && data.op - data.st > num - this.layers[i].st) {\n\t\t\t\t\t\tthis.buildItem(i);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.completeLayers = this.elements[i] ? this.completeLayers : false;\n\t\t\t}\n\t\t\tthis.checkPendingElements();\n\t\t}\n\t}, {\n\t\tkey: \"createItem\",\n\t\tvalue: function createItem(layer) {\n\t\t\tswitch (layer.ty) {\n\t\t\t\tcase 2:\n\t\t\t\t\treturn this.createImage(layer);\n\t\t\t\tcase 0:\n\t\t\t\t\treturn this.createComp(layer);\n\t\t\t\tcase 1:\n\t\t\t\t\treturn this.createSolid(layer);\n\t\t\t\tcase 4:\n\t\t\t\t\treturn this.createShape(layer);\n\t\t\t\tcase 5:\n\t\t\t\t\treturn this.createText(layer);\n\t\t\t\tcase 99:\n\t\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn this.createBase(layer);\n\t\t}\n\t}, {\n\t\tkey: \"buildAllItems\",\n\t\tvalue: function buildAllItems() {\n\t\t\tvar i,\n\t\t\t    len = this.layers.length;\n\t\t\tfor (i = 0; i < len; i += 1) {\n\t\t\t\tthis.buildItem(i);\n\t\t\t}\n\t\t\tthis.checkPendingElements();\n\t\t}\n\t}, {\n\t\tkey: \"includeLayers\",\n\t\tvalue: function includeLayers(newLayers) {\n\t\t\tthis.completeLayers = false;\n\t\t\tvar i,\n\t\t\t    len = newLayers.length;\n\t\t\tvar j,\n\t\t\t    jLen = this.layers.length;\n\t\t\tfor (i = 0; i < len; i += 1) {\n\t\t\t\tj = 0;\n\t\t\t\twhile (j < jLen) {\n\t\t\t\t\tif (this.layers[j].id == newLayers[i].id) {\n\t\t\t\t\t\tthis.layers[j] = newLayers[i];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tj += 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"setProjectInterface\",\n\t\tvalue: function setProjectInterface(pInterface) {\n\t\t\tthis.globalData.projectInterface = pInterface;\n\t\t}\n\t}, {\n\t\tkey: \"initItems\",\n\t\tvalue: function initItems() {\n\t\t\tif (!this.globalData.progressiveLoad) {\n\t\t\t\tthis.buildAllItems();\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"buildElementParenting\",\n\t\tvalue: function buildElementParenting(element, parentName, hierarchy) {\n\t\t\thierarchy = hierarchy || [];\n\t\t\tvar elements = this.elements;\n\t\t\tvar layers = this.layers;\n\t\t\tvar i = 0,\n\t\t\t    len = layers.length;\n\t\t\twhile (i < len) {\n\t\t\t\tif (layers[i].ind == parentName) {\n\t\t\t\t\tif (!elements[i] || elements[i] === true) {\n\t\t\t\t\t\tthis.buildItem(i);\n\t\t\t\t\t\tthis.addPendingElement(element);\n\t\t\t\t\t} else if (layers[i].parent !== undefined) {\n\t\t\t\t\t\thierarchy.push(elements[i]);\n\t\t\t\t\t\telements[i]._isParent = true;\n\t\t\t\t\t\tthis.buildElementParenting(element, layers[i].parent, hierarchy);\n\t\t\t\t\t} else {\n\t\t\t\t\t\thierarchy.push(elements[i]);\n\t\t\t\t\t\telements[i]._isParent = true;\n\t\t\t\t\t\telement.setHierarchy(hierarchy);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ti += 1;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"addPendingElement\",\n\t\tvalue: function addPendingElement(element) {\n\t\t\tthis.pendingElements.push(element);\n\t\t}\n\t}]);\n\n\treturn BaseRenderer;\n}();\n\nexports.default = BaseRenderer;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _common = __webpack_require__(0);\n\nvar _BaseRenderer2 = __webpack_require__(4);\n\nvar _BaseRenderer3 = _interopRequireDefault(_BaseRenderer2);\n\nvar _FontManager = __webpack_require__(23);\n\nvar _FontManager2 = _interopRequireDefault(_FontManager);\n\nvar _SVGBaseElement = __webpack_require__(1);\n\nvar _SVGBaseElement2 = _interopRequireDefault(_SVGBaseElement);\n\nvar _ShapeElement = __webpack_require__(16);\n\nvar _ShapeElement2 = _interopRequireDefault(_ShapeElement);\n\nvar _SVGTextElement = __webpack_require__(19);\n\nvar _SVGTextElement2 = _interopRequireDefault(_SVGTextElement);\n\nvar _ImageElement = __webpack_require__(8);\n\nvar _ImageElement2 = _interopRequireDefault(_ImageElement);\n\nvar _CompElement = __webpack_require__(14);\n\nvar _CompElement2 = _interopRequireDefault(_CompElement);\n\nvar _SolidElement = __webpack_require__(17);\n\nvar _SolidElement2 = _interopRequireDefault(_SolidElement);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SVGRenderer = function (_BaseRenderer) {\n\t_inherits(SVGRenderer, _BaseRenderer);\n\n\tfunction SVGRenderer(animationItem, config) {\n\t\t_classCallCheck(this, SVGRenderer);\n\n\t\tvar _this = _possibleConstructorReturn(this, (SVGRenderer.__proto__ || Object.getPrototypeOf(SVGRenderer)).call(this));\n\n\t\t_this.animationItem = animationItem;\n\t\t_this.layers = null;\n\t\t_this.renderedFrame = -1;\n\t\t_this.globalData = {\n\t\t\tframeNum: -1\n\t\t};\n\t\t_this.renderConfig = {\n\t\t\tpreserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet',\n\t\t\tprogressiveLoad: config && config.progressiveLoad || false\n\t\t};\n\t\t_this.elements = [];\n\t\t_this.pendingElements = [];\n\t\t_this.destroyed = false;\n\n\t\treturn _this;\n\t}\n\n\t_createClass(SVGRenderer, [{\n\t\tkey: \"createBase\",\n\t\tvalue: function createBase(data) {\n\t\t\treturn new _SVGBaseElement2.default(data, this.layerElement, this.globalData, this);\n\t\t}\n\t}, {\n\t\tkey: \"createShape\",\n\t\tvalue: function createShape(data) {\n\t\t\treturn new _ShapeElement2.default(data, this.layerElement, this.globalData, this);\n\t\t}\n\t}, {\n\t\tkey: \"createText\",\n\t\tvalue: function createText(data) {\n\t\t\treturn new _SVGTextElement2.default(data, this.layerElement, this.globalData, this);\n\t\t}\n\t}, {\n\t\tkey: \"createImage\",\n\t\tvalue: function createImage(data) {\n\t\t\treturn new _ImageElement2.default(data, this.layerElement, this.globalData, this);\n\t\t}\n\t}, {\n\t\tkey: \"createComp\",\n\t\tvalue: function createComp(data) {\n\t\t\treturn new _CompElement2.default(data, this.layerElement, this.globalData, this);\n\t\t}\n\t}, {\n\t\tkey: \"createSolid\",\n\t\tvalue: function createSolid(data) {\n\t\t\treturn new _SolidElement2.default(data, this.layerElement, this.globalData, this);\n\t\t}\n\t}, {\n\t\tkey: \"configAnimation\",\n\t\tvalue: function configAnimation(animData) {\n\t\t\tthis.layerElement = document.createElementNS(_common.svgNS, 'svg');\n\t\t\tthis.layerElement.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n\t\t\tthis.layerElement.setAttribute('width', animData.w);\n\t\t\tthis.layerElement.setAttribute('height', animData.h);\n\t\t\tthis.layerElement.setAttribute('viewBox', '0 0 ' + animData.w + ' ' + animData.h);\n\t\t\tthis.layerElement.setAttribute('preserveAspectRatio', this.renderConfig.preserveAspectRatio);\n\t\t\tthis.layerElement.style.width = '100%';\n\t\t\tthis.layerElement.style.height = '100%';\n\t\t\t//this.layerElement.style.transform = 'translate3d(0,0,0)';\n\t\t\t//this.layerElement.style.transformOrigin = this.layerElement.style.mozTransformOrigin = this.layerElement.style.webkitTransformOrigin = this.layerElement.style['-webkit-transform'] = \"0px 0px 0px\";\n\t\t\tthis.animationItem.wrapper.appendChild(this.layerElement);\n\t\t\t//Mask animation\n\t\t\tvar defs = document.createElementNS(_common.svgNS, 'defs');\n\t\t\tthis.globalData.defs = defs;\n\t\t\tthis.layerElement.appendChild(defs);\n\t\t\tthis.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\n\t\t\tthis.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\n\t\t\tthis.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\n\t\t\tthis.globalData.frameId = 0;\n\t\t\tthis.globalData.nm = animData.nm;\n\t\t\tthis.globalData.compSize = {\n\t\t\t\tw: animData.w,\n\t\t\t\th: animData.h\n\t\t\t};\n\t\t\tthis.data = animData;\n\t\t\tthis.globalData.frameRate = animData.fr;\n\t\t\tvar maskElement = document.createElementNS(_common.svgNS, 'clipPath');\n\t\t\tvar rect = document.createElementNS(_common.svgNS, 'rect');\n\t\t\trect.setAttribute('width', animData.w);\n\t\t\trect.setAttribute('height', animData.h);\n\t\t\trect.setAttribute('x', 0);\n\t\t\trect.setAttribute('y', 0);\n\t\t\tvar maskId = 'animationMask_' + (0, _common.randomString)(10);\n\t\t\tmaskElement.setAttribute('id', maskId);\n\t\t\tmaskElement.appendChild(rect);\n\t\t\tvar maskedElement = document.createElementNS(_common.svgNS, 'g');\n\t\t\tmaskedElement.setAttribute(\"clip-path\", \"url(#\" + maskId + \")\");\n\t\t\tthis.layerElement.appendChild(maskedElement);\n\t\t\tdefs.appendChild(maskElement);\n\t\t\tthis.layerElement = maskedElement;\n\t\t\tthis.layers = animData.layers;\n\t\t\tthis.globalData.fontManager = new _FontManager2.default();\n\t\t\tthis.globalData.fontManager.addChars(animData.chars);\n\t\t\tthis.globalData.fontManager.addFonts(animData.fonts, defs);\n\t\t\tthis.elements = Array.apply(null, { length: animData.layers.length });\n\t\t}\n\t}, {\n\t\tkey: \"destroy\",\n\t\tvalue: function destroy() {\n\t\t\tthis.animationItem.wrapper.innerHTML = '';\n\t\t\tthis.layerElement = null;\n\t\t\tthis.globalData.defs = null;\n\t\t\tvar i,\n\t\t\t    len = this.layers ? this.layers.length : 0;\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tif (this.elements[i]) {\n\t\t\t\t\tthis.elements[i].destroy();\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.elements.length = 0;\n\t\t\tthis.destroyed = true;\n\t\t\tthis.animationItem = null;\n\t\t}\n\t}, {\n\t\tkey: \"updateContainerSize\",\n\t\tvalue: function updateContainerSize() {}\n\t}, {\n\t\tkey: \"buildItem\",\n\t\tvalue: function buildItem(pos) {\n\t\t\tvar elements = this.elements;\n\t\t\tif (elements[pos] || this.layers[pos].ty == 99) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telements[pos] = true;\n\t\t\tvar element = this.createItem(this.layers[pos]);\n\n\t\t\telements[pos] = element;\n\t\t\tif (_common.expressionsPlugin) {\n\t\t\t\tif (this.layers[pos].ty === 0) {\n\t\t\t\t\tthis.globalData.projectInterface.registerComposition(element);\n\t\t\t\t}\n\t\t\t\telement.initExpressions();\n\t\t\t}\n\t\t\tthis.appendElementInPos(element, pos);\n\t\t\tif (this.layers[pos].tt) {\n\t\t\t\tif (!this.elements[pos - 1] || this.elements[pos - 1] === true) {\n\t\t\t\t\tthis.buildItem(pos - 1);\n\t\t\t\t\tthis.addPendingElement(element);\n\t\t\t\t} else {\n\t\t\t\t\telement.setMatte(elements[pos - 1].layerId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"checkPendingElements\",\n\t\tvalue: function checkPendingElements() {\n\t\t\twhile (this.pendingElements.length) {\n\t\t\t\tvar element = this.pendingElements.pop();\n\t\t\t\telement.checkParenting();\n\t\t\t\tif (element.data.tt) {\n\t\t\t\t\tvar i = 0,\n\t\t\t\t\t    len = this.elements.length;\n\t\t\t\t\twhile (i < len) {\n\t\t\t\t\t\tif (this.elements[i] === element) {\n\t\t\t\t\t\t\telement.setMatte(this.elements[i - 1].layerId);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ti += 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"renderFrame\",\n\t\tvalue: function renderFrame(num) {\n\t\t\tif (this.renderedFrame == num || this.destroyed) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (num === null) {\n\t\t\t\tnum = this.renderedFrame;\n\t\t\t} else {\n\t\t\t\tthis.renderedFrame = num;\n\t\t\t}\n\t\t\t//clearPoints();\n\t\t\t/*console.log('-------');\n    console.log('FRAME ',num);*/\n\t\t\tthis.globalData.frameNum = num;\n\t\t\tthis.globalData.frameId += 1;\n\t\t\tthis.globalData.projectInterface.currentFrame = num;\n\t\t\tvar i,\n\t\t\t    len = this.layers.length;\n\t\t\tif (!this.completeLayers) {\n\t\t\t\tthis.checkLayers(num);\n\t\t\t}\n\t\t\tfor (i = len - 1; i >= 0; i--) {\n\t\t\t\tif (this.completeLayers || this.elements[i]) {\n\t\t\t\t\tthis.elements[i].prepareFrame(num - this.layers[i].st);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (i = len - 1; i >= 0; i--) {\n\t\t\t\tif (this.completeLayers || this.elements[i]) {\n\t\t\t\t\tthis.elements[i].renderFrame();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"appendElementInPos\",\n\t\tvalue: function appendElementInPos(element, pos) {\n\t\t\tvar newElement = element.getBaseElement();\n\t\t\tif (!newElement) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar i = 0;\n\t\t\tvar nextElement;\n\t\t\twhile (i < pos) {\n\t\t\t\tif (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement()) {\n\t\t\t\t\tnextElement = this.elements[i].getBaseElement();\n\t\t\t\t}\n\t\t\t\ti += 1;\n\t\t\t}\n\t\t\tif (nextElement) {\n\t\t\t\tthis.layerElement.insertBefore(newElement, nextElement);\n\t\t\t} else {\n\t\t\t\tthis.layerElement.appendChild(newElement);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"hide\",\n\t\tvalue: function hide() {\n\t\t\tthis.layerElement.style.display = 'none';\n\t\t}\n\t}, {\n\t\tkey: \"show\",\n\t\tvalue: function show() {\n\t\t\tthis.layerElement.style.display = 'block';\n\t\t}\n\t}, {\n\t\tkey: \"searchExtraCompositions\",\n\t\tvalue: function searchExtraCompositions(assets) {\n\t\t\tvar i,\n\t\t\t    len = assets.length;\n\t\t\tvar floatingContainer = document.createElementNS(_common.svgNS, 'g');\n\t\t\tfor (i = 0; i < len; i += 1) {\n\t\t\t\tif (assets[i].xt) {\n\t\t\t\t\tvar comp = this.createComp(assets[i], floatingContainer, this.globalData.comp, null);\n\t\t\t\t\tcomp.initExpressions();\n\t\t\t\t\t//comp.compInterface = CompExpressionInterface(comp);\n\t\t\t\t\t//Expressions.addLayersInterface(comp.elements, this.globalData.projectInterface);\n\t\t\t\t\tthis.globalData.projectInterface.registerComposition(comp);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}]);\n\n\treturn SVGRenderer;\n}(_BaseRenderer3.default);\n\nexports.default = SVGRenderer;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar BezierFactory = function () {\n    /**\n     * BezierEasing - use bezier curve for transition easing function\n     * by Gaëtan Renaudeau 2014 - 2015 – MIT License\n     *\n     * Credits: is based on Firefox's nsSMILKeySpline.cpp\n     * Usage:\n     * var spline = BezierEasing([ 0.25, 0.1, 0.25, 1.0 ])\n     * spline.get(x) => returns the easing value | x must be in [0, 1] range\n     *\n     */\n\n    var ob = {};\n    ob.getBezierEasing = getBezierEasing;\n    var beziers = {};\n\n    function getBezierEasing(a, b, c, d, nm) {\n        var str = nm || ('bez_' + a + '_' + b + '_' + c + '_' + d).replace(/\\./g, 'p');\n        if (beziers[str]) {\n            return beziers[str];\n        }\n        var bezEasing = new BezierEasing([a, b, c, d]);\n        beziers[str] = bezEasing;\n        return bezEasing;\n    }\n\n    // These values are established by empiricism with tests (tradeoff: performance VS precision)\n    var NEWTON_ITERATIONS = 4;\n    var NEWTON_MIN_SLOPE = 0.001;\n    var SUBDIVISION_PRECISION = 0.0000001;\n    var SUBDIVISION_MAX_ITERATIONS = 10;\n\n    var kSplineTableSize = 11;\n    var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\n    var float32ArraySupported = typeof Float32Array === \"function\";\n\n    function A(aA1, aA2) {\n        return 1.0 - 3.0 * aA2 + 3.0 * aA1;\n    }\n    function B(aA1, aA2) {\n        return 3.0 * aA2 - 6.0 * aA1;\n    }\n    function C(aA1) {\n        return 3.0 * aA1;\n    }\n\n    // Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\n    function calcBezier(aT, aA1, aA2) {\n        return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\n    }\n\n    // Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\n    function getSlope(aT, aA1, aA2) {\n        return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\n    }\n\n    function binarySubdivide(aX, aA, aB, mX1, mX2) {\n        var currentX,\n            currentT,\n            i = 0;\n        do {\n            currentT = aA + (aB - aA) / 2.0;\n            currentX = calcBezier(currentT, mX1, mX2) - aX;\n            if (currentX > 0.0) {\n                aB = currentT;\n            } else {\n                aA = currentT;\n            }\n        } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n        return currentT;\n    }\n\n    function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n        for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\n            var currentSlope = getSlope(aGuessT, mX1, mX2);\n            if (currentSlope === 0.0) return aGuessT;\n            var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n            aGuessT -= currentX / currentSlope;\n        }\n        return aGuessT;\n    }\n\n    /**\n     * points is an array of [ mX1, mY1, mX2, mY2 ]\n     */\n    function BezierEasing(points) {\n        this._p = points;\n        this._mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n        this._precomputed = false;\n\n        this.get = this.get.bind(this);\n    }\n\n    BezierEasing.prototype = {\n\n        get: function get(x) {\n            var mX1 = this._p[0],\n                mY1 = this._p[1],\n                mX2 = this._p[2],\n                mY2 = this._p[3];\n            if (!this._precomputed) this._precompute();\n            if (mX1 === mY1 && mX2 === mY2) return x; // linear\n            // Because JavaScript number are imprecise, we should guarantee the extremes are right.\n            if (x === 0) return 0;\n            if (x === 1) return 1;\n            return calcBezier(this._getTForX(x), mY1, mY2);\n        },\n\n        // Private part\n\n        _precompute: function _precompute() {\n            var mX1 = this._p[0],\n                mY1 = this._p[1],\n                mX2 = this._p[2],\n                mY2 = this._p[3];\n            this._precomputed = true;\n            if (mX1 !== mY1 || mX2 !== mY2) this._calcSampleValues();\n        },\n\n        _calcSampleValues: function _calcSampleValues() {\n            var mX1 = this._p[0],\n                mX2 = this._p[2];\n            for (var i = 0; i < kSplineTableSize; ++i) {\n                this._mSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n            }\n        },\n\n        /**\n         * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.\n         */\n        _getTForX: function _getTForX(aX) {\n            var mX1 = this._p[0],\n                mX2 = this._p[2],\n                mSampleValues = this._mSampleValues;\n\n            var intervalStart = 0.0;\n            var currentSample = 1;\n            var lastSample = kSplineTableSize - 1;\n\n            for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\n                intervalStart += kSampleStepSize;\n            }\n            --currentSample;\n\n            // Interpolate to provide an initial guess for t\n            var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample + 1] - mSampleValues[currentSample]);\n            var guessForT = intervalStart + dist * kSampleStepSize;\n\n            var initialSlope = getSlope(guessForT, mX1, mX2);\n            if (initialSlope >= NEWTON_MIN_SLOPE) {\n                return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n            } else if (initialSlope === 0.0) {\n                return guessForT;\n            } else {\n                return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n            }\n        }\n    };\n\n    return ob;\n}();\n\nexports.default = BezierFactory;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = Matrix;\n/*!\n Transformation Matrix v2.0\n (c) Epistemex 2014-2015\n www.epistemex.com\n By Ken Fyrstenberg\n Contributions by leeoniya.\n License: MIT, header required.\n */\n\n/**\n * 2D transformation matrix object initialized with identity matrix.\n *\n * The matrix can synchronize a canvas context by supplying the context\n * as an argument, or later apply current absolute transform to an\n * existing context.\n *\n * All values are handled as floating point values.\n *\n * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\n * @prop {number} a - scale x\n * @prop {number} b - shear y\n * @prop {number} c - shear x\n * @prop {number} d - scale y\n * @prop {number} e - translate x\n * @prop {number} f - translate y\n * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\n * @constructor\n */\n\nfunction reset() {\n    this.props[0] = 1;\n    this.props[1] = 0;\n    this.props[2] = 0;\n    this.props[3] = 0;\n    this.props[4] = 0;\n    this.props[5] = 1;\n    this.props[6] = 0;\n    this.props[7] = 0;\n    this.props[8] = 0;\n    this.props[9] = 0;\n    this.props[10] = 1;\n    this.props[11] = 0;\n    this.props[12] = 0;\n    this.props[13] = 0;\n    this.props[14] = 0;\n    this.props[15] = 1;\n    return this;\n}\n\nfunction rotate(angle) {\n    if (angle === 0) {\n        return this;\n    }\n    var mCos = Math.cos(angle);\n    var mSin = Math.sin(angle);\n    return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n}\n\nfunction rotateX(angle) {\n    if (angle === 0) {\n        return this;\n    }\n    var mCos = Math.cos(angle);\n    var mSin = Math.sin(angle);\n    return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1);\n}\n\nfunction rotateY(angle) {\n    if (angle === 0) {\n        return this;\n    }\n    var mCos = Math.cos(angle);\n    var mSin = Math.sin(angle);\n    return this._t(mCos, 0, mSin, 0, 0, 1, 0, 0, -mSin, 0, mCos, 0, 0, 0, 0, 1);\n}\n\nfunction rotateZ(angle) {\n    if (angle === 0) {\n        return this;\n    }\n    var mCos = Math.cos(angle);\n    var mSin = Math.sin(angle);\n    return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n}\n\nfunction shear(sx, sy) {\n    return this._t(1, sy, sx, 1, 0, 0);\n}\n\nfunction skew(ax, ay) {\n    return this.shear(Math.tan(ax), Math.tan(ay));\n}\n\nfunction skewFromAxis(ax, angle) {\n    var mCos = Math.cos(angle);\n    var mSin = Math.sin(angle);\n    return this._t(mCos, mSin, 0, 0, -mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(1, 0, 0, 0, Math.tan(ax), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    //return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, Math.tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\n}\n\nfunction scale(sx, sy, sz) {\n    sz = isNaN(sz) ? 1 : sz;\n    if (sx == 1 && sy == 1 && sz == 1) {\n        return this;\n    }\n    return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\n}\n\nfunction setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\n    this.props[0] = a;\n    this.props[1] = b;\n    this.props[2] = c;\n    this.props[3] = d;\n    this.props[4] = e;\n    this.props[5] = f;\n    this.props[6] = g;\n    this.props[7] = h;\n    this.props[8] = i;\n    this.props[9] = j;\n    this.props[10] = k;\n    this.props[11] = l;\n    this.props[12] = m;\n    this.props[13] = n;\n    this.props[14] = o;\n    this.props[15] = p;\n    return this;\n}\n\nfunction translate(tx, ty, tz) {\n    tz = tz || 0;\n    if (tx !== 0 || ty !== 0 || tz !== 0) {\n        return this._t(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1);\n    }\n    return this;\n}\n\nfunction transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\n\n    if (a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0) {\n        if (m2 !== 0 || n2 !== 0 || o2 !== 0) {\n\n            this.props[12] = this.props[12] * a2 + this.props[13] * e2 + this.props[14] * i2 + this.props[15] * m2;\n            this.props[13] = this.props[12] * b2 + this.props[13] * f2 + this.props[14] * j2 + this.props[15] * n2;\n            this.props[14] = this.props[12] * c2 + this.props[13] * g2 + this.props[14] * k2 + this.props[15] * o2;\n            this.props[15] = this.props[12] * d2 + this.props[13] * h2 + this.props[14] * l2 + this.props[15] * p2;\n        }\n        return this;\n    }\n\n    var a1 = this.props[0];\n    var b1 = this.props[1];\n    var c1 = this.props[2];\n    var d1 = this.props[3];\n    var e1 = this.props[4];\n    var f1 = this.props[5];\n    var g1 = this.props[6];\n    var h1 = this.props[7];\n    var i1 = this.props[8];\n    var j1 = this.props[9];\n    var k1 = this.props[10];\n    var l1 = this.props[11];\n    var m1 = this.props[12];\n    var n1 = this.props[13];\n    var o1 = this.props[14];\n    var p1 = this.props[15];\n\n    /* matrix order (canvas compatible):\n     * ace\n     * bdf\n     * 001\n     */\n    this.props[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\n    this.props[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2;\n    this.props[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2;\n    this.props[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2;\n\n    this.props[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2;\n    this.props[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2;\n    this.props[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2;\n    this.props[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2;\n\n    this.props[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2;\n    this.props[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2;\n    this.props[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2;\n    this.props[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2;\n\n    this.props[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2;\n    this.props[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2;\n    this.props[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2;\n    this.props[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2;\n\n    return this;\n}\n\nfunction clone(matr) {\n    var i;\n    for (i = 0; i < 16; i += 1) {\n        matr.props[i] = this.props[i];\n    }\n}\n\nfunction cloneFromProps(props) {\n    var i;\n    for (i = 0; i < 16; i += 1) {\n        this.props[i] = props[i];\n    }\n}\n\nfunction applyToPoint(x, y, z) {\n\n    return {\n        x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\n        y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\n        z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]\n    };\n    /*return {\n     x: x * me.a + y * me.c + me.e,\n     y: x * me.b + y * me.d + me.f\n     };*/\n}\nfunction applyToX(x, y, z) {\n    return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\n}\nfunction applyToY(x, y, z) {\n    return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\n}\nfunction applyToZ(x, y, z) {\n    return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\n}\n\nfunction inversePoints(pts) {\n    //var determinant = this.a * this.d - this.b * this.c;\n    var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\n    var a = this.props[5] / determinant;\n    var b = -this.props[1] / determinant;\n    var c = -this.props[4] / determinant;\n    var d = this.props[0] / determinant;\n    var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12]) / determinant;\n    var f = -(this.props[0] * this.props[13] - this.props[1] * this.props[12]) / determinant;\n    var i,\n        len = pts.length,\n        retPts = [];\n    for (i = 0; i < len; i += 1) {\n        retPts[i] = [pts[i][0] * a + pts[i][1] * c + e, pts[i][0] * b + pts[i][1] * d + f, 0];\n    }\n    return retPts;\n}\n\nfunction applyToPointArray(x, y, z) {\n    return [x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12], x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13], x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]];\n}\nfunction applyToPointStringified(x, y) {\n    return bm_rnd(x * this.props[0] + y * this.props[4] + this.props[12]) + ',' + bm_rnd(x * this.props[1] + y * this.props[5] + this.props[13]);\n}\n\nfunction toArray() {\n    return [this.props[0], this.props[1], this.props[2], this.props[3], this.props[4], this.props[5], this.props[6], this.props[7], this.props[8], this.props[9], this.props[10], this.props[11], this.props[12], this.props[13], this.props[14], this.props[15]];\n}\n\nfunction toCSS() {\n    if (isSafari) {\n        return \"matrix3d(\" + roundTo2Decimals(this.props[0]) + ',' + roundTo2Decimals(this.props[1]) + ',' + roundTo2Decimals(this.props[2]) + ',' + roundTo2Decimals(this.props[3]) + ',' + roundTo2Decimals(this.props[4]) + ',' + roundTo2Decimals(this.props[5]) + ',' + roundTo2Decimals(this.props[6]) + ',' + roundTo2Decimals(this.props[7]) + ',' + roundTo2Decimals(this.props[8]) + ',' + roundTo2Decimals(this.props[9]) + ',' + roundTo2Decimals(this.props[10]) + ',' + roundTo2Decimals(this.props[11]) + ',' + roundTo2Decimals(this.props[12]) + ',' + roundTo2Decimals(this.props[13]) + ',' + roundTo2Decimals(this.props[14]) + ',' + roundTo2Decimals(this.props[15]) + ')';\n    } else {\n        this.cssParts[1] = this.props.join(',');\n        return this.cssParts.join('');\n    }\n}\n\nfunction to2dCSS() {\n    return \"matrix(\" + this.props[0] + ',' + this.props[1] + ',' + this.props[4] + ',' + this.props[5] + ',' + this.props[12] + ',' + this.props[13] + \")\";\n}\n\nfunction toString() {\n    return \"\" + this.toArray();\n}\n\nfunction Matrix() {\n    this.reset = reset;\n    this.rotate = rotate;\n    this.rotateX = rotateX;\n    this.rotateY = rotateY;\n    this.rotateZ = rotateZ;\n    this.skew = skew;\n    this.skewFromAxis = skewFromAxis;\n    this.shear = shear;\n    this.scale = scale;\n    this.setTransform = setTransform;\n    this.translate = translate;\n    this.transform = transform;\n    this.applyToPoint = applyToPoint;\n    this.applyToX = applyToX;\n    this.applyToY = applyToY;\n    this.applyToZ = applyToZ;\n    this.applyToPointArray = applyToPointArray;\n    this.applyToPointStringified = applyToPointStringified;\n    this.toArray = toArray;\n    this.toCSS = toCSS;\n    this.to2dCSS = to2dCSS;\n    this.toString = toString;\n    this.clone = clone;\n    this.cloneFromProps = cloneFromProps;\n    this.inversePoints = inversePoints;\n    this._t = this.transform;\n\n    this.props = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n\n    this.cssParts = ['matrix3d(', '', ')'];\n}\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = ImageElement;\n\nvar _common = __webpack_require__(0);\n\nvar _SVGBaseElement = __webpack_require__(1);\n\nvar _SVGBaseElement2 = _interopRequireDefault(_SVGBaseElement);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ImageElement(data, parentContainer, globalData, comp, placeholder) {\n    this.assetData = globalData.getAssetData(data.refId);\n    this._parent.constructor.call(this, data, parentContainer, globalData, comp, placeholder);\n}\n(0, _common.createElement)(_SVGBaseElement2.default, ImageElement);\n\nImageElement.prototype.createElements = function () {\n\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n\n    this._parent.createElements.call(this);\n\n    this.innerElem = document.createElementNS(svgNS, 'image');\n    this.innerElem.setAttribute('width', this.assetData.w + \"px\");\n    this.innerElem.setAttribute('height', this.assetData.h + \"px\");\n    this.innerElem.setAttribute('preserveAspectRatio', 'xMidYMid slice');\n    this.innerElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\n    this.maskedElement = this.innerElem;\n    this.layerElement.appendChild(this.innerElem);\n    if (this.data.ln) {\n        this.layerElement.setAttribute('id', this.data.ln);\n    }\n    if (this.data.cl) {\n        this.layerElement.setAttribute('class', this.data.cl);\n    }\n};\n\nImageElement.prototype.hide = function () {\n    if (!this.hidden) {\n        this.layerElement.style.display = 'none';\n        this.hidden = true;\n    }\n};\n\nImageElement.prototype.renderFrame = function (parentMatrix) {\n    var renderParent = this._parent.renderFrame.call(this, parentMatrix);\n    if (renderParent === false) {\n        this.hide();\n        return;\n    }\n    if (this.hidden) {\n        this.hidden = false;\n        this.layerElement.style.display = 'block';\n    }\n    if (this.firstFrame) {\n        this.firstFrame = false;\n    }\n};\n\nImageElement.prototype.destroy = function () {\n    this._parent.destroy.call(this._parent);\n    this.innerElem = null;\n};\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _common = __webpack_require__(0);\n\nfunction bezFunction() {\n\n    var easingFunctions = [];\n    var math = Math;\n\n    function pointOnLine2D(x1, y1, x2, y2, x3, y3) {\n        var det1 = x1 * y2 + y1 * x3 + x2 * y3 - x3 * y2 - y3 * x1 - x2 * y1;\n        return det1 > -0.0001 && det1 < 0.0001;\n    }\n\n    function pointOnLine3D(x1, y1, z1, x2, y2, z2, x3, y3, z3) {\n        return pointOnLine2D(x1, y1, x2, y2, x3, y3) && pointOnLine2D(x1, z1, x2, z2, x3, z3);\n    }\n\n    /*function getEasingCurve(aa,bb,cc,dd,encodedFuncName) {\n        if(!encodedFuncName){\n            encodedFuncName = ('bez_' + aa+'_'+bb+'_'+cc+'_'+dd).replace(/\\./g, 'p');\n        }\n        if(easingFunctions[encodedFuncName]){\n            return easingFunctions[encodedFuncName];\n        }\n        var A0, B0, C0;\n        var A1, B1, C1;\n        easingFunctions[encodedFuncName] = function(tt) {\n            var x = tt;\n            var i = 0, z;\n            while (++i < 20) {\n                C0 = 3 * aa;\n                B0 = 3 * (cc - aa) - C0;\n                A0 = 1 - C0 - B0;\n                z = (x * (C0 + x * (B0 + x * A0))) - tt;\n                if (bm_abs(z) < 1e-3) break;\n                x -= z / (C0 + x * (2 * B0 + 3 * A0 * x));\n            }\n            C1 = 3 * bb;\n            B1 = 3 * (dd - bb) - C1;\n            A1 = 1 - C1 - B1;\n            var polyB = x * (C1 + x * (B1 + x * A1));\n            //return c * polyB + b;\n            return polyB;\n        };\n        return easingFunctions[encodedFuncName];\n    }*/\n    var getBezierLength = function () {\n\n        function Segment(l, p) {\n            this.l = l;\n            this.p = p;\n        }\n\n        return function (pt1, pt2, pt3, pt4) {\n            var curveSegments = _common.defaultCurveSegments;\n            var k;\n            var i, len;\n            var ptCoord,\n                perc,\n                addedLength = 0;\n            var ptDistance;\n            var point = [],\n                lastPoint = [];\n            var lengthData = {\n                addedLength: 0,\n                segments: []\n            };\n            len = pt3.length;\n            for (k = 0; k < curveSegments; k += 1) {\n                perc = k / (curveSegments - 1);\n                ptDistance = 0;\n                for (i = 0; i < len; i += 1) {\n                    ptCoord = (0, _common.bm_pow)(1 - perc, 3) * pt1[i] + 3 * (0, _common.bm_pow)(1 - perc, 2) * perc * pt3[i] + 3 * (1 - perc) * (0, _common.bm_pow)(perc, 2) * pt4[i] + (0, _common.bm_pow)(perc, 3) * pt2[i];\n                    point[i] = ptCoord;\n                    if (lastPoint[i] !== null) {\n                        ptDistance += (0, _common.bm_pow)(point[i] - lastPoint[i], 2);\n                    }\n                    lastPoint[i] = point[i];\n                }\n                if (ptDistance) {\n                    ptDistance = (0, _common.bm_sqrt)(ptDistance);\n                    addedLength += ptDistance;\n                }\n                lengthData.segments.push(new Segment(addedLength, perc));\n            }\n            lengthData.addedLength = addedLength;\n            return lengthData;\n        };\n    }();\n\n    function BezierData(length) {\n        this.segmentLength = 0;\n        this.points = new Array(length);\n    }\n\n    function PointData(partial, point) {\n        this.partialLength = partial;\n        this.point = point;\n    }\n\n    var buildBezierData = function () {\n\n        var storedData = {};\n\n        return function (keyData) {\n            var pt1 = keyData.s;\n            var pt2 = keyData.e;\n            var pt3 = keyData.to;\n            var pt4 = keyData.ti;\n            var bezierName = (pt1.join('_') + '_' + pt2.join('_') + '_' + pt3.join('_') + '_' + pt4.join('_')).replace(/\\./g, 'p');\n            if (storedData[bezierName]) {\n                keyData.bezierData = storedData[bezierName];\n                return;\n            }\n            var curveSegments = _common.defaultCurveSegments;\n            var k, i, len;\n            var ptCoord,\n                perc,\n                addedLength = 0;\n            var ptDistance;\n            var point,\n                lastPoint = null;\n            if (pt1.length === 2 && (pt1[0] != pt2[0] || pt1[1] != pt2[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt1[0] + pt3[0], pt1[1] + pt3[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt2[0] + pt4[0], pt2[1] + pt4[1])) {\n                curveSegments = 2;\n            }\n            var bezierData = new BezierData(curveSegments);\n            len = pt3.length;\n            for (k = 0; k < curveSegments; k += 1) {\n                point = new Array(len);\n                perc = k / (curveSegments - 1);\n                ptDistance = 0;\n                for (i = 0; i < len; i += 1) {\n                    ptCoord = (0, _common.bm_pow)(1 - perc, 3) * pt1[i] + 3 * (0, _common.bm_pow)(1 - perc, 2) * perc * (pt1[i] + pt3[i]) + 3 * (1 - perc) * (0, _common.bm_pow)(perc, 2) * (pt2[i] + pt4[i]) + (0, _common.bm_pow)(perc, 3) * pt2[i];\n                    point[i] = ptCoord;\n                    if (lastPoint !== null) {\n                        ptDistance += (0, _common.bm_pow)(point[i] - lastPoint[i], 2);\n                    }\n                }\n                ptDistance = (0, _common.bm_sqrt)(ptDistance);\n                addedLength += ptDistance;\n                bezierData.points[k] = new PointData(ptDistance, point);\n                lastPoint = point;\n            }\n            bezierData.segmentLength = addedLength;\n            keyData.bezierData = bezierData;\n            storedData[bezierName] = bezierData;\n        };\n    }();\n\n    function getDistancePerc(perc, bezierData) {\n        var segments = bezierData.segments;\n        var len = segments.length;\n        var initPos = (0, _common.bm_floor)((len - 1) * perc);\n        var lengthPos = perc * bezierData.addedLength;\n        var lPerc = 0;\n        if (lengthPos == segments[initPos].l) {\n            return segments[initPos].p;\n        } else {\n            var dir = segments[initPos].l > lengthPos ? -1 : 1;\n            var flag = true;\n            while (flag) {\n                if (segments[initPos].l <= lengthPos && segments[initPos + 1].l > lengthPos) {\n                    lPerc = (lengthPos - segments[initPos].l) / (segments[initPos + 1].l - segments[initPos].l);\n                    flag = false;\n                } else {\n                    initPos += dir;\n                }\n                if (initPos < 0 || initPos >= len - 1) {\n                    flag = false;\n                }\n            }\n            return segments[initPos].p + (segments[initPos + 1].p - segments[initPos].p) * lPerc;\n        }\n    }\n\n    function SegmentPoints() {\n        this.pt1 = new Array(2);\n        this.pt2 = new Array(2);\n        this.pt3 = new Array(2);\n        this.pt4 = new Array(2);\n    }\n\n    function getNewSegment(pt1, pt2, pt3, pt4, startPerc, endPerc, bezierData) {\n\n        var pts = new SegmentPoints();\n        startPerc = startPerc < 0 ? 0 : startPerc > 1 ? 1 : startPerc;\n        var t0 = getDistancePerc(startPerc, bezierData);\n        endPerc = endPerc > 1 ? 1 : endPerc;\n        var t1 = getDistancePerc(endPerc, bezierData);\n        var i,\n            len = pt1.length;\n        var u0 = 1 - t0;\n        var u1 = 1 - t1;\n        //Math.round(num * 100) / 100\n        for (i = 0; i < len; i += 1) {\n            pts.pt1[i] = Math.round((u0 * u0 * u0 * pt1[i] + (t0 * u0 * u0 + u0 * t0 * u0 + u0 * u0 * t0) * pt3[i] + (t0 * t0 * u0 + u0 * t0 * t0 + t0 * u0 * t0) * pt4[i] + t0 * t0 * t0 * pt2[i]) * 1000) / 1000;\n            pts.pt3[i] = Math.round((u0 * u0 * u1 * pt1[i] + (t0 * u0 * u1 + u0 * t0 * u1 + u0 * u0 * t1) * pt3[i] + (t0 * t0 * u1 + u0 * t0 * t1 + t0 * u0 * t1) * pt4[i] + t0 * t0 * t1 * pt2[i]) * 1000) / 1000;\n            pts.pt4[i] = Math.round((u0 * u1 * u1 * pt1[i] + (t0 * u1 * u1 + u0 * t1 * u1 + u0 * u1 * t1) * pt3[i] + (t0 * t1 * u1 + u0 * t1 * t1 + t0 * u1 * t1) * pt4[i] + t0 * t1 * t1 * pt2[i]) * 1000) / 1000;\n            pts.pt2[i] = Math.round((u1 * u1 * u1 * pt1[i] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[i] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[i] + t1 * t1 * t1 * pt2[i]) * 1000) / 1000;\n        }\n        return pts;\n    }\n\n    return {\n        //getEasingCurve : getEasingCurve,\n        getBezierLength: getBezierLength,\n        getNewSegment: getNewSegment,\n        buildBezierData: buildBezierData,\n        pointOnLine2D: pointOnLine2D,\n        pointOnLine3D: pointOnLine3D\n    };\n}\n\nvar bez = bezFunction();\n\nexports.default = bez;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _common = __webpack_require__(0);\n\nvar _PropertyFactory = __webpack_require__(2);\n\nvar _PropertyFactory2 = _interopRequireDefault(_PropertyFactory);\n\nvar _BezierFactory = __webpack_require__(6);\n\nvar _BezierFactory2 = _interopRequireDefault(_BezierFactory);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ShapePropertyFactory = function () {\n\n    var initFrame = -999999;\n\n    function interpolateShape() {\n        if (this.elem.globalData.frameId === this.frameId) {\n            return;\n        }\n        this.mdf = false;\n        var frameNum = this.comp.renderedFrame - this.offsetTime;\n        if (this.lastFrame !== initFrame && (this.lastFrame < this.keyframes[0].t - this.offsetTime && frameNum < this.keyframes[0].t - this.offsetTime || this.lastFrame > this.keyframes[this.keyframes.length - 1].t - this.offsetTime && frameNum > this.keyframes[this.keyframes.length - 1].t - this.offsetTime)) {} else {\n            var keyPropS, keyPropE, isHold;\n            if (frameNum < this.keyframes[0].t - this.offsetTime) {\n                keyPropS = this.keyframes[0].s[0];\n                isHold = true;\n            } else if (frameNum >= this.keyframes[this.keyframes.length - 1].t - this.offsetTime) {\n                if (this.keyframes[this.keyframes.length - 2].h === 1) {\n                    //keyPropS = this.keyframes[this.keyframes.length - 1].s ? this.keyframes[this.keyframes.length - 1].s[0] : this.keyframes[this.keyframes.length - 2].s[0];\n                    keyPropS = this.keyframes[this.keyframes.length - 1].s[0];\n                } else {\n                    keyPropS = this.keyframes[this.keyframes.length - 2].e[0];\n                }\n                isHold = true;\n            } else {\n                var i = 0,\n                    len = this.keyframes.length - 1,\n                    flag = true,\n                    keyData,\n                    nextKeyData,\n                    j,\n                    jLen,\n                    k,\n                    kLen;\n                while (flag) {\n                    keyData = this.keyframes[i];\n                    nextKeyData = this.keyframes[i + 1];\n                    if (nextKeyData.t - this.offsetTime > frameNum) {\n                        break;\n                    }\n                    if (i < len - 1) {\n                        i += 1;\n                    } else {\n                        flag = false;\n                    }\n                }\n                isHold = keyData.h === 1;\n                if (isHold && i === len) {\n                    keyData = nextKeyData;\n                }\n\n                var perc;\n                if (!isHold) {\n                    var fnc;\n                    if (keyData.__fnct) {\n                        fnc = keyData.__fnct;\n                    } else {\n                        //fnc = bez.getEasingCurve(keyData.o.x,keyData.o.y,keyData.i.x,keyData.i.y);\n                        fnc = _BezierFactory2.default.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y).get;\n                        keyData.__fnct = fnc;\n                    }\n                    if (frameNum >= nextKeyData.t - this.offsetTime) {\n                        perc = 1;\n                    } else if (frameNum < keyData.t - this.offsetTime) {\n                        perc = 0;\n                    } else {\n                        perc = fnc((frameNum - (keyData.t - this.offsetTime)) / (nextKeyData.t - this.offsetTime - (keyData.t - this.offsetTime)));\n                    }\n                    keyPropE = keyData.e[0];\n                }\n                keyPropS = keyData.s[0];\n            }\n            jLen = this.v.i.length;\n            kLen = keyPropS.i[0].length;\n            var hasModified = false;\n            var vertexValue;\n            for (j = 0; j < jLen; j += 1) {\n                for (k = 0; k < kLen; k += 1) {\n                    if (isHold) {\n                        vertexValue = keyPropS.i[j][k];\n                        if (this.v.i[j][k] !== vertexValue) {\n                            this.v.i[j][k] = vertexValue;\n                            this.pv.i[j][k] = vertexValue;\n                            hasModified = true;\n                        }\n                        vertexValue = keyPropS.o[j][k];\n                        if (this.v.o[j][k] !== vertexValue) {\n                            this.v.o[j][k] = vertexValue;\n                            this.pv.o[j][k] = vertexValue;\n                            hasModified = true;\n                        }\n                        vertexValue = keyPropS.v[j][k];\n                        if (this.v.v[j][k] !== vertexValue) {\n                            this.v.v[j][k] = vertexValue;\n                            this.pv.v[j][k] = vertexValue;\n                            hasModified = true;\n                        }\n                    } else {\n                        vertexValue = keyPropS.i[j][k] + (keyPropE.i[j][k] - keyPropS.i[j][k]) * perc;\n                        if (this.v.i[j][k] !== vertexValue) {\n                            this.v.i[j][k] = vertexValue;\n                            this.pv.i[j][k] = vertexValue;\n                            hasModified = true;\n                        }\n                        vertexValue = keyPropS.o[j][k] + (keyPropE.o[j][k] - keyPropS.o[j][k]) * perc;\n                        if (this.v.o[j][k] !== vertexValue) {\n                            this.v.o[j][k] = vertexValue;\n                            this.pv.o[j][k] = vertexValue;\n                            hasModified = true;\n                        }\n                        vertexValue = keyPropS.v[j][k] + (keyPropE.v[j][k] - keyPropS.v[j][k]) * perc;\n                        if (this.v.v[j][k] !== vertexValue) {\n                            this.v.v[j][k] = vertexValue;\n                            this.pv.v[j][k] = vertexValue;\n                            hasModified = true;\n                        }\n                    }\n                }\n            }\n            this.mdf = hasModified;\n            this.paths.length = 0;\n            this.v.c = keyPropS.c;\n            this.paths[0] = this.v;\n        }\n\n        this.lastFrame = frameNum;\n        this.frameId = this.elem.globalData.frameId;\n    }\n\n    function getShapeValue() {\n        return this.v;\n    }\n\n    function resetShape() {\n        this.resetPaths.length = 1;\n        this.resetPaths[0] = this.v;\n        this.paths = this.resetPaths;\n        if (!this.k) {\n            this.mdf = false;\n        }\n    }\n\n    function ShapeProperty(elem, data, type) {\n        this.resetPaths = [];\n        this.comp = elem.comp;\n        this.k = false;\n        this.mdf = false;\n        this.numNodes = type === 3 ? data.pt.k.v.length : data.ks.k.v.length;\n        this.v = type === 3 ? data.pt.k : data.ks.k;\n        this.getValue = getShapeValue;\n        this.pv = this.v;\n        this.paths = [this.v];\n        this.reset = resetShape;\n    }\n\n    function KeyframedShapeProperty(elem, data, type) {\n        this.resetPaths = [];\n        this.comp = elem.comp;\n        this.elem = elem;\n        this.offsetTime = elem.data.st;\n        this.getValue = interpolateShape;\n        this.keyframes = type === 3 ? data.pt.k : data.ks.k;\n        this.k = true;\n        var i,\n            len = this.keyframes[0].s[0].i.length;\n        var jLen = this.keyframes[0].s[0].i[0].length;\n        this.numNodes = len;\n        this.v = {\n            i: Array.apply(null, { length: len }),\n            o: Array.apply(null, { length: len }),\n            v: Array.apply(null, { length: len }),\n            c: this.keyframes[0].s[0].c\n        };\n        this.pv = {\n            i: Array.apply(null, { length: len }),\n            o: Array.apply(null, { length: len }),\n            v: Array.apply(null, { length: len }),\n            c: this.keyframes[0].s[0].c\n        };\n        for (i = 0; i < len; i += 1) {\n            this.v.i[i] = Array.apply(null, { length: jLen });\n            this.v.o[i] = Array.apply(null, { length: jLen });\n            this.v.v[i] = Array.apply(null, { length: jLen });\n            this.pv.i[i] = Array.apply(null, { length: jLen });\n            this.pv.o[i] = Array.apply(null, { length: jLen });\n            this.pv.v[i] = Array.apply(null, { length: jLen });\n        }\n        this.paths = [];\n        this.lastFrame = initFrame;\n        this.reset = resetShape;\n    }\n\n    var EllShapeProperty = function () {\n\n        var cPoint = _common.roundCorner;\n\n        function convertEllToPath() {\n            var p0 = this.p.v[0],\n                p1 = this.p.v[1],\n                s0 = this.s.v[0] / 2,\n                s1 = this.s.v[1] / 2;\n            if (this.d !== 2 && this.d !== 3) {\n                this.v.v[0] = [p0, p1 - s1];\n                this.v.i[0] = [p0 - s0 * cPoint, p1 - s1];\n                this.v.o[0] = [p0 + s0 * cPoint, p1 - s1];\n                this.v.v[1] = [p0 + s0, p1];\n                this.v.i[1] = [p0 + s0, p1 - s1 * cPoint];\n                this.v.o[1] = [p0 + s0, p1 + s1 * cPoint];\n                this.v.v[2] = [p0, p1 + s1];\n                this.v.i[2] = [p0 + s0 * cPoint, p1 + s1];\n                this.v.o[2] = [p0 - s0 * cPoint, p1 + s1];\n                this.v.v[3] = [p0 - s0, p1];\n                this.v.i[3] = [p0 - s0, p1 + s1 * cPoint];\n                this.v.o[3] = [p0 - s0, p1 - s1 * cPoint];\n            } else {\n                this.v.v[0] = [p0, p1 - s1];\n                this.v.o[0] = [p0 - s0 * cPoint, p1 - s1];\n                this.v.i[0] = [p0 + s0 * cPoint, p1 - s1];\n                this.v.v[1] = [p0 - s0, p1];\n                this.v.o[1] = [p0 - s0, p1 + s1 * cPoint];\n                this.v.i[1] = [p0 - s0, p1 - s1 * cPoint];\n                this.v.v[2] = [p0, p1 + s1];\n                this.v.o[2] = [p0 + s0 * cPoint, p1 + s1];\n                this.v.i[2] = [p0 - s0 * cPoint, p1 + s1];\n                this.v.v[3] = [p0 + s0, p1];\n                this.v.o[3] = [p0 + s0, p1 - s1 * cPoint];\n                this.v.i[3] = [p0 + s0, p1 + s1 * cPoint];\n            }\n            this.paths.length = 0;\n            this.paths[0] = this.v;\n        }\n\n        function processKeys(frameNum) {\n            var i,\n                len = this.dynamicProperties.length;\n            if (this.elem.globalData.frameId === this.frameId) {\n                return;\n            }\n            this.mdf = false;\n            this.frameId = this.elem.globalData.frameId;\n\n            for (i = 0; i < len; i += 1) {\n                this.dynamicProperties[i].getValue(frameNum);\n                if (this.dynamicProperties[i].mdf) {\n                    this.mdf = true;\n                }\n            }\n            if (this.mdf) {\n                this.convertEllToPath();\n                this.paths.length = 0;\n                this.paths[0] = this.v;\n            }\n        }\n\n        return function EllShapeProperty(elem, data) {\n            this.v = {\n                v: Array.apply(null, { length: 4 }),\n                i: Array.apply(null, { length: 4 }),\n                o: Array.apply(null, { length: 4 }),\n                c: true\n            };\n            this.numNodes = 4;\n            this.d = data.d;\n            this.dynamicProperties = [];\n            this.resetPaths = [];\n            this.paths = [];\n            this.elem = elem;\n            this.comp = elem.comp;\n            this.frameId = -1;\n            this.mdf = false;\n            this.getValue = processKeys;\n            this.convertEllToPath = convertEllToPath;\n            this.reset = resetShape;\n            this.p = _PropertyFactory2.default.getProp(elem, data.p, 1, 0, this.dynamicProperties);\n            this.s = _PropertyFactory2.default.getProp(elem, data.s, 1, 0, this.dynamicProperties);\n            if (this.dynamicProperties.length) {\n                this.k = true;\n            } else {\n                this.convertEllToPath();\n            }\n        };\n    }();\n\n    var StarShapeProperty = function () {\n\n        function convertPolygonToPath() {\n            var numPts = Math.floor(this.pt.v);\n            var angle = Math.PI * 2 / numPts;\n            this.v.v.length = numPts;\n            this.v.i.length = numPts;\n            this.v.o.length = numPts;\n            var rad = this.or.v;\n            var roundness = this.os.v;\n            var perimSegment = 2 * Math.PI * rad / (numPts * 4);\n            var i,\n                currentAng = -Math.PI / 2;\n            var dir = this.data.d === 3 ? -1 : 1;\n            currentAng += this.r.v;\n            for (i = 0; i < numPts; i += 1) {\n                var x = rad * Math.cos(currentAng);\n                var y = rad * Math.sin(currentAng);\n                var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\n                var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\n                x += +this.p.v[0];\n                y += +this.p.v[1];\n                this.v.v[i] = [x, y];\n                this.v.i[i] = [x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir];\n                this.v.o[i] = [x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir];\n                currentAng += angle * dir;\n            }\n            this.numNodes = numPts;\n            this.paths.length = 0;\n            this.paths[0] = this.v;\n        }\n\n        function convertStarToPath() {\n            var numPts = Math.floor(this.pt.v) * 2;\n            var angle = Math.PI * 2 / numPts;\n            this.v.v.length = numPts;\n            this.v.i.length = numPts;\n            this.v.o.length = numPts;\n            var longFlag = true;\n            var longRad = this.or.v;\n            var shortRad = this.ir.v;\n            var longRound = this.os.v;\n            var shortRound = this.is.v;\n            var longPerimSegment = 2 * Math.PI * longRad / (numPts * 2);\n            var shortPerimSegment = 2 * Math.PI * shortRad / (numPts * 2);\n            var i,\n                rad,\n                roundness,\n                perimSegment,\n                currentAng = -Math.PI / 2;\n            currentAng += this.r.v;\n            var dir = this.data.d === 3 ? -1 : 1;\n            for (i = 0; i < numPts; i += 1) {\n                rad = longFlag ? longRad : shortRad;\n                roundness = longFlag ? longRound : shortRound;\n                perimSegment = longFlag ? longPerimSegment : shortPerimSegment;\n                var x = rad * Math.cos(currentAng);\n                var y = rad * Math.sin(currentAng);\n                var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\n                var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\n                x += +this.p.v[0];\n                y += +this.p.v[1];\n                this.v.v[i] = [x, y];\n                this.v.i[i] = [x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir];\n                this.v.o[i] = [x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir];\n                longFlag = !longFlag;\n                currentAng += angle * dir;\n            }\n            this.numNodes = numPts;\n            this.paths.length = 0;\n            this.paths[0] = this.v;\n        }\n\n        function processKeys() {\n            if (this.elem.globalData.frameId === this.frameId) {\n                return;\n            }\n            this.mdf = false;\n            this.frameId = this.elem.globalData.frameId;\n            var i,\n                len = this.dynamicProperties.length;\n\n            for (i = 0; i < len; i += 1) {\n                this.dynamicProperties[i].getValue();\n                if (this.dynamicProperties[i].mdf) {\n                    this.mdf = true;\n                }\n            }\n            if (this.mdf) {\n                this.convertToPath();\n            }\n        }\n\n        return function StarShapeProperty(elem, data) {\n            this.v = {\n                v: [],\n                i: [],\n                o: [],\n                c: true\n            };\n            this.resetPaths = [];\n            this.elem = elem;\n            this.comp = elem.comp;\n            this.data = data;\n            this.frameId = -1;\n            this.d = data.d;\n            this.dynamicProperties = [];\n            this.mdf = false;\n            this.getValue = processKeys;\n            this.reset = resetShape;\n            if (data.sy === 1) {\n                this.ir = _PropertyFactory2.default.getProp(elem, data.ir, 0, 0, this.dynamicProperties);\n                this.is = _PropertyFactory2.default.getProp(elem, data.is, 0, 0.01, this.dynamicProperties);\n                this.convertToPath = convertStarToPath;\n            } else {\n                this.convertToPath = convertPolygonToPath;\n            }\n            this.pt = _PropertyFactory2.default.getProp(elem, data.pt, 0, 0, this.dynamicProperties);\n            this.p = _PropertyFactory2.default.getProp(elem, data.p, 1, 0, this.dynamicProperties);\n            this.r = _PropertyFactory2.default.getProp(elem, data.r, 0, degToRads, this.dynamicProperties);\n            this.or = _PropertyFactory2.default.getProp(elem, data.or, 0, 0, this.dynamicProperties);\n            this.os = _PropertyFactory2.default.getProp(elem, data.os, 0, 0.01, this.dynamicProperties);\n            this.paths = [];\n            if (this.dynamicProperties.length) {\n                this.k = true;\n            } else {\n                this.convertToPath();\n            }\n        };\n    }();\n\n    var RectShapeProperty = function () {\n        function processKeys(frameNum) {\n            if (this.elem.globalData.frameId === this.frameId) {\n                return;\n            }\n            this.mdf = false;\n            this.frameId = this.elem.globalData.frameId;\n            var i,\n                len = this.dynamicProperties.length;\n\n            for (i = 0; i < len; i += 1) {\n                this.dynamicProperties[i].getValue(frameNum);\n                if (this.dynamicProperties[i].mdf) {\n                    this.mdf = true;\n                }\n            }\n            if (this.mdf) {\n                this.convertRectToPath();\n            }\n        }\n\n        function convertRectToPath() {\n            var p0 = this.p.v[0],\n                p1 = this.p.v[1],\n                v0 = this.s.v[0] / 2,\n                v1 = this.s.v[1] / 2;\n            var round = bm_min(v0, v1, this.r.v);\n            var cPoint = round * (1 - _common.roundCorner);\n            if (round === 0) {\n                this.v.v.length = 4;\n                this.v.i.length = 4;\n                this.v.o.length = 4;\n            } else {\n                this.v.v.length = 8;\n                this.v.i.length = 8;\n                this.v.o.length = 8;\n            }\n\n            if (this.d === 2 || this.d === 1) {\n\n                this.v.v[0] = [p0 + v0, p1 - v1 + round];\n                this.v.o[0] = this.v.v[0];\n                this.v.i[0] = [p0 + v0, p1 - v1 + cPoint];\n\n                this.v.v[1] = [p0 + v0, p1 + v1 - round];\n                this.v.o[1] = [p0 + v0, p1 + v1 - cPoint];\n                this.v.i[1] = this.v.v[1];\n\n                if (round !== 0) {\n                    this.v.v[2] = [p0 + v0 - round, p1 + v1];\n                    this.v.o[2] = this.v.v[2];\n                    this.v.i[2] = [p0 + v0 - cPoint, p1 + v1];\n                    this.v.v[3] = [p0 - v0 + round, p1 + v1];\n                    this.v.o[3] = [p0 - v0 + cPoint, p1 + v1];\n                    this.v.i[3] = this.v.v[3];\n                    this.v.v[4] = [p0 - v0, p1 + v1 - round];\n                    this.v.o[4] = this.v.v[4];\n                    this.v.i[4] = [p0 - v0, p1 + v1 - cPoint];\n                    this.v.v[5] = [p0 - v0, p1 - v1 + round];\n                    this.v.o[5] = [p0 - v0, p1 - v1 + cPoint];\n                    this.v.i[5] = this.v.v[5];\n                    this.v.v[6] = [p0 - v0 + round, p1 - v1];\n                    this.v.o[6] = this.v.v[6];\n                    this.v.i[6] = [p0 - v0 + cPoint, p1 - v1];\n                    this.v.v[7] = [p0 + v0 - round, p1 - v1];\n                    this.v.o[7] = [p0 + v0 - cPoint, p1 - v1];\n                    this.v.i[7] = this.v.v[7];\n                } else {\n                    this.v.v[2] = [p0 - v0 + round, p1 + v1];\n                    this.v.o[2] = [p0 - v0 + cPoint, p1 + v1];\n                    this.v.i[2] = this.v.v[2];\n                    this.v.v[3] = [p0 - v0, p1 - v1 + round];\n                    this.v.o[3] = [p0 - v0, p1 - v1 + cPoint];\n                    this.v.i[3] = this.v.v[3];\n                }\n            } else {\n                this.v.v[0] = [p0 + v0, p1 - v1 + round];\n                this.v.o[0] = [p0 + v0, p1 - v1 + cPoint];\n                this.v.i[0] = this.v.v[0];\n\n                if (round !== 0) {\n                    this.v.v[1] = [p0 + v0 - round, p1 - v1];\n                    this.v.o[1] = this.v.v[1];\n                    this.v.i[1] = [p0 + v0 - cPoint, p1 - v1];\n\n                    this.v.v[2] = [p0 - v0 + round, p1 - v1];\n                    this.v.o[2] = [p0 - v0 + cPoint, p1 - v1];\n                    this.v.i[2] = this.v.v[2];\n\n                    this.v.v[3] = [p0 - v0, p1 - v1 + round];\n                    this.v.o[3] = this.v.v[3];\n                    this.v.i[3] = [p0 - v0, p1 - v1 + cPoint];\n\n                    this.v.v[4] = [p0 - v0, p1 + v1 - round];\n                    this.v.o[4] = [p0 - v0, p1 + v1 - cPoint];\n                    this.v.i[4] = this.v.v[4];\n\n                    this.v.v[5] = [p0 - v0 + round, p1 + v1];\n                    this.v.o[5] = this.v.v[5];\n                    this.v.i[5] = [p0 - v0 + cPoint, p1 + v1];\n\n                    this.v.v[6] = [p0 + v0 - round, p1 + v1];\n                    this.v.o[6] = [p0 + v0 - cPoint, p1 + v1];\n                    this.v.i[6] = this.v.v[6];\n\n                    this.v.v[7] = [p0 + v0, p1 + v1 - round];\n                    this.v.o[7] = this.v.v[7];\n                    this.v.i[7] = [p0 + v0, p1 + v1 - cPoint];\n                } else {\n                    this.v.v[1] = [p0 - v0 + round, p1 - v1];\n                    this.v.o[1] = [p0 - v0 + cPoint, p1 - v1];\n                    this.v.i[1] = this.v.v[1];\n                    this.v.v[2] = [p0 - v0, p1 + v1 - round];\n                    this.v.o[2] = [p0 - v0, p1 + v1 - cPoint];\n                    this.v.i[2] = this.v.v[2];\n                    this.v.v[3] = [p0 + v0 - round, p1 + v1];\n                    this.v.o[3] = [p0 + v0 - cPoint, p1 + v1];\n                    this.v.i[3] = this.v.v[3];\n                }\n            }\n            this.paths.length = 0;\n            this.paths[0] = this.v;\n        }\n\n        return function RectShapeProperty(elem, data) {\n            this.v = {\n                v: Array.apply(null, { length: 8 }),\n                i: Array.apply(null, { length: 8 }),\n                o: Array.apply(null, { length: 8 }),\n                c: true\n            };\n            this.resetPaths = [];\n            this.paths = [];\n            this.numNodes = 8;\n            this.elem = elem;\n            this.comp = elem.comp;\n            this.frameId = -1;\n            this.d = data.d;\n            this.dynamicProperties = [];\n            this.mdf = false;\n            this.getValue = processKeys;\n            this.convertRectToPath = convertRectToPath;\n            this.reset = resetShape;\n            this.p = _PropertyFactory2.default.getProp(elem, data.p, 1, 0, this.dynamicProperties);\n            this.s = _PropertyFactory2.default.getProp(elem, data.s, 1, 0, this.dynamicProperties);\n            this.r = _PropertyFactory2.default.getProp(elem, data.r, 0, 0, this.dynamicProperties);\n            if (this.dynamicProperties.length) {\n                this.k = true;\n            } else {\n                this.convertRectToPath();\n            }\n        };\n    }();\n\n    function getShapeProp(elem, data, type, arr) {\n        var prop;\n        if (type === 3 || type === 4) {\n            var dataProp = type === 3 ? data.pt : data.ks;\n            var keys = dataProp.k;\n            if (dataProp.a === 1 || keys.length) {\n                prop = new KeyframedShapeProperty(elem, data, type);\n            } else {\n                prop = new ShapeProperty(elem, data, type);\n            }\n        } else if (type === 5) {\n            prop = new RectShapeProperty(elem, data);\n        } else if (type === 6) {\n            prop = new EllShapeProperty(elem, data);\n        } else if (type === 7) {\n            prop = new StarShapeProperty(elem, data);\n        }\n        if (prop.k) {\n            arr.push(prop);\n        }\n        return prop;\n    }\n\n    var ob = {};\n    ob.getShapeProp = getShapeProp;\n    return ob;\n}();\n\nexports.default = ShapePropertyFactory;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _AnimationItem = __webpack_require__(12);\n\nvar _AnimationItem2 = _interopRequireDefault(_AnimationItem);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar AnimationManager = {};\nvar registeredAnimations = [];\nvar initTime = 0;\nvar len = 0;\nvar idled = true;\nvar playingAnimationsNum = 0;\n\nfunction removeElement(ev) {\n    var i = 0;\n    var animItem = ev.target;\n    while (i < len) {\n        if (registeredAnimations[i].animation === animItem) {\n            registeredAnimations.splice(i, 1);\n            i -= 1;\n            len -= 1;\n            if (!animItem.isPaused) {\n                subtractPlayingCount();\n            }\n        }\n        i += 1;\n    }\n}\n\nfunction registerAnimation(element, animationData) {\n    if (!element) {\n        return null;\n    }\n    var i = 0;\n    while (i < len) {\n        if (registeredAnimations[i].elem == element && registeredAnimations[i].elem !== null) {\n            return registeredAnimations[i].animation;\n        }\n        i += 1;\n    }\n    var animItem = new _AnimationItem2.default();\n    setupAnimation(animItem, element);\n    animItem.setData(element, animationData);\n    return animItem;\n}\n\nfunction addPlayingCount() {\n    playingAnimationsNum += 1;\n    activate();\n}\n\nfunction subtractPlayingCount() {\n    playingAnimationsNum -= 1;\n    if (playingAnimationsNum === 0) {\n        idled = true;\n    }\n}\n\nfunction setupAnimation(animItem, element) {\n    animItem.addEventListener('destroy', removeElement);\n    animItem.addEventListener('_active', addPlayingCount);\n    animItem.addEventListener('_idle', subtractPlayingCount);\n    registeredAnimations.push({ elem: element, animation: animItem });\n    len += 1;\n}\n\nfunction loadAnimation(params) {\n    var animItem = new _AnimationItem2.default();\n    setupAnimation(animItem, null);\n    animItem.setParams(params);\n    return animItem;\n}\n\nfunction setSpeed(val, animation) {\n    var i;\n    for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setSpeed(val, animation);\n    }\n}\n\nfunction setDirection(val, animation) {\n    var i;\n    for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setDirection(val, animation);\n    }\n}\n\nfunction play(animation) {\n    var i;\n    for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.play(animation);\n    }\n}\n\nfunction moveFrame(value, animation) {\n    initTime = Date.now();\n    var i;\n    for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.moveFrame(value, animation);\n    }\n}\n\nfunction resume(nowTime) {\n\n    var elapsedTime = nowTime - initTime;\n    var i;\n    for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.advanceTime(elapsedTime);\n    }\n    initTime = nowTime;\n    if (!idled) {\n        requestAnimationFrame(resume);\n    }\n}\n\nfunction first(nowTime) {\n    initTime = nowTime;\n    requestAnimationFrame(resume);\n}\n\nfunction pause(animation) {\n    var i;\n    for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.pause(animation);\n    }\n}\n\nfunction goToAndStop(value, isFrame, animation) {\n    var i;\n    for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.goToAndStop(value, isFrame, animation);\n    }\n}\n\nfunction stop(animation) {\n    var i;\n    for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.stop(animation);\n    }\n}\n\nfunction togglePause(animation) {\n    var i;\n    for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.togglePause(animation);\n    }\n}\n\nfunction destroy(animation) {\n    var i;\n    for (i = len - 1; i >= 0; i -= 1) {\n        registeredAnimations[i].animation.destroy(animation);\n    }\n}\n\nfunction searchAnimations(animationData, standalone, renderer) {\n    var animElements = document.getElementsByClassName('bodymovin');\n    var i,\n        len = animElements.length;\n    for (i = 0; i < len; i += 1) {\n        if (renderer) {\n            animElements[i].setAttribute('data-bm-type', renderer);\n        }\n        registerAnimation(animElements[i], animationData);\n    }\n    if (standalone && len === 0) {\n        if (!renderer) {\n            renderer = 'svg';\n        }\n        var body = document.getElementsByTagName('body')[0];\n        body.innerHTML = '';\n        var div = document.createElement('div');\n        div.style.width = '100%';\n        div.style.height = '100%';\n        div.setAttribute('data-bm-type', renderer);\n        body.appendChild(div);\n        registerAnimation(div, animationData);\n    }\n}\n\nfunction resize() {\n    var i;\n    for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.resize();\n    }\n}\n\nfunction start() {\n    requestAnimationFrame(first);\n}\n\nfunction activate() {\n    if (idled) {\n        idled = false;\n        requestAnimationFrame(first);\n    }\n}\n\n//start();\n\nsetTimeout(start, 0);\n\nAnimationManager.registerAnimation = registerAnimation;\nAnimationManager.loadAnimation = loadAnimation;\nAnimationManager.setSpeed = setSpeed;\nAnimationManager.setDirection = setDirection;\nAnimationManager.play = play;\nAnimationManager.moveFrame = moveFrame;\nAnimationManager.pause = pause;\nAnimationManager.stop = stop;\nAnimationManager.togglePause = togglePause;\nAnimationManager.searchAnimations = searchAnimations;\nAnimationManager.resize = resize;\nAnimationManager.start = start;\nAnimationManager.goToAndStop = goToAndStop;\nAnimationManager.destroy = destroy;\n\nexports.default = AnimationManager;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = AnimationItem;\n\nvar _common = __webpack_require__(0);\n\nvar _CanvasRenderer = __webpack_require__(20);\n\nvar _CanvasRenderer2 = _interopRequireDefault(_CanvasRenderer);\n\nvar _SVGRenderer = __webpack_require__(5);\n\nvar _SVGRenderer2 = _interopRequireDefault(_SVGRenderer);\n\nvar _HybridRenderer = __webpack_require__(21);\n\nvar _HybridRenderer2 = _interopRequireDefault(_HybridRenderer);\n\nvar _ImagePreloader = __webpack_require__(24);\n\nvar _ImagePreloader2 = _interopRequireDefault(_ImagePreloader);\n\nvar _DataManager = __webpack_require__(22);\n\nvar _DataManager2 = _interopRequireDefault(_DataManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction AnimationItem() {\n    this._cbs = [];\n    this.name = '';\n    this.path = '';\n    this.isLoaded = false;\n    this.currentFrame = 0;\n    this.currentRawFrame = 0;\n    this.totalFrames = 0;\n    this.frameRate = 0;\n    this.frameMult = 0;\n    this.playSpeed = 1;\n    this.playDirection = 1;\n    this.pendingElements = 0;\n    this.playCount = 0;\n    this.prerenderFramesFlag = true;\n    this.animationData = {};\n    this.layers = [];\n    this.assets = [];\n    this.isPaused = true;\n    this.autoplay = false;\n    this.loop = true;\n    this.renderer = null;\n    this.animationID = (0, _common.randomString)(10);\n    this.scaleMode = 'fit';\n    this.assetsPath = '';\n    this.timeCompleted = 0;\n    this.segmentPos = 0;\n    this.subframeEnabled = _common.subframeEnabled;\n    this.segments = [];\n    this.pendingSegment = false;\n    this._idle = true;\n    this.projectInterface = (0, _common.ProjectInterface)();\n};\n\nAnimationItem.prototype.setParams = function (params) {\n    var self = this;\n    if (params.context) {\n        this.context = params.context;\n    }\n    if (params.wrapper || params.container) {\n        this.wrapper = params.wrapper || params.container;\n    }\n    var animType = params.animType ? params.animType : params.renderer ? params.renderer : 'svg';\n    switch (animType) {\n        case 'canvas':\n            this.renderer = new _CanvasRenderer2.default(this, params.rendererSettings);\n            break;\n        case 'svg':\n            this.renderer = new _SVGRenderer2.default(this, params.rendererSettings);\n            break;\n        case 'hybrid':\n        case 'html':\n        default:\n            this.renderer = new _HybridRenderer2.default(this, params.rendererSettings);\n            break;\n    }\n    this.renderer.setProjectInterface(this.projectInterface);\n    this.animType = animType;\n\n    if (params.loop === '' || params.loop === null) {} else if (params.loop === false) {\n        this.loop = false;\n    } else if (params.loop === true) {\n        this.loop = true;\n    } else {\n        this.loop = parseInt(params.loop);\n    }\n    this.autoplay = 'autoplay' in params ? params.autoplay : true;\n    this.name = params.name ? params.name : '';\n    this.prerenderFramesFlag = 'prerender' in params ? params.prerender : true;\n    this.autoloadSegments = params.hasOwnProperty('autoloadSegments') ? params.autoloadSegments : true;\n    if (params.animationData) {\n        self.configAnimation(params.animationData);\n    } else if (params.path) {\n        if (params.path.substr(-4) != 'json') {\n            if (params.path.substr(-1, 1) != '/') {\n                params.path += '/';\n            }\n            params.path += 'data.json';\n        }\n\n        var xhr = new XMLHttpRequest();\n        if (params.path.lastIndexOf('\\\\') != -1) {\n            this.path = params.path.substr(0, params.path.lastIndexOf('\\\\') + 1);\n        } else {\n            this.path = params.path.substr(0, params.path.lastIndexOf('/') + 1);\n        }\n        this.assetsPath = params.assetsPath;\n        this.fileName = params.path.substr(params.path.lastIndexOf('/') + 1);\n        this.fileName = this.fileName.substr(0, this.fileName.lastIndexOf('.json'));\n        xhr.open('GET', params.path, true);\n        xhr.send();\n        xhr.onreadystatechange = function () {\n            if (xhr.readyState == 4) {\n                if (xhr.status == 200) {\n                    self.configAnimation(JSON.parse(xhr.responseText));\n                } else {\n                    try {\n                        var response = JSON.parse(xhr.responseText);\n                        self.configAnimation(response);\n                    } catch (err) {}\n                }\n            }\n        };\n    }\n};\n\nAnimationItem.prototype.setData = function (wrapper, animationData) {\n    var params = {\n        wrapper: wrapper,\n        animationData: animationData ? (typeof animationData === \"undefined\" ? \"undefined\" : _typeof(animationData)) === \"object\" ? animationData : JSON.parse(animationData) : null\n    };\n    var wrapperAttributes = wrapper.attributes;\n\n    params.path = wrapperAttributes.getNamedItem('data-animation-path') ? wrapperAttributes.getNamedItem('data-animation-path').value : wrapperAttributes.getNamedItem('data-bm-path') ? wrapperAttributes.getNamedItem('data-bm-path').value : wrapperAttributes.getNamedItem('bm-path') ? wrapperAttributes.getNamedItem('bm-path').value : '';\n    params.animType = wrapperAttributes.getNamedItem('data-anim-type') ? wrapperAttributes.getNamedItem('data-anim-type').value : wrapperAttributes.getNamedItem('data-bm-type') ? wrapperAttributes.getNamedItem('data-bm-type').value : wrapperAttributes.getNamedItem('bm-type') ? wrapperAttributes.getNamedItem('bm-type').value : wrapperAttributes.getNamedItem('data-bm-renderer') ? wrapperAttributes.getNamedItem('data-bm-renderer').value : wrapperAttributes.getNamedItem('bm-renderer') ? wrapperAttributes.getNamedItem('bm-renderer').value : 'canvas';\n\n    var loop = wrapperAttributes.getNamedItem('data-anim-loop') ? wrapperAttributes.getNamedItem('data-anim-loop').value : wrapperAttributes.getNamedItem('data-bm-loop') ? wrapperAttributes.getNamedItem('data-bm-loop').value : wrapperAttributes.getNamedItem('bm-loop') ? wrapperAttributes.getNamedItem('bm-loop').value : '';\n    if (loop === '') {} else if (loop === 'false') {\n        params.loop = false;\n    } else if (loop === 'true') {\n        params.loop = true;\n    } else {\n        params.loop = parseInt(loop);\n    }\n    var autoplay = wrapperAttributes.getNamedItem('data-anim-autoplay') ? wrapperAttributes.getNamedItem('data-anim-autoplay').value : wrapperAttributes.getNamedItem('data-bm-autoplay') ? wrapperAttributes.getNamedItem('data-bm-autoplay').value : wrapperAttributes.getNamedItem('bm-autoplay') ? wrapperAttributes.getNamedItem('bm-autoplay').value : true;\n    params.autoplay = autoplay !== \"false\";\n\n    params.name = wrapperAttributes.getNamedItem('data-name') ? wrapperAttributes.getNamedItem('data-name').value : wrapperAttributes.getNamedItem('data-bm-name') ? wrapperAttributes.getNamedItem('data-bm-name').value : wrapperAttributes.getNamedItem('bm-name') ? wrapperAttributes.getNamedItem('bm-name').value : '';\n    var prerender = wrapperAttributes.getNamedItem('data-anim-prerender') ? wrapperAttributes.getNamedItem('data-anim-prerender').value : wrapperAttributes.getNamedItem('data-bm-prerender') ? wrapperAttributes.getNamedItem('data-bm-prerender').value : wrapperAttributes.getNamedItem('bm-prerender') ? wrapperAttributes.getNamedItem('bm-prerender').value : '';\n\n    if (prerender === 'false') {\n        params.prerender = false;\n    }\n    this.setParams(params);\n};\n\nAnimationItem.prototype.includeLayers = function (data) {\n    if (data.op > this.animationData.op) {\n        this.animationData.op = data.op;\n        this.totalFrames = Math.floor(data.op - this.animationData.ip);\n        this.animationData.tf = this.totalFrames;\n    }\n    var layers = this.animationData.layers;\n    var i,\n        len = layers.length;\n    var newLayers = data.layers;\n    var j,\n        jLen = newLayers.length;\n    for (j = 0; j < jLen; j += 1) {\n        i = 0;\n        while (i < len) {\n            if (layers[i].id == newLayers[j].id) {\n                layers[i] = newLayers[j];\n                break;\n            }\n            i += 1;\n        }\n    }\n    if (data.chars || data.fonts) {\n        this.renderer.globalData.fontManager.addChars(data.chars);\n        this.renderer.globalData.fontManager.addFonts(data.fonts, this.renderer.globalData.defs);\n    }\n    if (data.assets) {\n        len = data.assets.length;\n        for (i = 0; i < len; i += 1) {\n            this.animationData.assets.push(data.assets[i]);\n        }\n    }\n    //this.totalFrames = 50;\n    //this.animationData.tf = 50;\n    this.animationData.__complete = false;\n    _DataManager2.default.completeData(this.animationData, this.renderer.globalData.fontManager);\n    this.renderer.includeLayers(data.layers);\n    if (_common.expressionsPlugin) {\n        _common.expressionsPlugin.initExpressions(this);\n    }\n    this.renderer.renderFrame(null);\n    this.loadNextSegment();\n};\n\nAnimationItem.prototype.loadNextSegment = function () {\n    var segments = this.animationData.segments;\n    if (!segments || segments.length === 0 || !this.autoloadSegments) {\n        this.trigger('data_ready');\n        this.timeCompleted = this.animationData.tf;\n        return;\n    }\n    var segment = segments.shift();\n    this.timeCompleted = segment.time * this.frameRate;\n    var xhr = new XMLHttpRequest();\n    var self = this;\n    var segmentPath = this.path + this.fileName + '_' + this.segmentPos + '.json';\n    this.segmentPos += 1;\n    xhr.open('GET', segmentPath, true);\n    xhr.send();\n    xhr.onreadystatechange = function () {\n        if (xhr.readyState == 4) {\n            if (xhr.status == 200) {\n                self.includeLayers(JSON.parse(xhr.responseText));\n            } else {\n                try {\n                    var response = JSON.parse(xhr.responseText);\n                    self.includeLayers(response);\n                } catch (err) {}\n            }\n        }\n    };\n};\n\nAnimationItem.prototype.loadSegments = function () {\n    var segments = this.animationData.segments;\n    if (!segments) {\n        this.timeCompleted = this.animationData.tf;\n    }\n    this.loadNextSegment();\n};\n\nAnimationItem.prototype.configAnimation = function (animData) {\n    if (this.renderer && this.renderer.destroyed) {\n        return;\n    }\n    //console.log(JSON.parse(JSON.stringify(animData)));\n    //animData.w = Math.round(animData.w/blitter);\n    //animData.h = Math.round(animData.h/blitter);\n    this.animationData = animData;\n    this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip);\n    this.animationData.tf = this.totalFrames;\n    this.renderer.configAnimation(animData);\n    if (!animData.assets) {\n        animData.assets = [];\n    }\n    if (animData.comps) {\n        animData.assets = animData.assets.concat(animData.comps);\n        animData.comps = null;\n    }\n    this.renderer.searchExtraCompositions(animData.assets);\n\n    this.layers = this.animationData.layers;\n    this.assets = this.animationData.assets;\n    this.frameRate = this.animationData.fr;\n    this.firstFrame = Math.round(this.animationData.ip);\n    this.frameMult = this.animationData.fr / 1000;\n    this.trigger('config_ready');\n    this.imagePreloader = new _ImagePreloader2.default();\n    this.imagePreloader.setAssetsPath(this.assetsPath);\n    this.imagePreloader.setPath(this.path);\n    this.imagePreloader.loadAssets(animData.assets);\n    this.loadSegments();\n    this.updaFrameModifier();\n    if (this.renderer.globalData.fontManager) {\n        this.waitForFontsLoaded();\n    } else {\n        _DataManager2.default.completeData(this.animationData, this.renderer.globalData.fontManager);\n        this.checkLoaded();\n    }\n};\n\nAnimationItem.prototype.waitForFontsLoaded = function () {\n    function checkFontsLoaded() {\n        if (this.renderer.globalData.fontManager.loaded) {\n            _DataManager2.default.completeData(this.animationData, this.renderer.globalData.fontManager);\n            //this.renderer.buildItems(this.animationData.layers);\n            this.checkLoaded();\n        } else {\n            setTimeout(checkFontsLoaded.bind(this), 20);\n        }\n    }\n\n    return function () {\n        checkFontsLoaded.bind(this)();\n    };\n}();\n\nAnimationItem.prototype.addPendingElement = function () {\n    this.pendingElements += 1;\n};\n\nAnimationItem.prototype.elementLoaded = function () {\n    this.pendingElements--;\n    this.checkLoaded();\n};\n\nAnimationItem.prototype.checkLoaded = function () {\n    if (this.pendingElements === 0) {\n        if (_common.expressionsPlugin) {\n            _common.expressionsPlugin.initExpressions(this);\n        }\n        this.renderer.initItems();\n        setTimeout(function () {\n            this.trigger('DOMLoaded');\n        }.bind(this), 0);\n        this.isLoaded = true;\n        this.gotoFrame();\n        if (this.autoplay) {\n            this.play();\n        }\n    }\n};\n\nAnimationItem.prototype.resize = function () {\n    this.renderer.updateContainerSize();\n};\n\nAnimationItem.prototype.setSubframe = function (flag) {\n    this.subframeEnabled = flag ? true : false;\n};\n\nAnimationItem.prototype.gotoFrame = function () {\n    if (this.subframeEnabled) {\n        this.currentFrame = this.currentRawFrame;\n    } else {\n        this.currentFrame = Math.floor(this.currentRawFrame);\n    }\n\n    if (this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted) {\n        this.currentFrame = this.timeCompleted;\n    }\n    this.trigger('enterFrame');\n    this.renderFrame();\n};\n\nAnimationItem.prototype.renderFrame = function () {\n    if (this.isLoaded === false) {\n        return;\n    }\n    //console.log('this.currentFrame:',this.currentFrame + this.firstFrame);\n    this.renderer.renderFrame(this.currentFrame + this.firstFrame);\n};\n\nAnimationItem.prototype.play = function (name) {\n    if (name && this.name != name) {\n        return;\n    }\n    if (this.isPaused === true) {\n        this.isPaused = false;\n        if (this._idle) {\n            this._idle = false;\n            this.trigger('_active');\n        }\n    }\n};\n\nAnimationItem.prototype.pause = function (name) {\n    if (name && this.name != name) {\n        return;\n    }\n    if (this.isPaused === false) {\n        this.isPaused = true;\n        if (!this.pendingSegment) {\n            this._idle = true;\n            this.trigger('_idle');\n        }\n    }\n};\n\nAnimationItem.prototype.togglePause = function (name) {\n    if (name && this.name != name) {\n        return;\n    }\n    if (this.isPaused === true) {\n        this.play();\n    } else {\n        this.pause();\n    }\n};\n\nAnimationItem.prototype.stop = function (name) {\n    if (name && this.name != name) {\n        return;\n    }\n    this.pause();\n    this.currentFrame = this.currentRawFrame = 0;\n    this.playCount = 0;\n    this.gotoFrame();\n};\n\nAnimationItem.prototype.goToAndStop = function (value, isFrame, name) {\n    if (name && this.name != name) {\n        return;\n    }\n    if (isFrame) {\n        this.setCurrentRawFrameValue(value);\n    } else {\n        this.setCurrentRawFrameValue(value * this.frameModifier);\n    }\n    this.pause();\n};\n\nAnimationItem.prototype.goToAndPlay = function (value, isFrame, name) {\n    this.goToAndStop(value, isFrame, name);\n    this.play();\n};\n\nAnimationItem.prototype.advanceTime = function (value) {\n    if (this.pendingSegment) {\n        this.pendingSegment = false;\n        this.adjustSegment(this.segments.shift());\n        if (this.isPaused) {\n            this.play();\n        }\n        return;\n    }\n    if (this.isPaused === true || this.isLoaded === false) {\n        return;\n    }\n    this.setCurrentRawFrameValue(this.currentRawFrame + value * this.frameModifier);\n};\n\nAnimationItem.prototype.updateAnimation = function (perc) {\n    this.setCurrentRawFrameValue(this.totalFrames * perc);\n};\n\nAnimationItem.prototype.moveFrame = function (value, name) {\n    if (name && this.name != name) {\n        return;\n    }\n    this.setCurrentRawFrameValue(this.currentRawFrame + value);\n};\n\nAnimationItem.prototype.adjustSegment = function (arr) {\n    this.playCount = 0;\n    if (arr[1] < arr[0]) {\n        if (this.frameModifier > 0) {\n            if (this.playSpeed < 0) {\n                this.setSpeed(-this.playSpeed);\n            } else {\n                this.setDirection(-1);\n            }\n        }\n        this.totalFrames = arr[0] - arr[1];\n        this.firstFrame = arr[1];\n        this.setCurrentRawFrameValue(this.totalFrames - 0.01);\n    } else if (arr[1] > arr[0]) {\n        if (this.frameModifier < 0) {\n            if (this.playSpeed < 0) {\n                this.setSpeed(-this.playSpeed);\n            } else {\n                this.setDirection(1);\n            }\n        }\n        this.totalFrames = arr[1] - arr[0];\n        this.firstFrame = arr[0];\n        this.setCurrentRawFrameValue(0);\n    }\n    this.trigger('segmentStart');\n};\nAnimationItem.prototype.setSegment = function (init, end) {\n    var pendingFrame = -1;\n    if (this.isPaused) {\n        if (this.currentRawFrame + this.firstFrame < init) {\n            pendingFrame = init;\n        } else if (this.currentRawFrame + this.firstFrame > end) {\n            pendingFrame = end - init - 0.01;\n        }\n    }\n\n    this.firstFrame = init;\n    this.totalFrames = end - init;\n    if (pendingFrame !== -1) {\n        this.goToAndStop(pendingFrame, true);\n    }\n};\n\nAnimationItem.prototype.playSegments = function (arr, forceFlag) {\n    if (_typeof(arr[0]) === 'object') {\n        var i,\n            len = arr.length;\n        for (i = 0; i < len; i += 1) {\n            this.segments.push(arr[i]);\n        }\n    } else {\n        this.segments.push(arr);\n    }\n    if (forceFlag) {\n        this.adjustSegment(this.segments.shift());\n    }\n    if (this.isPaused) {\n        this.play();\n    }\n};\n\nAnimationItem.prototype.resetSegments = function (forceFlag) {\n    this.segments.length = 0;\n    this.segments.push([this.animationData.ip * this.frameRate, Math.floor(this.animationData.op - this.animationData.ip + this.animationData.ip * this.frameRate)]);\n    if (forceFlag) {\n        this.adjustSegment(this.segments.shift());\n    }\n};\nAnimationItem.prototype.checkSegments = function () {\n    if (this.segments.length) {\n        this.pendingSegment = true;\n    }\n};\n\nAnimationItem.prototype.remove = function (name) {\n    if (name && this.name != name) {\n        return;\n    }\n    this.renderer.destroy();\n};\n\nAnimationItem.prototype.destroy = function (name) {\n    if (name && this.name != name || this.renderer && this.renderer.destroyed) {\n        return;\n    }\n    this.renderer.destroy();\n    this.trigger('destroy');\n    this._cbs = null;\n    this.onEnterFrame = this.onLoopComplete = this.onComplete = this.onSegmentStart = this.onDestroy = null;\n};\n\nAnimationItem.prototype.setCurrentRawFrameValue = function (value) {\n    this.currentRawFrame = value;\n    //console.log(this.totalFrames);\n    if (this.currentRawFrame >= this.totalFrames) {\n        this.checkSegments();\n        if (this.loop === false) {\n            this.currentRawFrame = this.totalFrames - 0.01;\n            this.gotoFrame();\n            this.pause();\n            this.trigger('complete');\n            return;\n        } else {\n            this.trigger('loopComplete');\n            this.playCount += 1;\n            if (this.loop !== true && this.playCount == this.loop || this.pendingSegment) {\n                this.currentRawFrame = this.totalFrames - 0.01;\n                this.gotoFrame();\n                this.pause();\n                this.trigger('complete');\n                return;\n            } else {\n                this.currentRawFrame = this.currentRawFrame % this.totalFrames;\n            }\n        }\n    } else if (this.currentRawFrame < 0) {\n        this.checkSegments();\n        this.playCount -= 1;\n        if (this.playCount < 0) {\n            this.playCount = 0;\n        }\n        if (this.loop === false || this.pendingSegment) {\n            this.currentRawFrame = 0;\n            this.gotoFrame();\n            this.pause();\n            this.trigger('complete');\n            return;\n        } else {\n            this.trigger('loopComplete');\n            this.currentRawFrame = (this.totalFrames + this.currentRawFrame) % this.totalFrames;\n            this.gotoFrame();\n            return;\n        }\n    }\n\n    this.gotoFrame();\n};\n\nAnimationItem.prototype.setSpeed = function (val) {\n    this.playSpeed = val;\n    this.updaFrameModifier();\n};\n\nAnimationItem.prototype.setDirection = function (val) {\n    this.playDirection = val < 0 ? -1 : 1;\n    this.updaFrameModifier();\n};\n\nAnimationItem.prototype.updaFrameModifier = function () {\n    this.frameModifier = this.frameMult * this.playSpeed * this.playDirection;\n};\n\nAnimationItem.prototype.getPath = function () {\n    return this.path;\n};\n\nAnimationItem.prototype.getAssetsPath = function (assetData) {\n    var path = '';\n    if (this.assetsPath) {\n        var imagePath = assetData.p;\n        if (imagePath.indexOf('images/') !== -1) {\n            imagePath = imagePath.split('/')[1];\n        }\n        path = this.assetsPath + imagePath;\n    } else {\n        path = this.path;\n        path += assetData.u ? assetData.u : '';\n        path += assetData.p;\n    }\n    return path;\n};\n\nAnimationItem.prototype.getAssetData = function (id) {\n    var i = 0,\n        len = this.assets.length;\n    while (i < len) {\n        if (id == this.assets[i].id) {\n            return this.assets[i];\n        }\n        i += 1;\n    }\n};\n\nAnimationItem.prototype.hide = function () {\n    this.renderer.hide();\n};\n\nAnimationItem.prototype.show = function () {\n    this.renderer.show();\n};\n\nAnimationItem.prototype.getAssets = function () {\n    return this.assets;\n};\n\nAnimationItem.prototype.trigger = function (name) {\n    if (this._cbs && this._cbs[name]) {\n        switch (name) {\n            case 'enterFrame':\n                this.triggerEvent(name, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameMult));\n                break;\n            case 'loopComplete':\n                this.triggerEvent(name, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\n                break;\n            case 'complete':\n                this.triggerEvent(name, new BMCompleteEvent(name, this.frameMult));\n                break;\n            case 'segmentStart':\n                this.triggerEvent(name, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\n                break;\n            case 'destroy':\n                this.triggerEvent(name, new BMDestroyEvent(name, this));\n                break;\n            default:\n                this.triggerEvent(name);\n        }\n    }\n    if (name === 'enterFrame' && this.onEnterFrame) {\n        this.onEnterFrame.call(this, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameMult));\n    }\n    if (name === 'loopComplete' && this.onLoopComplete) {\n        this.onLoopComplete.call(this, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\n    }\n    if (name === 'complete' && this.onComplete) {\n        this.onComplete.call(this, new BMCompleteEvent(name, this.frameMult));\n    }\n    if (name === 'segmentStart' && this.onSegmentStart) {\n        this.onSegmentStart.call(this, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\n    }\n    if (name === 'destroy' && this.onDestroy) {\n        this.onDestroy.call(this, new BMDestroyEvent(name, this));\n    }\n};\n\nAnimationItem.prototype.addEventListener = _common._addEventListener;\nAnimationItem.prototype.removeEventListener = _common._removeEventListener;\nAnimationItem.prototype.triggerEvent = _common._triggerEvent;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = BaseElement;\n\nvar _Matrix = __webpack_require__(7);\n\nvar _Matrix2 = _interopRequireDefault(_Matrix);\n\nvar _PropertyFactory = __webpack_require__(2);\n\nvar _PropertyFactory2 = _interopRequireDefault(_PropertyFactory);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction BaseElement() {};\n\nBaseElement.prototype.checkMasks = function () {\n    if (!this.data.hasMask) {\n        return false;\n    }\n    var i = 0,\n        len = this.data.masksProperties.length;\n    while (i < len) {\n        if (this.data.masksProperties[i].mode !== 'n' && this.data.masksProperties[i].cl !== false) {\n            return true;\n        }\n        i += 1;\n    }\n    return false;\n};\n\nBaseElement.prototype.checkParenting = function () {\n    if (this.data.parent !== undefined) {\n        this.comp.buildElementParenting(this, this.data.parent);\n    }\n};\n\nBaseElement.prototype.prepareFrame = function (num) {\n    if (this.data.ip - this.data.st <= num && this.data.op - this.data.st > num) {\n        if (this.isVisible !== true) {\n            this.elemMdf = true;\n            this.globalData.mdf = true;\n            this.isVisible = true;\n            this.firstFrame = true;\n            if (this.data.hasMask) {\n                this.maskManager.firstFrame = true;\n            }\n        }\n    } else {\n        if (this.isVisible !== false) {\n            this.elemMdf = true;\n            this.globalData.mdf = true;\n            this.isVisible = false;\n        }\n    }\n    var i,\n        len = this.dynamicProperties.length;\n    for (i = 0; i < len; i += 1) {\n        if (this.isVisible || this._isParent && this.dynamicProperties[i].type === 'transform') {\n            this.dynamicProperties[i].getValue();\n            if (this.dynamicProperties[i].mdf) {\n                this.elemMdf = true;\n                this.globalData.mdf = true;\n            }\n        }\n    }\n    if (this.data.hasMask && this.isVisible) {\n        this.maskManager.prepareFrame(num * this.data.sr);\n    }\n\n    /* TODO check this\n    if(this.data.sy){\n        if(this.data.sy[0].renderedData[num]){\n            if(this.data.sy[0].renderedData[num].c){\n                this.feFlood.setAttribute('flood-color','rgb('+Math.round(this.data.sy[0].renderedData[num].c[0])+','+Math.round(this.data.sy[0].renderedData[num].c[1])+','+Math.round(this.data.sy[0].renderedData[num].c[2])+')');\n            }\n            if(this.data.sy[0].renderedData[num].s){\n                this.feMorph.setAttribute('radius',this.data.sy[0].renderedData[num].s);\n            }\n        }\n    }\n    */\n\n    this.currentFrameNum = num * this.data.sr;\n    return this.isVisible;\n};\n\nBaseElement.prototype.globalToLocal = function (pt) {\n    var transforms = [];\n    transforms.push(this.finalTransform);\n    var flag = true;\n    var comp = this.comp;\n    while (flag) {\n        if (comp.finalTransform) {\n            if (comp.data.hasMask) {\n                transforms.splice(0, 0, comp.finalTransform);\n            }\n            comp = comp.comp;\n        } else {\n            flag = false;\n        }\n    }\n    var i,\n        len = transforms.length,\n        ptNew;\n    for (i = 0; i < len; i += 1) {\n        ptNew = transforms[i].mat.applyToPointArray(0, 0, 0);\n        //ptNew = transforms[i].mat.applyToPointArray(pt[0],pt[1],pt[2]);\n        pt = [pt[0] - ptNew[0], pt[1] - ptNew[1], 0];\n    }\n    return pt;\n};\n\nBaseElement.prototype.initExpressions = function () {\n    this.layerInterface = LayerExpressionInterface(this);\n    //layers[i].layerInterface = LayerExpressionInterface(layers[i]);\n    //layers[i].layerInterface = LayerExpressionInterface(layers[i]);\n    if (this.data.hasMask) {\n        this.layerInterface.registerMaskInterface(this.maskManager);\n    }\n    var effectsInterface = EffectsExpressionInterface.createEffectsInterface(this, this.layerInterface);\n    this.layerInterface.registerEffectsInterface(effectsInterface);\n\n    if (this.data.ty === 0 || this.data.xt) {\n        this.compInterface = CompExpressionInterface(this);\n    } else if (this.data.ty === 4) {\n        this.layerInterface.shapeInterface = ShapeExpressionInterface.createShapeInterface(this.shapesData, this.viewData, this.layerInterface);\n    } else if (this.data.ty === 5) {\n        this.layerInterface.textInterface = TextExpressionInterface(this);\n    }\n};\n\nBaseElement.prototype.setBlendMode = function () {\n    var blendModeValue = '';\n    switch (this.data.bm) {\n        case 1:\n            blendModeValue = 'multiply';\n            break;\n        case 2:\n            blendModeValue = 'screen';\n            break;\n        case 3:\n            blendModeValue = 'overlay';\n            break;\n        case 4:\n            blendModeValue = 'darken';\n            break;\n        case 5:\n            blendModeValue = 'lighten';\n            break;\n        case 6:\n            blendModeValue = 'color-dodge';\n            break;\n        case 7:\n            blendModeValue = 'color-burn';\n            break;\n        case 8:\n            blendModeValue = 'hard-light';\n            break;\n        case 9:\n            blendModeValue = 'soft-light';\n            break;\n        case 10:\n            blendModeValue = 'difference';\n            break;\n        case 11:\n            blendModeValue = 'exclusion';\n            break;\n        case 12:\n            blendModeValue = 'hue';\n            break;\n        case 13:\n            blendModeValue = 'saturation';\n            break;\n        case 14:\n            blendModeValue = 'color';\n            break;\n        case 15:\n            blendModeValue = 'luminosity';\n            break;\n    }\n    var elem = this.baseElement || this.layerElement;\n\n    elem.style['mix-blend-mode'] = blendModeValue;\n};\n\nBaseElement.prototype.init = function () {\n    if (!this.data.sr) {\n        this.data.sr = 1;\n    }\n    this.dynamicProperties = [];\n    if (this.data.ef) {\n        this.effects = new EffectsManager(this.data, this, this.dynamicProperties);\n        //this.effect = this.effectsManager.bind(this.effectsManager);\n    }\n    //this.elemInterface = buildLayerExpressionInterface(this);\n    this.hidden = false;\n    this.firstFrame = true;\n    this.isVisible = false;\n    this._isParent = false;\n    this.currentFrameNum = -99999;\n    this.lastNum = -99999;\n    if (this.data.ks) {\n        this.finalTransform = {\n            mProp: _PropertyFactory2.default.getProp(this, this.data.ks, 2, null, this.dynamicProperties),\n            matMdf: false,\n            opMdf: false,\n            mat: new _Matrix2.default(),\n            opacity: 1\n        };\n        if (this.data.ao) {\n            this.finalTransform.mProp.autoOriented = true;\n        }\n        this.finalTransform.op = this.finalTransform.mProp.o;\n        this.transform = this.finalTransform.mProp;\n        if (this.data.ty !== 11) {\n            this.createElements();\n        }\n        if (this.data.hasMask) {\n            this.addMasks(this.data);\n        }\n    }\n    this.elemMdf = false;\n};\n\nBaseElement.prototype.getType = function () {\n    return this.type;\n};\n\nBaseElement.prototype.resetHierarchy = function () {\n    if (!this.hierarchy) {\n        this.hierarchy = [];\n    } else {\n        this.hierarchy.length = 0;\n    }\n};\n\nBaseElement.prototype.getHierarchy = function () {\n    if (!this.hierarchy) {\n        this.hierarchy = [];\n    }\n    return this.hierarchy;\n};\n\nBaseElement.prototype.setHierarchy = function (hierarchy) {\n    this.hierarchy = hierarchy;\n};\n\nBaseElement.prototype.getLayerSize = function () {\n    if (this.data.ty === 5) {\n        return { w: this.data.textData.width, h: this.data.textData.height };\n    } else {\n        return { w: this.data.width, h: this.data.height };\n    }\n};\n\nBaseElement.prototype.hide = function () {};\n\nBaseElement.prototype.mHelper = new _Matrix2.default();\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _common = __webpack_require__(0);\n\nvar _SVGBaseElement2 = __webpack_require__(1);\n\nvar _SVGBaseElement3 = _interopRequireDefault(_SVGBaseElement2);\n\nvar _SVGRenderer = __webpack_require__(5);\n\nvar _SVGRenderer2 = _interopRequireDefault(_SVGRenderer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CompElement = function (_SVGBaseElement) {\n\t_inherits(CompElement, _SVGBaseElement);\n\n\tfunction CompElement(data, parentContainer, globalData, comp, placeholder) {\n\t\t_classCallCheck(this, CompElement);\n\n\t\tvar _this = _possibleConstructorReturn(this, (CompElement.__proto__ || Object.getPrototypeOf(CompElement)).call(this, data, parentContainer, globalData, comp, placeholder));\n\n\t\t_this.layers = data.layers;\n\t\t_this.supports3d = true;\n\t\t_this.completeLayers = false;\n\t\t_this.pendingElements = [];\n\t\t_this.elements = _this.layers ? Array.apply(null, { length: _this.layers.length }) : [];\n\n\t\tif (_this.data.tm) {\n\t\t\t_this.tm = PropertyFactory.getProp(_this, _this.data.tm, 0, globalData.frameRate, _this.dynamicProperties);\n\t\t}\n\t\tif (_this.data.xt) {\n\t\t\t_this.layerElement = document.createElementNS(svgNS, 'g');\n\t\t\t_this.buildAllItems();\n\t\t} else if (!globalData.progressiveLoad) {\n\t\t\t_this.buildAllItems();\n\t\t}\n\t\treturn _this;\n\t}\n\n\t_createClass(CompElement, [{\n\t\tkey: \"hide\",\n\t\tvalue: function hide() {\n\t\t\tif (!this.hidden) {\n\t\t\t\tvar i,\n\t\t\t\t    len = this.elements.length;\n\t\t\t\tfor (i = 0; i < len; i += 1) {\n\t\t\t\t\tif (this.elements[i]) {\n\t\t\t\t\t\tthis.elements[i].hide();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.hidden = true;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"prepareFrame\",\n\t\tvalue: function prepareFrame(num) {\n\t\t\t_get(CompElement.prototype.__proto__ || Object.getPrototypeOf(CompElement.prototype), \"prepareFrame\", this).call(this, num);\n\t\t\tif (this.isVisible === false && !this.data.xt) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.tm) {\n\t\t\t\tvar timeRemapped = this.tm.v;\n\t\t\t\tif (timeRemapped === this.data.op) {\n\t\t\t\t\ttimeRemapped = this.data.op - 1;\n\t\t\t\t}\n\t\t\t\tthis.renderedFrame = timeRemapped;\n\t\t\t} else {\n\t\t\t\tthis.renderedFrame = num / this.data.sr;\n\t\t\t}\n\t\t\tvar i,\n\t\t\t    len = this.elements.length;\n\t\t\tif (!this.completeLayers) {\n\t\t\t\tthis.checkLayers(this.renderedFrame);\n\t\t\t}\n\t\t\tfor (i = 0; i < len; i += 1) {\n\t\t\t\tif (this.completeLayers || this.elements[i]) {\n\t\t\t\t\tthis.elements[i].prepareFrame(this.renderedFrame - this.layers[i].st);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"renderFrame\",\n\t\tvalue: function renderFrame(parentMatrix) {\n\t\t\tvar renderParent = _get(CompElement.prototype.__proto__ || Object.getPrototypeOf(CompElement.prototype), \"renderFrame\", this).call(this, parentMatrix);\n\t\t\tvar i,\n\t\t\t    len = this.layers.length;\n\t\t\tif (renderParent === false) {\n\t\t\t\tthis.hide();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.hidden = false;\n\t\t\tfor (i = 0; i < len; i += 1) {\n\t\t\t\tif (this.completeLayers || this.elements[i]) {\n\t\t\t\t\tthis.elements[i].renderFrame();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.firstFrame) {\n\t\t\t\tthis.firstFrame = false;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"setElements\",\n\t\tvalue: function setElements(elems) {\n\t\t\tthis.elements = elems;\n\t\t}\n\t}, {\n\t\tkey: \"getElements\",\n\t\tvalue: function getElements() {\n\t\t\treturn this.elements;\n\t\t}\n\t}, {\n\t\tkey: \"destroy\",\n\t\tvalue: function destroy() {\n\t\t\t_get(CompElement.prototype.__proto__ || Object.getPrototypeOf(CompElement.prototype), \"destroy\", this).call(this);\n\t\t\tvar i,\n\t\t\t    len = this.layers.length;\n\t\t\tfor (i = 0; i < len; i += 1) {\n\t\t\t\tif (this.elements[i]) {\n\t\t\t\t\tthis.elements[i].destroy();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"checkLayers\",\n\t\tvalue: function checkLayers(num) {\n\t\t\treturn _SVGRenderer2.default.prototype.checkLayers.call(this, num);\n\t\t}\n\t}, {\n\t\tkey: \"buildItem\",\n\t\tvalue: function buildItem(pos) {\n\t\t\treturn _SVGRenderer2.default.prototype.buildItem.call(this, pos);\n\t\t}\n\t}, {\n\t\tkey: \"buildAllItems\",\n\t\tvalue: function buildAllItems() {\n\t\t\treturn _SVGRenderer2.default.prototype.buildAllItems.call(this);\n\t\t}\n\t}, {\n\t\tkey: \"buildElementParenting\",\n\t\tvalue: function buildElementParenting(element, parentName, hierarchy) {\n\t\t\treturn _SVGRenderer2.default.prototype.buildElementParenting.call(this, element, parentName, hierarchy);\n\t\t}\n\t}, {\n\t\tkey: \"createItem\",\n\t\tvalue: function createItem(layer) {\n\t\t\treturn _SVGRenderer2.default.prototype.createItem.call(this, layer);\n\t\t}\n\t}, {\n\t\tkey: \"createImage\",\n\t\tvalue: function createImage(data) {\n\t\t\treturn _SVGRenderer2.default.prototype.createImage.call(this, data);\n\t\t}\n\t}, {\n\t\tkey: \"createComp\",\n\t\tvalue: function createComp(data) {\n\t\t\treturn _SVGRenderer2.default.prototype.createComp.call(this, data);\n\t\t}\n\t}, {\n\t\tkey: \"createSolid\",\n\t\tvalue: function createSolid(data) {\n\t\t\treturn _SVGRenderer2.default.prototype.createSolid.call(this, data);\n\t\t}\n\t}, {\n\t\tkey: \"createShape\",\n\t\tvalue: function createShape(data) {\n\t\t\treturn _SVGRenderer2.default.prototype.createShape.call(this, data);\n\t\t}\n\t}, {\n\t\tkey: \"createText\",\n\t\tvalue: function createText(data) {\n\t\t\treturn _SVGRenderer2.default.prototype.createText.call(this, data);\n\t\t}\n\t}, {\n\t\tkey: \"createBase\",\n\t\tvalue: function createBase(data) {\n\t\t\treturn _SVGRenderer2.default.prototype.createBase.call(this, data);\n\t\t}\n\t}, {\n\t\tkey: \"appendElementInPos\",\n\t\tvalue: function appendElementInPos(element, pos) {\n\t\t\treturn _SVGRenderer2.default.prototype.appendElementInPos.call(this, element, pos);\n\t\t}\n\t}, {\n\t\tkey: \"checkPendingElements\",\n\t\tvalue: function checkPendingElements() {\n\t\t\treturn _SVGRenderer2.default.prototype.checkPendingElements.call(this);\n\t\t}\n\t}, {\n\t\tkey: \"addPendingElement\",\n\t\tvalue: function addPendingElement(element) {\n\t\t\treturn _SVGRenderer2.default.prototype.addPendingElement.call(this, element);\n\t\t}\n\t}]);\n\n\treturn CompElement;\n}(_SVGBaseElement3.default);\n\n// CompElement.prototype.checkLayers = SVGRenderer.prototype.checkLayers;\n// CompElement.prototype.buildItem = SVGRenderer.prototype.buildItem;\n// CompElement.prototype.buildAllItems = SVGRenderer.prototype.buildAllItems;\n// CompElement.prototype.buildElementParenting = SVGRenderer.prototype.buildElementParenting;\n// CompElement.prototype.createItem = SVGRenderer.prototype.createItem;\n// CompElement.prototype.createImage = SVGRenderer.prototype.createImage;\n// CompElement.prototype.createComp = SVGRenderer.prototype.createComp;\n// CompElement.prototype.createSolid = SVGRenderer.prototype.createSolid;\n// CompElement.prototype.createShape = SVGRenderer.prototype.createShape;\n// CompElement.prototype.createText = SVGRenderer.prototype.createText;\n// CompElement.prototype.createBase = SVGRenderer.prototype.createBase;\n// CompElement.prototype.appendElementInPos = SVGRenderer.prototype.appendElementInPos;\n// CompElement.prototype.checkPendingElements = SVGRenderer.prototype.checkPendingElements;\n// CompElement.prototype.addPendingElement = SVGRenderer.prototype.addPendingElement;\n\n\nexports.default = CompElement;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = MaskElement;\n\nvar _common = __webpack_require__(0);\n\nvar _PropertyFactory = __webpack_require__(2);\n\nvar _PropertyFactory2 = _interopRequireDefault(_PropertyFactory);\n\nvar _ShapePropertyFactory = __webpack_require__(10);\n\nvar _ShapePropertyFactory2 = _interopRequireDefault(_ShapePropertyFactory);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction MaskElement(data, element, globalData) {\n    this.dynamicProperties = [];\n    this.data = data;\n    this.element = element;\n    this.globalData = globalData;\n    this.paths = [];\n    this.storedData = [];\n    this.masksProperties = this.data.masksProperties;\n    this.viewData = new Array(this.masksProperties.length);\n    this.maskElement = null;\n    this.firstFrame = true;\n    var defs = this.globalData.defs;\n    var i,\n        len = this.masksProperties.length;\n\n    var path,\n        properties = this.masksProperties;\n    var count = 0;\n    var currentMasks = [];\n    var j, jLen;\n    var layerId = (0, _common.randomString)(10);\n    var rect, expansor, feMorph, x;\n    var maskType = 'clipPath',\n        maskRef = 'clip-path';\n    for (i = 0; i < len; i++) {\n\n        if (properties[i].mode !== 'a' && properties[i].mode !== 'n' || properties[i].inv || properties[i].o.k !== 100) {\n            maskType = 'mask';\n            maskRef = 'mask';\n        }\n\n        if ((properties[i].mode == 's' || properties[i].mode == 'i') && count == 0) {\n            rect = document.createElementNS(_common.svgNS, 'rect');\n            rect.setAttribute('fill', '#ffffff');\n            rect.setAttribute('width', this.element.comp.data.w);\n            rect.setAttribute('height', this.element.comp.data.h);\n            currentMasks.push(rect);\n        } else {\n            rect = null;\n        }\n\n        path = document.createElementNS(_common.svgNS, 'path');\n        if (properties[i].mode == 'n') {\n            this.viewData[i] = {\n                op: _PropertyFactory2.default.getProp(this.element, properties[i].o, 0, 0.01, this.dynamicProperties),\n                prop: _ShapePropertyFactory2.default.getShapeProp(this.element, properties[i], 3, this.dynamicProperties, null),\n                elem: path\n            };\n            defs.appendChild(path);\n            continue;\n        }\n        count += 1;\n\n        if (properties[i].mode == 's') {\n            path.setAttribute('fill', '#000000');\n        } else {\n            path.setAttribute('fill', '#ffffff');\n        }\n        path.setAttribute('clip-rule', 'nonzero');\n\n        if (properties[i].x.k !== 0) {\n            maskType = 'mask';\n            maskRef = 'mask';\n            x = _PropertyFactory2.default.getProp(this.element, properties[i].x, 0, null, this.dynamicProperties);\n            var filterID = 'fi_' + (0, _common.randomString)(10);\n            expansor = document.createElementNS(_common.svgNS, 'filter');\n            expansor.setAttribute('id', filterID);\n            feMorph = document.createElementNS(_common.svgNS, 'feMorphology');\n            feMorph.setAttribute('operator', 'dilate');\n            feMorph.setAttribute('in', 'SourceGraphic');\n            feMorph.setAttribute('radius', '0');\n            expansor.appendChild(feMorph);\n            defs.appendChild(expansor);\n            if (properties[i].mode == 's') {\n                path.setAttribute('stroke', '#000000');\n            } else {\n                path.setAttribute('stroke', '#ffffff');\n            }\n        } else {\n            feMorph = null;\n            x = null;\n        }\n\n        this.storedData[i] = {\n            elem: path,\n            x: x,\n            expan: feMorph,\n            lastPath: '',\n            lastOperator: '',\n            filterId: filterID,\n            lastRadius: 0\n        };\n        if (properties[i].mode == 'i') {\n            jLen = currentMasks.length;\n            var g = document.createElementNS(_common.svgNS, 'g');\n            for (j = 0; j < jLen; j += 1) {\n                g.appendChild(currentMasks[j]);\n            }\n            var mask = document.createElementNS(_common.svgNS, 'mask');\n            mask.setAttribute('mask-type', 'alpha');\n            mask.setAttribute('id', layerId + '_' + count);\n            mask.appendChild(path);\n            defs.appendChild(mask);\n            g.setAttribute('mask', 'url(#' + layerId + '_' + count + ')');\n\n            currentMasks.length = 0;\n            currentMasks.push(g);\n        } else {\n            currentMasks.push(path);\n        }\n        if (properties[i].inv && !this.solidPath) {\n            this.solidPath = this.createLayerSolidPath();\n        }\n        this.viewData[i] = {\n            elem: path,\n            lastPath: '',\n            op: _PropertyFactory2.default.getProp(this.element, properties[i].o, 0, 0.01, this.dynamicProperties),\n            prop: _ShapePropertyFactory2.default.getShapeProp(this.element, properties[i], 3, this.dynamicProperties, null)\n        };\n        if (rect) {\n            this.viewData[i].invRect = rect;\n        }\n        if (!this.viewData[i].prop.k) {\n            this.drawPath(properties[i], this.viewData[i].prop.v, this.viewData[i]);\n        }\n    }\n\n    this.maskElement = document.createElementNS(_common.svgNS, maskType);\n\n    len = currentMasks.length;\n    for (i = 0; i < len; i += 1) {\n        this.maskElement.appendChild(currentMasks[i]);\n    }\n\n    this.maskElement.setAttribute('id', layerId);\n    if (count > 0) {\n        this.element.maskedElement.setAttribute(maskRef, \"url(#\" + layerId + \")\");\n    }\n\n    defs.appendChild(this.maskElement);\n};\n\nMaskElement.prototype.getMaskProperty = function (pos) {\n    return this.viewData[pos].prop;\n};\n\nMaskElement.prototype.prepareFrame = function () {\n    var i,\n        len = this.dynamicProperties.length;\n    for (i = 0; i < len; i += 1) {\n        this.dynamicProperties[i].getValue();\n    }\n};\n\nMaskElement.prototype.renderFrame = function (finalMat) {\n    var i,\n        len = this.masksProperties.length;\n    for (i = 0; i < len; i++) {\n        if (this.viewData[i].prop.mdf || this.firstFrame) {\n            this.drawPath(this.masksProperties[i], this.viewData[i].prop.v, this.viewData[i]);\n        }\n        if (this.viewData[i].op.mdf || this.firstFrame) {\n            this.viewData[i].elem.setAttribute('fill-opacity', this.viewData[i].op.v);\n        }\n        if (this.masksProperties[i].mode !== 'n') {\n            if (this.viewData[i].invRect && (this.element.finalTransform.mProp.mdf || this.firstFrame)) {\n                this.viewData[i].invRect.setAttribute('x', -finalMat.props[12]);\n                this.viewData[i].invRect.setAttribute('y', -finalMat.props[13]);\n            }\n            if (this.storedData[i].x && (this.storedData[i].x.mdf || this.firstFrame)) {\n                var feMorph = this.storedData[i].expan;\n                if (this.storedData[i].x.v < 0) {\n                    if (this.storedData[i].lastOperator !== 'erode') {\n                        this.storedData[i].lastOperator = 'erode';\n                        this.storedData[i].elem.setAttribute('filter', 'url(#' + this.storedData[i].filterId + ')');\n                    }\n                    feMorph.setAttribute('radius', -this.storedData[i].x.v);\n                } else {\n                    if (this.storedData[i].lastOperator !== 'dilate') {\n                        this.storedData[i].lastOperator = 'dilate';\n                        this.storedData[i].elem.setAttribute('filter', null);\n                    }\n                    this.storedData[i].elem.setAttribute('stroke-width', this.storedData[i].x.v * 2);\n                }\n            }\n        }\n    }\n    this.firstFrame = false;\n};\n\nMaskElement.prototype.getMaskelement = function () {\n    return this.maskElement;\n};\n\nMaskElement.prototype.createLayerSolidPath = function () {\n    var path = 'M0,0 ';\n    path += ' h' + this.globalData.compSize.w;\n    path += ' v' + this.globalData.compSize.h;\n    path += ' h-' + this.globalData.compSize.w;\n    path += ' v-' + this.globalData.compSize.h + ' ';\n    return path;\n};\n\nMaskElement.prototype.drawPath = function (pathData, pathNodes, viewData) {\n    var pathString = '';\n    var i, len;\n    len = pathNodes.v.length;\n    for (i = 1; i < len; i += 1) {\n        if (i == 1) {\n            //pathString += \" M\"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\n            pathString += \" M\" + (0, _common.bm_rnd)(pathNodes.v[0][0]) + ',' + (0, _common.bm_rnd)(pathNodes.v[0][1]);\n        }\n        //pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\n        pathString += \" C\" + (0, _common.bm_rnd)(pathNodes.o[i - 1][0]) + ',' + (0, _common.bm_rnd)(pathNodes.o[i - 1][1]) + \" \" + (0, _common.bm_rnd)(pathNodes.i[i][0]) + ',' + (0, _common.bm_rnd)(pathNodes.i[i][1]) + \" \" + (0, _common.bm_rnd)(pathNodes.v[i][0]) + ',' + (0, _common.bm_rnd)(pathNodes.v[i][1]);\n    }\n    //pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\n    if (pathNodes.c && len > 1) {\n        pathString += \" C\" + (0, _common.bm_rnd)(pathNodes.o[i - 1][0]) + ',' + (0, _common.bm_rnd)(pathNodes.o[i - 1][1]) + \" \" + (0, _common.bm_rnd)(pathNodes.i[0][0]) + ',' + (0, _common.bm_rnd)(pathNodes.i[0][1]) + \" \" + (0, _common.bm_rnd)(pathNodes.v[0][0]) + ',' + (0, _common.bm_rnd)(pathNodes.v[0][1]);\n    }\n    //pathNodes.__renderedString = pathString;\n\n\n    if (viewData.lastPath !== pathString) {\n        if (viewData.elem) {\n            if (!pathNodes.c) {\n                viewData.elem.setAttribute('d', '');\n            } else if (pathData.inv) {\n                viewData.elem.setAttribute('d', this.solidPath + pathString);\n            } else {\n                viewData.elem.setAttribute('d', pathString);\n            }\n        }\n        viewData.lastPath = pathString;\n    }\n};\n\nMaskElement.prototype.getMask = function (nm) {\n    var i = 0,\n        len = this.masksProperties.length;\n    while (i < len) {\n        if (this.masksProperties[i].nm === nm) {\n            return {\n                maskPath: this.viewData[i].prop.pv\n            };\n        }\n        i += 1;\n    }\n};\n\nMaskElement.prototype.destroy = function () {\n    this.element = null;\n    this.globalData = null;\n    this.maskElement = null;\n    this.data = null;\n    this.paths = null;\n    this.masksProperties = null;\n};\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = ShapeElement;\n\nvar _common = __webpack_require__(0);\n\nvar _PropertyFactory = __webpack_require__(2);\n\nvar _PropertyFactory2 = _interopRequireDefault(_PropertyFactory);\n\nvar _ShapePropertyFactory = __webpack_require__(10);\n\nvar _ShapePropertyFactory2 = _interopRequireDefault(_ShapePropertyFactory);\n\nvar _ShapeModifiers = __webpack_require__(3);\n\nvar _SVGBaseElement = __webpack_require__(1);\n\nvar _SVGBaseElement2 = _interopRequireDefault(_SVGBaseElement);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ShapeElement(data, parentContainer, globalData, comp, placeholder) {\n    this.shapes = [];\n    this.shapesData = data.shapes;\n    this.stylesList = [];\n    this.viewData = [];\n    this.shapeModifiers = [];\n    this._parent.constructor.call(this, data, parentContainer, globalData, comp, placeholder);\n}\n(0, _common.createElement)(_SVGBaseElement2.default, ShapeElement);\n\nShapeElement.prototype.lcEnum = {\n    '1': 'butt',\n    '2': 'round',\n    '3': 'butt'\n};\n\nShapeElement.prototype.ljEnum = {\n    '1': 'miter',\n    '2': 'round',\n    '3': 'butt'\n};\n\nShapeElement.prototype.buildExpressionInterface = function () {};\n\nShapeElement.prototype.createElements = function () {\n    //TODO check if I can use symbol so i can set its viewBox\n    this._parent.createElements.call(this);\n    this.searchShapes(this.shapesData, this.viewData, this.layerElement, this.dynamicProperties, 0);\n    if (!this.data.hd || this.data.td) {\n        (0, _common.styleUnselectableDiv)(this.layerElement);\n    }\n    //this.elemInterface.registerShapeExpressionInterface(ShapeExpressionInterface.createShapeInterface(this.shapesData,this.viewData,this.elemInterface));\n};\n\nShapeElement.prototype.setGradientData = function (pathElement, arr, data) {\n\n    var gradientId = 'gr_' + (0, _common.randomString)(10);\n    var gfill;\n    if (arr.t === 1) {\n        gfill = document.createElementNS(_common.svgNS, 'linearGradient');\n    } else {\n        gfill = document.createElementNS(_common.svgNS, 'radialGradient');\n    }\n    gfill.setAttribute('id', gradientId);\n    gfill.setAttribute('spreadMethod', 'pad');\n    gfill.setAttribute('gradientUnits', 'userSpaceOnUse');\n    var stops = [];\n    var stop, j, jLen;\n    jLen = arr.g.p * 4;\n    for (j = 0; j < jLen; j += 4) {\n        stop = document.createElementNS(_common.svgNS, 'stop');\n        gfill.appendChild(stop);\n        stops.push(stop);\n    }\n    pathElement.setAttribute(arr.ty === 'gf' ? 'fill' : 'stroke', 'url(#' + gradientId + ')');\n    this.globalData.defs.appendChild(gfill);\n    data.gf = gfill;\n    data.cst = stops;\n};\n\nShapeElement.prototype.setGradientOpacity = function (arr, data, styleOb) {\n    if (arr.g.k.k[0].s && arr.g.k.k[0].s.length > arr.g.p * 4 || arr.g.k.k.length > arr.g.p * 4) {\n        var opFill;\n        var stop, j, jLen;\n        var mask = document.createElementNS(_common.svgNS, \"mask\");\n        var maskElement = document.createElementNS(_common.svgNS, 'path');\n        mask.appendChild(maskElement);\n        var opacityId = 'op_' + (0, _common.randomString)(10);\n        var maskId = 'mk_' + (0, _common.randomString)(10);\n        mask.setAttribute('id', maskId);\n        if (arr.t === 1) {\n            opFill = document.createElementNS(_common.svgNS, 'linearGradient');\n        } else {\n            opFill = document.createElementNS(_common.svgNS, 'radialGradient');\n        }\n        opFill.setAttribute('id', opacityId);\n        opFill.setAttribute('spreadMethod', 'pad');\n        opFill.setAttribute('gradientUnits', 'userSpaceOnUse');\n        jLen = arr.g.k.k[0].s ? arr.g.k.k[0].s.length : arr.g.k.k.length;\n        var stops = [];\n        for (j = arr.g.p * 4; j < jLen; j += 2) {\n            stop = document.createElementNS(_common.svgNS, 'stop');\n            stop.setAttribute('stop-color', 'rgb(255,255,255)');\n            //stop.setAttribute('offset',Math.round(arr.y[j][0]*100)+'%');\n            //stop.setAttribute('style','stop-color:rgb(255,255,255);stop-opacity:'+arr.y[j][1]);\n            opFill.appendChild(stop);\n            stops.push(stop);\n        }\n        maskElement.setAttribute(arr.ty === 'gf' ? 'fill' : 'stroke', 'url(#' + opacityId + ')');\n        this.globalData.defs.appendChild(opFill);\n        this.globalData.defs.appendChild(mask);\n        data.of = opFill;\n        data.ost = stops;\n        styleOb.msElem = maskElement;\n        return maskId;\n    }\n};\n\nShapeElement.prototype.searchShapes = function (arr, data, container, dynamicProperties, level, transformers) {\n    transformers = transformers || [];\n    var ownTransformers = [].concat(transformers);\n    var i,\n        len = arr.length - 1;\n    var j, jLen;\n    var ownArrays = [],\n        ownModifiers = [],\n        styleOb,\n        currentTransform;\n    for (i = len; i >= 0; i -= 1) {\n        if (arr[i].ty == 'fl' || arr[i].ty == 'st' || arr[i].ty == 'gf' || arr[i].ty == 'gs') {\n            data[i] = {};\n            styleOb = {\n                type: arr[i].ty,\n                d: '',\n                ld: '',\n                lvl: level,\n                mdf: false\n            };\n            var pathElement = document.createElementNS(_common.svgNS, \"path\");\n            data[i].o = _PropertyFactory2.default.getProp(this, arr[i].o, 0, 0.01, dynamicProperties);\n            if (arr[i].ty == 'st' || arr[i].ty == 'gs') {\n                pathElement.setAttribute('stroke-linecap', this.lcEnum[arr[i].lc] || 'round');\n                ////pathElement.style.strokeLinecap = this.lcEnum[arr[i].lc] || 'round';\n                pathElement.setAttribute('stroke-linejoin', this.ljEnum[arr[i].lj] || 'round');\n                ////pathElement.style.strokeLinejoin = this.ljEnum[arr[i].lj] || 'round';\n                pathElement.setAttribute('fill-opacity', '0');\n                ////pathElement.style.fillOpacity = 0;\n                if (arr[i].lj == 1) {\n                    pathElement.setAttribute('stroke-miterlimit', arr[i].ml);\n                    ////pathElement.style.strokeMiterlimit = arr[i].ml;\n                }\n\n                data[i].w = _PropertyFactory2.default.getProp(this, arr[i].w, 0, null, dynamicProperties);\n                if (arr[i].d) {\n                    var d = _PropertyFactory2.default.getDashProp(this, arr[i].d, 'svg', dynamicProperties);\n                    if (!d.k) {\n                        pathElement.setAttribute('stroke-dasharray', d.dasharray);\n                        ////pathElement.style.strokeDasharray = d.dasharray;\n                        pathElement.setAttribute('stroke-dashoffset', d.dashoffset);\n                        ////pathElement.style.strokeDashoffset = d.dashoffset;\n                    }\n                    data[i].d = d;\n                }\n            }\n            if (arr[i].ty == 'fl' || arr[i].ty == 'st') {\n                data[i].c = _PropertyFactory2.default.getProp(this, arr[i].c, 1, 255, dynamicProperties);\n                container.appendChild(pathElement);\n            } else {\n                data[i].g = _PropertyFactory2.default.getGradientProp(this, arr[i].g, dynamicProperties);\n                if (arr[i].t == 2) {\n                    data[i].h = _PropertyFactory2.default.getProp(this, arr[i].h, 1, 0.01, dynamicProperties);\n                    data[i].a = _PropertyFactory2.default.getProp(this, arr[i].a, 1, degToRads, dynamicProperties);\n                }\n                data[i].s = _PropertyFactory2.default.getProp(this, arr[i].s, 1, null, dynamicProperties);\n                data[i].e = _PropertyFactory2.default.getProp(this, arr[i].e, 1, null, dynamicProperties);\n                this.setGradientData(pathElement, arr[i], data[i], styleOb);\n                var maskId = this.setGradientOpacity(arr[i], data[i], styleOb);\n                if (maskId) {\n                    pathElement.setAttribute('mask', 'url(#' + maskId + ')');\n                }\n                data[i].elem = pathElement;\n                container.appendChild(pathElement);\n            }\n            if (arr[i].r === 2) {\n                pathElement.setAttribute('fill-rule', 'evenodd');\n            }\n\n            if (arr[i].ln) {\n                pathElement.setAttribute('id', arr[i].ln);\n            }\n            if (arr[i].cl) {\n                pathElement.setAttribute('class', arr[i].cl);\n            }\n            styleOb.pElem = pathElement;\n            this.stylesList.push(styleOb);\n            data[i].style = styleOb;\n            ownArrays.push(styleOb);\n        } else if (arr[i].ty == 'gr') {\n            data[i] = {\n                it: []\n            };\n            var g = document.createElementNS(_common.svgNS, 'g');\n            container.appendChild(g);\n            data[i].gr = g;\n            this.searchShapes(arr[i].it, data[i].it, g, dynamicProperties, level + 1, ownTransformers);\n        } else if (arr[i].ty == 'tr') {\n            data[i] = {\n                transform: {\n                    op: _PropertyFactory2.default.getProp(this, arr[i].o, 0, 0.01, dynamicProperties),\n                    mProps: _PropertyFactory2.default.getProp(this, arr[i], 2, null, dynamicProperties)\n                },\n                elements: []\n            };\n            currentTransform = data[i].transform;\n            ownTransformers.push(currentTransform);\n        } else if (arr[i].ty == 'sh' || arr[i].ty == 'rc' || arr[i].ty == 'el' || arr[i].ty == 'sr') {\n            data[i] = {\n                elements: [],\n                caches: [],\n                styles: [],\n                transformers: ownTransformers,\n                lStr: ''\n            };\n            var ty = 4;\n            if (arr[i].ty == 'rc') {\n                ty = 5;\n            } else if (arr[i].ty == 'el') {\n                ty = 6;\n            } else if (arr[i].ty == 'sr') {\n                ty = 7;\n            }\n            data[i].sh = _ShapePropertyFactory2.default.getShapeProp(this, arr[i], ty, dynamicProperties);\n            data[i].lvl = level;\n            this.shapes.push(data[i].sh);\n            this.addShapeToModifiers(data[i].sh);\n            jLen = this.stylesList.length;\n            for (j = 0; j < jLen; j += 1) {\n                if (!this.stylesList[j].closed) {\n                    data[i].elements.push({\n                        ty: this.stylesList[j].type,\n                        st: this.stylesList[j]\n                    });\n                }\n            }\n        } else if (arr[i].ty == 'tm' || arr[i].ty == 'rd' || arr[i].ty == 'ms') {\n            var modifier = _ShapeModifiers.ShapeModifiers.getModifier(arr[i].ty);\n            modifier.init(this, arr[i], dynamicProperties);\n            this.shapeModifiers.push(modifier);\n            ownModifiers.push(modifier);\n            data[i] = modifier;\n        }\n    }\n    len = ownArrays.length;\n    for (i = 0; i < len; i += 1) {\n        ownArrays[i].closed = true;\n    }\n    len = ownModifiers.length;\n    for (i = 0; i < len; i += 1) {\n        ownModifiers[i].closed = true;\n    }\n};\n\nShapeElement.prototype.addShapeToModifiers = function (shape) {\n    var i,\n        len = this.shapeModifiers.length;\n    for (i = 0; i < len; i += 1) {\n        this.shapeModifiers[i].addShape(shape);\n    }\n};\n\nShapeElement.prototype.renderModifiers = function () {\n    if (!this.shapeModifiers.length) {\n        return;\n    }\n    var i,\n        len = this.shapes.length;\n    for (i = 0; i < len; i += 1) {\n        this.shapes[i].reset();\n    }\n\n    len = this.shapeModifiers.length;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n        this.shapeModifiers[i].processShapes(this.firstFrame);\n    }\n};\n\nShapeElement.prototype.renderFrame = function (parentMatrix) {\n    var renderParent = this._parent.renderFrame.call(this, parentMatrix);\n    if (renderParent === false) {\n        this.hide();\n        return;\n    }\n    this.globalToLocal([0, 0, 0]);\n    if (this.hidden) {\n        this.layerElement.style.display = 'block';\n        this.hidden = false;\n    }\n    this.renderModifiers();\n    this.renderShape(null, null, true, null);\n};\n\nShapeElement.prototype.hide = function () {\n    if (!this.hidden) {\n        this.layerElement.style.display = 'none';\n        var i,\n            len = this.stylesList.length;\n        for (i = len - 1; i >= 0; i -= 1) {\n            if (this.stylesList[i].ld !== '0') {\n                this.stylesList[i].ld = '0';\n                this.stylesList[i].pElem.style.display = 'none';\n                if (this.stylesList[i].pElem.parentNode) {\n                    this.stylesList[i].parent = this.stylesList[i].pElem.parentNode;\n                    //this.stylesList[i].pElem.parentNode.removeChild(this.stylesList[i].pElem);\n                }\n            }\n        }\n        this.hidden = true;\n    }\n};\n\nShapeElement.prototype.renderShape = function (items, data, isMain, container) {\n    var i, len;\n    if (!items) {\n        items = this.shapesData;\n        len = this.stylesList.length;\n        for (i = 0; i < len; i += 1) {\n            this.stylesList[i].d = '';\n            this.stylesList[i].mdf = false;\n        }\n    }\n    if (!data) {\n        data = this.viewData;\n    }\n    ///\n    ///\n    len = items.length - 1;\n    var ty;\n    for (i = len; i >= 0; i -= 1) {\n        ty = items[i].ty;\n        if (ty == 'tr') {\n            if (this.firstFrame || data[i].transform.op.mdf && container) {\n                container.setAttribute('opacity', data[i].transform.op.v);\n            }\n            if (this.firstFrame || data[i].transform.mProps.mdf && container) {\n                container.setAttribute('transform', data[i].transform.mProps.v.to2dCSS());\n            }\n        } else if (ty == 'sh' || ty == 'el' || ty == 'rc' || ty == 'sr') {\n            this.renderPath(items[i], data[i]);\n        } else if (ty == 'fl') {\n            this.renderFill(items[i], data[i]);\n        } else if (ty == 'gf') {\n            this.renderGradient(items[i], data[i]);\n        } else if (ty == 'gs') {\n            this.renderGradient(items[i], data[i]);\n            this.renderStroke(items[i], data[i]);\n        } else if (ty == 'st') {\n            this.renderStroke(items[i], data[i]);\n        } else if (ty == 'gr') {\n            this.renderShape(items[i].it, data[i].it, false, data[i].gr);\n        } else if (ty == 'tm') {\n            //\n        }\n    }\n    if (isMain) {\n        len = this.stylesList.length;\n        for (i = 0; i < len; i += 1) {\n            if (this.stylesList[i].ld === '0') {\n                this.stylesList[i].ld = '1';\n                this.stylesList[i].pElem.style.display = 'block';\n                //this.stylesList[i].parent.appendChild(this.stylesList[i].pElem);\n            }\n            if (this.stylesList[i].mdf || this.firstFrame) {\n                this.stylesList[i].pElem.setAttribute('d', this.stylesList[i].d);\n                if (this.stylesList[i].msElem) {\n                    this.stylesList[i].msElem.setAttribute('d', this.stylesList[i].d);\n                }\n            }\n        }\n        if (this.firstFrame) {\n            this.firstFrame = false;\n        }\n    }\n};\n\nShapeElement.prototype.renderPath = function (pathData, viewData) {\n    var len,\n        i,\n        j,\n        jLen,\n        pathStringTransformed,\n        redraw,\n        pathNodes,\n        l,\n        lLen = viewData.elements.length;\n    var lvl = viewData.lvl;\n    for (l = 0; l < lLen; l += 1) {\n        redraw = viewData.sh.mdf || this.firstFrame;\n        pathStringTransformed = 'M0 0';\n        var paths = viewData.sh.paths;\n        jLen = paths.length;\n        if (viewData.elements[l].st.lvl < lvl) {\n            var mat = this.mHelper.reset(),\n                props;\n            var iterations = lvl - viewData.elements[l].st.lvl;\n            var k = viewData.transformers.length - 1;\n            while (iterations > 0) {\n                redraw = viewData.transformers[k].mProps.mdf || redraw;\n                props = viewData.transformers[k].mProps.v.props;\n                mat.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\n                iterations--;\n                k--;\n            }\n            if (redraw) {\n                for (j = 0; j < jLen; j += 1) {\n                    pathNodes = paths[j];\n                    if (pathNodes && pathNodes.v) {\n                        len = pathNodes.v.length;\n                        for (i = 1; i < len; i += 1) {\n                            if (i == 1) {\n                                pathStringTransformed += \" M\" + mat.applyToPointStringified(pathNodes.v[0][0], pathNodes.v[0][1]);\n                            }\n                            pathStringTransformed += \" C\" + mat.applyToPointStringified(pathNodes.o[i - 1][0], pathNodes.o[i - 1][1]) + \" \" + mat.applyToPointStringified(pathNodes.i[i][0], pathNodes.i[i][1]) + \" \" + mat.applyToPointStringified(pathNodes.v[i][0], pathNodes.v[i][1]);\n                        }\n                        if (len == 1) {\n                            pathStringTransformed += \" M\" + mat.applyToPointStringified(pathNodes.v[0][0], pathNodes.v[0][1]);\n                        }\n                        if (pathNodes.c) {\n                            pathStringTransformed += \" C\" + mat.applyToPointStringified(pathNodes.o[i - 1][0], pathNodes.o[i - 1][1]) + \" \" + mat.applyToPointStringified(pathNodes.i[0][0], pathNodes.i[0][1]) + \" \" + mat.applyToPointStringified(pathNodes.v[0][0], pathNodes.v[0][1]);\n                            pathStringTransformed += 'z';\n                        }\n                    }\n                }\n                viewData.caches[l] = pathStringTransformed;\n            } else {\n                pathStringTransformed = viewData.caches[l];\n            }\n        } else {\n            if (redraw) {\n                for (j = 0; j < jLen; j += 1) {\n                    pathNodes = paths[j];\n                    if (pathNodes && pathNodes.v) {\n                        len = pathNodes.v.length;\n                        for (i = 1; i < len; i += 1) {\n                            if (i == 1) {\n                                //pathStringTransformed += \" M\" + groupTransform.mat.applyToPointStringified(pathNodes.v[0][0], pathNodes.v[0][1]);\n                                pathStringTransformed += \" M\" + pathNodes.v[0].join(',');\n                            }\n                            //pathStringTransformed += \" C\" + groupTransform.mat.applyToPointStringified(pathNodes.o[i - 1][0], pathNodes.o[i - 1][1]) + \" \" + groupTransform.mat.applyToPointStringified(pathNodes.i[i][0], pathNodes.i[i][1]) + \" \" + groupTransform.mat.applyToPointStringified(pathNodes.v[i][0], pathNodes.v[i][1]);\n                            pathStringTransformed += \" C\" + pathNodes.o[i - 1].join(',') + \" \" + pathNodes.i[i].join(',') + \" \" + pathNodes.v[i].join(',');\n                        }\n                        if (len == 1) {\n                            //pathStringTransformed += \" M\" + groupTransform.mat.applyToPointStringified(pathNodes.v[0][0], pathNodes.v[0][1]);\n                            pathStringTransformed += \" M\" + pathNodes.v[0].join(',');\n                        }\n                        if (pathNodes.c && len) {\n                            //pathStringTransformed += \" C\" + groupTransform.mat.applyToPointStringified(pathNodes.o[i - 1][0], pathNodes.o[i - 1][1]) + \" \" + groupTransform.mat.applyToPointStringified(pathNodes.i[0][0], pathNodes.i[0][1]) + \" \" + groupTransform.mat.applyToPointStringified(pathNodes.v[0][0], pathNodes.v[0][1]);\n                            pathStringTransformed += \" C\" + pathNodes.o[i - 1].join(',') + \" \" + pathNodes.i[0].join(',') + \" \" + pathNodes.v[0].join(',');\n                            pathStringTransformed += 'z';\n                        }\n                    }\n                }\n                viewData.caches[l] = pathStringTransformed;\n            } else {\n                pathStringTransformed = viewData.caches[l];\n            }\n        }\n        viewData.elements[l].st.d += pathStringTransformed;\n        viewData.elements[l].st.mdf = redraw || viewData.elements[l].st.mdf;\n    }\n};\n\nShapeElement.prototype.renderFill = function (styleData, viewData) {\n    var styleElem = viewData.style;\n\n    if (viewData.c.mdf || this.firstFrame) {\n        styleElem.pElem.setAttribute('fill', 'rgb(' + (0, _common.bm_floor)(viewData.c.v[0]) + ',' + (0, _common.bm_floor)(viewData.c.v[1]) + ',' + (0, _common.bm_floor)(viewData.c.v[2]) + ')');\n        ////styleElem.pElem.style.fill = 'rgb('+bm_floor(viewData.c.v[0])+','+bm_floor(viewData.c.v[1])+','+bm_floor(viewData.c.v[2])+')';\n    }\n    if (viewData.o.mdf || this.firstFrame) {\n        styleElem.pElem.setAttribute('fill-opacity', viewData.o.v);\n    }\n};\n\nShapeElement.prototype.renderGradient = function (styleData, viewData) {\n    var gfill = viewData.gf;\n    var opFill = viewData.of;\n    var pt1 = viewData.s.v,\n        pt2 = viewData.e.v;\n\n    if (viewData.o.mdf || this.firstFrame) {\n        var attr = styleData.ty === 'gf' ? 'fill-opacity' : 'stroke-opacity';\n        viewData.elem.setAttribute(attr, viewData.o.v);\n    }\n    //clippedElement.setAttribute('transform','matrix(1,0,0,1,-100,0)');\n    if (viewData.s.mdf || this.firstFrame) {\n        var attr1 = styleData.t === 1 ? 'x1' : 'cx';\n        var attr2 = attr1 === 'x1' ? 'y1' : 'cy';\n        gfill.setAttribute(attr1, pt1[0]);\n        gfill.setAttribute(attr2, pt1[1]);\n        if (opFill) {\n            opFill.setAttribute(attr1, pt1[0]);\n            opFill.setAttribute(attr2, pt1[1]);\n        }\n    }\n    var stops, i, len, stop;\n    if (viewData.g.cmdf || this.firstFrame) {\n        stops = viewData.cst;\n        var cValues = viewData.g.c;\n        len = stops.length;\n        for (i = 0; i < len; i += 1) {\n            stop = stops[i];\n            stop.setAttribute('offset', cValues[i * 4] + '%');\n            stop.setAttribute('stop-color', 'rgb(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ')');\n        }\n    }\n    if (opFill && (viewData.g.omdf || this.firstFrame)) {\n        stops = viewData.ost;\n        var oValues = viewData.g.o;\n        len = stops.length;\n        for (i = 0; i < len; i += 1) {\n            stop = stops[i];\n            stop.setAttribute('offset', oValues[i * 2] + '%');\n            stop.setAttribute('stop-opacity', oValues[i * 2 + 1]);\n        }\n    }\n    if (styleData.t === 1) {\n        if (viewData.e.mdf || this.firstFrame) {\n            gfill.setAttribute('x2', pt2[0]);\n            gfill.setAttribute('y2', pt2[1]);\n            if (opFill) {\n                opFill.setAttribute('x2', pt2[0]);\n                opFill.setAttribute('y2', pt2[1]);\n            }\n        }\n    } else {\n        var rad;\n        if (viewData.s.mdf || viewData.e.mdf || this.firstFrame) {\n            rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n            gfill.setAttribute('r', rad);\n            if (opFill) {\n                opFill.setAttribute('r', rad);\n            }\n        }\n        if (viewData.e.mdf || viewData.h.mdf || viewData.a.mdf || this.firstFrame) {\n            if (!rad) {\n                rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n            }\n            var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\n\n            var percent = viewData.h.v >= 1 ? 0.99 : viewData.h.v <= -1 ? -0.99 : viewData.h.v;\n            var dist = rad * percent;\n            var x = Math.cos(ang + viewData.a.v) * dist + pt1[0];\n            var y = Math.sin(ang + viewData.a.v) * dist + pt1[1];\n            gfill.setAttribute('fx', x);\n            gfill.setAttribute('fy', y);\n            if (opFill) {\n                opFill.setAttribute('fx', x);\n                opFill.setAttribute('fy', y);\n            }\n        }\n        //gfill.setAttribute('fy','200');\n    }\n};\n\nShapeElement.prototype.renderStroke = function (styleData, viewData) {\n    var styleElem = viewData.style;\n    //TODO fix dashes\n    var d = viewData.d;\n    var dasharray, dashoffset;\n    if (d && d.k && (d.mdf || this.firstFrame)) {\n        styleElem.pElem.setAttribute('stroke-dasharray', d.dasharray);\n        ////styleElem.pElem.style.strokeDasharray = d.dasharray;\n        styleElem.pElem.setAttribute('stroke-dashoffset', d.dashoffset);\n        ////styleElem.pElem.style.strokeDashoffset = d.dashoffset;\n    }\n    if (viewData.c && (viewData.c.mdf || this.firstFrame)) {\n        styleElem.pElem.setAttribute('stroke', 'rgb(' + (0, _common.bm_floor)(viewData.c.v[0]) + ',' + (0, _common.bm_floor)(viewData.c.v[1]) + ',' + (0, _common.bm_floor)(viewData.c.v[2]) + ')');\n        ////styleElem.pElem.style.stroke = 'rgb('+bm_floor(viewData.c.v[0])+','+bm_floor(viewData.c.v[1])+','+bm_floor(viewData.c.v[2])+')';\n    }\n    if (viewData.o.mdf || this.firstFrame) {\n        styleElem.pElem.setAttribute('stroke-opacity', viewData.o.v);\n    }\n    if (viewData.w.mdf || this.firstFrame) {\n        styleElem.pElem.setAttribute('stroke-width', viewData.w.v);\n        if (styleElem.msElem) {\n            styleElem.msElem.setAttribute('stroke-width', viewData.w.v);\n        }\n        ////styleElem.pElem.style.strokeWidth = viewData.w.v;\n    }\n};\n\nShapeElement.prototype.destroy = function () {\n    this._parent.destroy.call(this._parent);\n    this.shapeData = null;\n    this.viewData = null;\n    this.parentContainer = null;\n    this.placeholder = null;\n};\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = SolidElement;\n\nvar _SVGBaseElement = __webpack_require__(1);\n\nvar _SVGBaseElement2 = _interopRequireDefault(_SVGBaseElement);\n\nvar _common = __webpack_require__(0);\n\nvar _ImageElement = __webpack_require__(8);\n\nvar _ImageElement2 = _interopRequireDefault(_ImageElement);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction SolidElement(data, parentContainer, globalData, comp, placeholder) {\n    this._parent.constructor.call(this, data, parentContainer, globalData, comp, placeholder);\n}\n(0, _common.createElement)(_SVGBaseElement2.default, SolidElement);\n\nSolidElement.prototype.createElements = function () {\n    this._parent.createElements.call(this);\n\n    var rect = document.createElementNS(svgNS, 'rect');\n    ////rect.style.width = this.data.sw;\n    ////rect.style.height = this.data.sh;\n    ////rect.style.fill = this.data.sc;\n    rect.setAttribute('width', this.data.sw);\n    rect.setAttribute('height', this.data.sh);\n    rect.setAttribute('fill', this.data.sc);\n    this.layerElement.appendChild(rect);\n    this.innerElem = rect;\n    if (this.data.ln) {\n        this.layerElement.setAttribute('id', this.data.ln);\n    }\n    if (this.data.cl) {\n        this.layerElement.setAttribute('class', this.data.cl);\n    }\n};\n\nSolidElement.prototype.hide = _ImageElement2.default.prototype.hide;\nSolidElement.prototype.renderFrame = _ImageElement2.default.prototype.renderFrame;\nSolidElement.prototype.destroy = _ImageElement2.default.prototype.destroy;\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = ITextElement;\n\nvar _common = __webpack_require__(0);\n\nfunction ITextElement(data, animationItem, parentContainer, globalData) {}\nITextElement.prototype.init = function () {\n    this._parent.init.call(this);\n\n    this.lettersChangedFlag = false;\n    this.currentTextDocumentData = {};\n    var data = this.data;\n    this.viewData = {\n        m: {\n            a: PropertyFactory.getProp(this, data.t.m.a, 1, 0, this.dynamicProperties)\n        }\n    };\n    var textData = this.data.t;\n    if (textData.a.length) {\n        this.viewData.a = Array.apply(null, { length: textData.a.length });\n        var i,\n            len = textData.a.length,\n            animatorData,\n            animatorProps;\n        for (i = 0; i < len; i += 1) {\n            animatorProps = textData.a[i];\n            animatorData = {\n                a: {},\n                s: {}\n            };\n            if ('r' in animatorProps.a) {\n                animatorData.a.r = PropertyFactory.getProp(this, animatorProps.a.r, 0, degToRads, this.dynamicProperties);\n            }\n            if ('rx' in animatorProps.a) {\n                animatorData.a.rx = PropertyFactory.getProp(this, animatorProps.a.rx, 0, degToRads, this.dynamicProperties);\n            }\n            if ('ry' in animatorProps.a) {\n                animatorData.a.ry = PropertyFactory.getProp(this, animatorProps.a.ry, 0, degToRads, this.dynamicProperties);\n            }\n            if ('sk' in animatorProps.a) {\n                animatorData.a.sk = PropertyFactory.getProp(this, animatorProps.a.sk, 0, degToRads, this.dynamicProperties);\n            }\n            if ('sa' in animatorProps.a) {\n                animatorData.a.sa = PropertyFactory.getProp(this, animatorProps.a.sa, 0, degToRads, this.dynamicProperties);\n            }\n            if ('s' in animatorProps.a) {\n                animatorData.a.s = PropertyFactory.getProp(this, animatorProps.a.s, 1, 0.01, this.dynamicProperties);\n            }\n            if ('a' in animatorProps.a) {\n                animatorData.a.a = PropertyFactory.getProp(this, animatorProps.a.a, 1, 0, this.dynamicProperties);\n            }\n            if ('o' in animatorProps.a) {\n                animatorData.a.o = PropertyFactory.getProp(this, animatorProps.a.o, 0, 0.01, this.dynamicProperties);\n            }\n            if ('p' in animatorProps.a) {\n                animatorData.a.p = PropertyFactory.getProp(this, animatorProps.a.p, 1, 0, this.dynamicProperties);\n            }\n            if ('sw' in animatorProps.a) {\n                animatorData.a.sw = PropertyFactory.getProp(this, animatorProps.a.sw, 0, 0, this.dynamicProperties);\n            }\n            if ('sc' in animatorProps.a) {\n                animatorData.a.sc = PropertyFactory.getProp(this, animatorProps.a.sc, 1, 0, this.dynamicProperties);\n            }\n            if ('fc' in animatorProps.a) {\n                animatorData.a.fc = PropertyFactory.getProp(this, animatorProps.a.fc, 1, 0, this.dynamicProperties);\n            }\n            if ('fh' in animatorProps.a) {\n                animatorData.a.fh = PropertyFactory.getProp(this, animatorProps.a.fh, 0, 0, this.dynamicProperties);\n            }\n            if ('fs' in animatorProps.a) {\n                animatorData.a.fs = PropertyFactory.getProp(this, animatorProps.a.fs, 0, 0.01, this.dynamicProperties);\n            }\n            if ('fb' in animatorProps.a) {\n                animatorData.a.fb = PropertyFactory.getProp(this, animatorProps.a.fb, 0, 0.01, this.dynamicProperties);\n            }\n            if ('t' in animatorProps.a) {\n                animatorData.a.t = PropertyFactory.getProp(this, animatorProps.a.t, 0, 0, this.dynamicProperties);\n            }\n            animatorData.s = PropertyFactory.getTextSelectorProp(this, animatorProps.s, this.dynamicProperties);\n            animatorData.s.t = animatorProps.s.t;\n            this.viewData.a[i] = animatorData;\n        }\n    } else {\n        this.viewData.a = [];\n    }\n    if (textData.p && 'm' in textData.p) {\n        this.viewData.p = {\n            f: PropertyFactory.getProp(this, textData.p.f, 0, 0, this.dynamicProperties),\n            l: PropertyFactory.getProp(this, textData.p.l, 0, 0, this.dynamicProperties),\n            r: textData.p.r,\n            m: this.maskManager.getMaskProperty(textData.p.m)\n        };\n        this.maskPath = true;\n    } else {\n        this.maskPath = false;\n    }\n};\nITextElement.prototype.prepareFrame = function (num) {\n    var i = 0,\n        len = this.data.t.d.k.length;\n    var textDocumentData = this.data.t.d.k[i].s;\n    i += 1;\n    while (i < len) {\n        if (this.data.t.d.k[i].t > num) {\n            break;\n        }\n        textDocumentData = this.data.t.d.k[i].s;\n        i += 1;\n    }\n    this.lettersChangedFlag = false;\n    if (textDocumentData !== this.currentTextDocumentData) {\n        this.currentTextDocumentData = textDocumentData;\n        this.lettersChangedFlag = true;\n        this.buildNewText();\n    }\n    this._parent.prepareFrame.call(this, num);\n};\n\nITextElement.prototype.createPathShape = function (matrixHelper, shapes) {\n    var j,\n        jLen = shapes.length;\n    var k, kLen, pathNodes;\n    var shapeStr = '';\n    for (j = 0; j < jLen; j += 1) {\n        kLen = shapes[j].ks.k.i.length;\n        pathNodes = shapes[j].ks.k;\n        for (k = 1; k < kLen; k += 1) {\n            if (k == 1) {\n                shapeStr += \" M\" + matrixHelper.applyToPointStringified(pathNodes.v[0][0], pathNodes.v[0][1]);\n            }\n            shapeStr += \" C\" + matrixHelper.applyToPointStringified(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1]) + \" \" + matrixHelper.applyToPointStringified(pathNodes.i[k][0], pathNodes.i[k][1]) + \" \" + matrixHelper.applyToPointStringified(pathNodes.v[k][0], pathNodes.v[k][1]);\n        }\n        shapeStr += \" C\" + matrixHelper.applyToPointStringified(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1]) + \" \" + matrixHelper.applyToPointStringified(pathNodes.i[0][0], pathNodes.i[0][1]) + \" \" + matrixHelper.applyToPointStringified(pathNodes.v[0][0], pathNodes.v[0][1]);\n        shapeStr += 'z';\n    }\n    return shapeStr;\n};\n\nITextElement.prototype.getMeasures = function () {\n\n    var matrixHelper = this.mHelper;\n    var renderType = this.renderType;\n    var data = this.data;\n    var xPos, yPos;\n    var i, len;\n    var documentData = this.currentTextDocumentData;\n    var letters = documentData.l;\n    if (this.maskPath) {\n        var mask = this.viewData.p.m;\n        if (!this.viewData.p.n || this.viewData.p.mdf) {\n            var paths = mask.v;\n            if (this.viewData.p.r) {\n                paths = reversePath(paths);\n            }\n            var pathInfo = {\n                tLength: 0,\n                segments: []\n            };\n            len = paths.v.length - 1;\n            var pathData;\n            var totalLength = 0;\n            for (i = 0; i < len; i += 1) {\n                pathData = {\n                    s: paths.v[i],\n                    e: paths.v[i + 1],\n                    to: [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]],\n                    ti: [paths.i[i + 1][0] - paths.v[i + 1][0], paths.i[i + 1][1] - paths.v[i + 1][1]]\n                };\n                bez.buildBezierData(pathData);\n                pathInfo.tLength += pathData.bezierData.segmentLength;\n                pathInfo.segments.push(pathData);\n                totalLength += pathData.bezierData.segmentLength;\n            }\n            i = len;\n            if (mask.v.c) {\n                pathData = {\n                    s: paths.v[i],\n                    e: paths.v[0],\n                    to: [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]],\n                    ti: [paths.i[0][0] - paths.v[0][0], paths.i[0][1] - paths.v[0][1]]\n                };\n                bez.buildBezierData(pathData);\n                pathInfo.tLength += pathData.bezierData.segmentLength;\n                pathInfo.segments.push(pathData);\n                totalLength += pathData.bezierData.segmentLength;\n            }\n            this.viewData.p.pi = pathInfo;\n        }\n        var pathInfo = this.viewData.p.pi;\n\n        var currentLength = this.viewData.p.f.v,\n            segmentInd = 0,\n            pointInd = 1,\n            currentPoint,\n            prevPoint,\n            points;\n        var segmentLength = 0,\n            flag = true;\n        var segments = pathInfo.segments;\n        if (currentLength < 0 && mask.v.c) {\n            if (pathInfo.tLength < Math.abs(currentLength)) {\n                currentLength = -Math.abs(currentLength) % pathInfo.tLength;\n            }\n            segmentInd = segments.length - 1;\n            points = segments[segmentInd].bezierData.points;\n            pointInd = points.length - 1;\n            while (currentLength < 0) {\n                currentLength += points[pointInd].partialLength;\n                pointInd -= 1;\n                if (pointInd < 0) {\n                    segmentInd -= 1;\n                    points = segments[segmentInd].bezierData.points;\n                    pointInd = points.length - 1;\n                }\n            }\n        }\n        points = segments[segmentInd].bezierData.points;\n        prevPoint = points[pointInd - 1];\n        currentPoint = points[pointInd];\n        var partialLength = currentPoint.partialLength;\n        var perc, tanAngle;\n    }\n\n    len = letters.length;\n    xPos = 0;\n    yPos = 0;\n    var yOff = documentData.s * 1.2 * .714;\n    var firstLine = true;\n    var renderedData = this.viewData,\n        animatorProps,\n        animatorSelector;\n    var j, jLen;\n    var lettersValue = Array.apply(null, { length: len }),\n        letterValue;\n\n    jLen = renderedData.a.length;\n    var lastLetter;\n\n    var mult,\n        ind = -1,\n        offf,\n        xPathPos,\n        yPathPos;\n    var initPathPos = currentLength,\n        initSegmentInd = segmentInd,\n        initPointInd = pointInd,\n        currentLine = -1;\n    var elemOpacity;\n    var sc, sw, fc, k;\n    var lineLength = 0;\n    var letterSw, letterSc, letterFc, letterM, letterP, letterO;\n    for (i = 0; i < len; i += 1) {\n        matrixHelper.reset();\n        elemOpacity = 1;\n        if (letters[i].n) {\n            xPos = 0;\n            yPos += documentData.yOffset;\n            yPos += firstLine ? 1 : 0;\n            currentLength = initPathPos;\n            firstLine = false;\n            lineLength = 0;\n            if (this.maskPath) {\n                segmentInd = initSegmentInd;\n                pointInd = initPointInd;\n                points = segments[segmentInd].bezierData.points;\n                prevPoint = points[pointInd - 1];\n                currentPoint = points[pointInd];\n                partialLength = currentPoint.partialLength;\n                segmentLength = 0;\n            }\n            lettersValue[i] = this.emptyProp;\n        } else {\n            if (this.maskPath) {\n                if (currentLine !== letters[i].line) {\n                    switch (documentData.j) {\n                        case 1:\n                            currentLength += totalLength - documentData.lineWidths[letters[i].line];\n                            break;\n                        case 2:\n                            currentLength += (totalLength - documentData.lineWidths[letters[i].line]) / 2;\n                            break;\n                    }\n                    currentLine = letters[i].line;\n                }\n                if (ind !== letters[i].ind) {\n                    if (letters[ind]) {\n                        currentLength += letters[ind].extra;\n                    }\n                    currentLength += letters[i].an / 2;\n                    ind = letters[i].ind;\n                }\n                currentLength += renderedData.m.a.v[0] * letters[i].an / 200;\n                var animatorOffset = 0;\n                for (j = 0; j < jLen; j += 1) {\n                    animatorProps = renderedData.a[j].a;\n                    if ('p' in animatorProps) {\n                        animatorSelector = renderedData.a[j].s;\n                        mult = animatorSelector.getMult(letters[i].anIndexes[j], data.t.a[j].s.totalChars);\n                        if (mult.length) {\n                            animatorOffset += animatorProps.p.v[0] * mult[0];\n                        } else {\n                            animatorOffset += animatorProps.p.v[0] * mult;\n                        }\n                    }\n                }\n                flag = true;\n                while (flag) {\n                    if (segmentLength + partialLength >= currentLength + animatorOffset || !points) {\n                        perc = (currentLength + animatorOffset - segmentLength) / currentPoint.partialLength;\n                        xPathPos = prevPoint.point[0] + (currentPoint.point[0] - prevPoint.point[0]) * perc;\n                        yPathPos = prevPoint.point[1] + (currentPoint.point[1] - prevPoint.point[1]) * perc;\n                        matrixHelper.translate(0, -(renderedData.m.a.v[1] * yOff / 100) + yPos);\n                        flag = false;\n                    } else if (points) {\n                        segmentLength += currentPoint.partialLength;\n                        pointInd += 1;\n                        if (pointInd >= points.length) {\n                            pointInd = 0;\n                            segmentInd += 1;\n                            if (!segments[segmentInd]) {\n                                if (mask.v.c) {\n                                    pointInd = 0;\n                                    segmentInd = 0;\n                                    points = segments[segmentInd].bezierData.points;\n                                } else {\n                                    segmentLength -= currentPoint.partialLength;\n                                    points = null;\n                                }\n                            } else {\n                                points = segments[segmentInd].bezierData.points;\n                            }\n                        }\n                        if (points) {\n                            prevPoint = currentPoint;\n                            currentPoint = points[pointInd];\n                            partialLength = currentPoint.partialLength;\n                        }\n                    }\n                }\n                offf = letters[i].an / 2 - letters[i].add;\n                matrixHelper.translate(-offf, 0, 0);\n            } else {\n                offf = letters[i].an / 2 - letters[i].add;\n                matrixHelper.translate(-offf, 0, 0);\n\n                // Grouping alignment\n                matrixHelper.translate(-renderedData.m.a.v[0] * letters[i].an / 200, -renderedData.m.a.v[1] * yOff / 100, 0);\n            }\n\n            lineLength += letters[i].l / 2;\n            for (j = 0; j < jLen; j += 1) {\n                animatorProps = renderedData.a[j].a;\n                if ('t' in animatorProps) {\n                    animatorSelector = renderedData.a[j].s;\n                    mult = animatorSelector.getMult(letters[i].anIndexes[j], data.t.a[j].s.totalChars);\n                    if (this.maskPath) {\n                        if (mult.length) {\n                            currentLength += animatorProps.t * mult[0];\n                        } else {\n                            currentLength += animatorProps.t * mult;\n                        }\n                    } else {\n                        if (mult.length) {\n                            xPos += animatorProps.t.v * mult[0];\n                        } else {\n                            xPos += animatorProps.t.v * mult;\n                        }\n                    }\n                }\n            }\n            lineLength += letters[i].l / 2;\n            if (documentData.strokeWidthAnim) {\n                sw = documentData.sw || 0;\n            }\n            if (documentData.strokeColorAnim) {\n                if (documentData.sc) {\n                    sc = [documentData.sc[0], documentData.sc[1], documentData.sc[2]];\n                } else {\n                    sc = [0, 0, 0];\n                }\n            }\n            if (documentData.fillColorAnim) {\n                fc = [documentData.fc[0], documentData.fc[1], documentData.fc[2]];\n            }\n            for (j = 0; j < jLen; j += 1) {\n                animatorProps = renderedData.a[j].a;\n                if ('a' in animatorProps) {\n                    animatorSelector = renderedData.a[j].s;\n                    mult = animatorSelector.getMult(letters[i].anIndexes[j], data.t.a[j].s.totalChars);\n\n                    if (mult.length) {\n                        matrixHelper.translate(-animatorProps.a.v[0] * mult[0], -animatorProps.a.v[1] * mult[1], animatorProps.a.v[2] * mult[2]);\n                    } else {\n                        matrixHelper.translate(-animatorProps.a.v[0] * mult, -animatorProps.a.v[1] * mult, animatorProps.a.v[2] * mult);\n                    }\n                }\n            }\n            for (j = 0; j < jLen; j += 1) {\n                animatorProps = renderedData.a[j].a;\n                if ('s' in animatorProps) {\n                    animatorSelector = renderedData.a[j].s;\n                    mult = animatorSelector.getMult(letters[i].anIndexes[j], data.t.a[j].s.totalChars);\n                    if (mult.length) {\n                        matrixHelper.scale(1 + (animatorProps.s.v[0] - 1) * mult[0], 1 + (animatorProps.s.v[1] - 1) * mult[1], 1);\n                    } else {\n                        matrixHelper.scale(1 + (animatorProps.s.v[0] - 1) * mult, 1 + (animatorProps.s.v[1] - 1) * mult, 1);\n                    }\n                }\n            }\n            for (j = 0; j < jLen; j += 1) {\n                animatorProps = renderedData.a[j].a;\n                animatorSelector = renderedData.a[j].s;\n                mult = animatorSelector.getMult(letters[i].anIndexes[j], data.t.a[j].s.totalChars);\n                if ('sk' in animatorProps) {\n                    if (mult.length) {\n                        matrixHelper.skewFromAxis(-animatorProps.sk.v * mult[0], animatorProps.sa.v * mult[1]);\n                    } else {\n                        matrixHelper.skewFromAxis(-animatorProps.sk.v * mult, animatorProps.sa.v * mult);\n                    }\n                }\n                if ('r' in animatorProps) {\n                    if (mult.length) {\n                        matrixHelper.rotateZ(-animatorProps.r.v * mult[2]);\n                    } else {\n                        matrixHelper.rotateZ(-animatorProps.r.v * mult);\n                    }\n                }\n                if ('ry' in animatorProps) {\n\n                    if (mult.length) {\n                        matrixHelper.rotateY(animatorProps.ry.v * mult[1]);\n                    } else {\n                        matrixHelper.rotateY(animatorProps.ry.v * mult);\n                    }\n                }\n                if ('rx' in animatorProps) {\n                    if (mult.length) {\n                        matrixHelper.rotateX(animatorProps.rx.v * mult[0]);\n                    } else {\n                        matrixHelper.rotateX(animatorProps.rx.v * mult);\n                    }\n                }\n                if ('o' in animatorProps) {\n                    if (mult.length) {\n                        elemOpacity += (animatorProps.o.v * mult[0] - elemOpacity) * mult[0];\n                    } else {\n                        elemOpacity += (animatorProps.o.v * mult - elemOpacity) * mult;\n                    }\n                }\n                if (documentData.strokeWidthAnim && 'sw' in animatorProps) {\n                    if (mult.length) {\n                        sw += animatorProps.sw.v * mult[0];\n                    } else {\n                        sw += animatorProps.sw.v * mult;\n                    }\n                }\n                if (documentData.strokeColorAnim && 'sc' in animatorProps) {\n                    for (k = 0; k < 3; k += 1) {\n                        if (mult.length) {\n                            sc[k] = Math.round(255 * (sc[k] + (animatorProps.sc.v[k] - sc[k]) * mult[0]));\n                        } else {\n                            sc[k] = Math.round(255 * (sc[k] + (animatorProps.sc.v[k] - sc[k]) * mult));\n                        }\n                    }\n                }\n                if (documentData.fillColorAnim) {\n                    if ('fc' in animatorProps) {\n                        for (k = 0; k < 3; k += 1) {\n                            if (mult.length) {\n                                fc[k] = fc[k] + (animatorProps.fc.v[k] - fc[k]) * mult[0];\n                            } else {\n                                fc[k] = fc[k] + (animatorProps.fc.v[k] - fc[k]) * mult;\n                                //console.log('mult',mult);\n                                //console.log(Math.round(fc[k] + (animatorProps.fc.v[k] - fc[k])*mult));\n                            }\n                        }\n                    }\n                    if ('fh' in animatorProps) {\n                        if (mult.length) {\n                            fc = addHueToRGB(fc, animatorProps.fh.v * mult[0]);\n                        } else {\n                            fc = addHueToRGB(fc, animatorProps.fh.v * mult);\n                        }\n                    }\n                    if ('fs' in animatorProps) {\n                        if (mult.length) {\n                            fc = addSaturationToRGB(fc, animatorProps.fs.v * mult[0]);\n                        } else {\n                            fc = addSaturationToRGB(fc, animatorProps.fs.v * mult);\n                        }\n                    }\n                    if ('fb' in animatorProps) {\n                        if (mult.length) {\n                            fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult[0]);\n                        } else {\n                            fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult);\n                        }\n                    }\n                }\n            }\n\n            for (j = 0; j < jLen; j += 1) {\n                animatorProps = renderedData.a[j].a;\n\n                if ('p' in animatorProps) {\n                    animatorSelector = renderedData.a[j].s;\n                    mult = animatorSelector.getMult(letters[i].anIndexes[j], data.t.a[j].s.totalChars);\n                    if (this.maskPath) {\n                        if (mult.length) {\n                            matrixHelper.translate(0, animatorProps.p.v[1] * mult[0], -animatorProps.p.v[2] * mult[1]);\n                        } else {\n                            matrixHelper.translate(0, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\n                        }\n                    } else {\n\n                        if (mult.length) {\n                            matrixHelper.translate(animatorProps.p.v[0] * mult[0], animatorProps.p.v[1] * mult[1], -animatorProps.p.v[2] * mult[2]);\n                        } else {\n                            matrixHelper.translate(animatorProps.p.v[0] * mult, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\n                        }\n                    }\n                }\n            }\n            if (documentData.strokeWidthAnim) {\n                letterSw = sw < 0 ? 0 : sw;\n            }\n            if (documentData.strokeColorAnim) {\n                letterSc = 'rgb(' + Math.round(sc[0] * 255) + ',' + Math.round(sc[1] * 255) + ',' + Math.round(sc[2] * 255) + ')';\n            }\n            if (documentData.fillColorAnim) {\n                letterFc = 'rgb(' + Math.round(fc[0] * 255) + ',' + Math.round(fc[1] * 255) + ',' + Math.round(fc[2] * 255) + ')';\n            }\n\n            if (this.maskPath) {\n                if (data.t.p.p) {\n                    tanAngle = (currentPoint.point[1] - prevPoint.point[1]) / (currentPoint.point[0] - prevPoint.point[0]);\n                    var rot = Math.atan(tanAngle) * 180 / Math.PI;\n                    if (currentPoint.point[0] < prevPoint.point[0]) {\n                        rot += 180;\n                    }\n                    matrixHelper.rotate(-rot * Math.PI / 180);\n                }\n                matrixHelper.translate(xPathPos, yPathPos, 0);\n                matrixHelper.translate(renderedData.m.a.v[0] * letters[i].an / 200, renderedData.m.a.v[1] * yOff / 100, 0);\n                currentLength -= renderedData.m.a.v[0] * letters[i].an / 200;\n                if (letters[i + 1] && ind !== letters[i + 1].ind) {\n                    currentLength += letters[i].an / 2;\n                    currentLength += documentData.tr / 1000 * documentData.s;\n                }\n            } else {\n\n                matrixHelper.translate(xPos, yPos, 0);\n\n                if (documentData.ps) {\n                    //matrixHelper.translate(documentData.ps[0],documentData.ps[1],0);\n                    matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\n                }\n                switch (documentData.j) {\n                    case 1:\n                        matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]), 0, 0);\n                        break;\n                    case 2:\n                        matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]) / 2, 0, 0);\n                        break;\n                }\n                matrixHelper.translate(offf, 0, 0);\n                matrixHelper.translate(renderedData.m.a.v[0] * letters[i].an / 200, renderedData.m.a.v[1] * yOff / 100, 0);\n                xPos += letters[i].l + documentData.tr / 1000 * documentData.s;\n            }\n            if (renderType === 'html') {\n                letterM = matrixHelper.toCSS();\n            } else if (renderType === 'svg') {\n                letterM = matrixHelper.to2dCSS();\n            } else {\n                letterP = [matrixHelper.props[0], matrixHelper.props[1], matrixHelper.props[2], matrixHelper.props[3], matrixHelper.props[4], matrixHelper.props[5], matrixHelper.props[6], matrixHelper.props[7], matrixHelper.props[8], matrixHelper.props[9], matrixHelper.props[10], matrixHelper.props[11], matrixHelper.props[12], matrixHelper.props[13], matrixHelper.props[14], matrixHelper.props[15]];\n            }\n            letterO = elemOpacity;\n\n            lastLetter = this.renderedLetters[i];\n            if (lastLetter && (lastLetter.o !== letterO || lastLetter.sw !== letterSw || lastLetter.sc !== letterSc || lastLetter.fc !== letterFc)) {\n                this.lettersChangedFlag = true;\n                letterValue = new _common.LetterProps(letterO, letterSw, letterSc, letterFc, letterM, letterP);\n            } else {\n                if ((renderType === 'svg' || renderType === 'html') && (!lastLetter || lastLetter.m !== letterM)) {\n                    this.lettersChangedFlag = true;\n                    letterValue = new _common.LetterProps(letterO, letterSw, letterSc, letterFc, letterM);\n                } else if (renderType === 'canvas' && (!lastLetter || lastLetter.props[0] !== letterP[0] || lastLetter.props[1] !== letterP[1] || lastLetter.props[4] !== letterP[4] || lastLetter.props[5] !== letterP[5] || lastLetter.props[12] !== letterP[12] || lastLetter.props[13] !== letterP[13])) {\n                    this.lettersChangedFlag = true;\n                    letterValue = new _common.LetterProps(letterO, letterSw, letterSc, letterFc, null, letterP);\n                } else {\n                    letterValue = lastLetter;\n                }\n            }\n            this.renderedLetters[i] = letterValue;\n        }\n    }\n};\n\nITextElement.prototype.emptyProp = new _common.LetterProps();\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = SVGTextElement;\n\nvar _SVGBaseElement = __webpack_require__(1);\n\nvar _SVGBaseElement2 = _interopRequireDefault(_SVGBaseElement);\n\nvar _common = __webpack_require__(0);\n\nvar _TextElement = __webpack_require__(18);\n\nvar _TextElement2 = _interopRequireDefault(_TextElement);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction SVGTextElement(data, parentContainer, globalData, comp, placeholder) {\n    this.textSpans = [];\n    this.renderType = 'svg';\n    this._parent.constructor.call(this, data, parentContainer, globalData, comp, placeholder);\n}\n(0, _common.createElement)(_SVGBaseElement2.default, SVGTextElement);\n\nSVGTextElement.prototype.init = _TextElement2.default.prototype.init;\nSVGTextElement.prototype.createPathShape = _TextElement2.default.prototype.createPathShape;\nSVGTextElement.prototype.getMeasures = _TextElement2.default.prototype.getMeasures;\nSVGTextElement.prototype.prepareFrame = _TextElement2.default.prototype.prepareFrame;\n\nSVGTextElement.prototype.createElements = function () {\n\n    this._parent.createElements.call(this);\n\n    if (this.data.ln) {\n        this.layerElement.setAttribute('id', this.data.ln);\n    }\n    if (this.data.cl) {\n        this.layerElement.setAttribute('class', this.data.cl);\n    }\n};\n\nSVGTextElement.prototype.buildNewText = function () {\n    var i, len;\n\n    var documentData = this.currentTextDocumentData;\n    this.renderedLetters = Array.apply(null, { length: this.currentTextDocumentData.l ? this.currentTextDocumentData.l.length : 0 });\n    if (documentData.fc) {\n        this.layerElement.setAttribute('fill', 'rgb(' + Math.round(documentData.fc[0] * 255) + ',' + Math.round(documentData.fc[1] * 255) + ',' + Math.round(documentData.fc[2] * 255) + ')');\n    } else {\n        this.layerElement.setAttribute('fill', 'rgba(0,0,0,0)');\n    }\n    if (documentData.sc) {\n        this.layerElement.setAttribute('stroke', 'rgb(' + Math.round(documentData.sc[0] * 255) + ',' + Math.round(documentData.sc[1] * 255) + ',' + Math.round(documentData.sc[2] * 255) + ')');\n        this.layerElement.setAttribute('stroke-width', documentData.sw);\n    }\n    this.layerElement.setAttribute('font-size', documentData.s);\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n    if (fontData.fClass) {\n        this.layerElement.setAttribute('class', fontData.fClass);\n    } else {\n        this.layerElement.setAttribute('font-family', fontData.fFamily);\n        var fWeight = documentData.fWeight,\n            fStyle = documentData.fStyle;\n        this.layerElement.setAttribute('font-style', fStyle);\n        this.layerElement.setAttribute('font-weight', fWeight);\n    }\n\n    var letters = documentData.l || [];\n    len = letters.length;\n    if (!len) {\n        return;\n    }\n    var tSpan;\n    var matrixHelper = this.mHelper;\n    var shapes,\n        shapeStr = '',\n        singleShape = this.data.singleShape;\n    if (singleShape) {\n        var xPos = 0,\n            yPos = 0,\n            lineWidths = documentData.lineWidths,\n            boxWidth = documentData.boxWidth,\n            firstLine = true;\n    }\n    var cnt = 0;\n    for (i = 0; i < len; i += 1) {\n        if (this.globalData.fontManager.chars) {\n            if (!singleShape || i === 0) {\n                tSpan = this.textSpans[cnt] ? this.textSpans[cnt] : document.createElementNS(svgNS, 'path');\n            }\n        } else {\n            tSpan = this.textSpans[cnt] ? this.textSpans[cnt] : document.createElementNS(svgNS, 'text');\n        }\n        tSpan.style.display = 'inherit';\n        tSpan.setAttribute('stroke-linecap', 'butt');\n        tSpan.setAttribute('stroke-linejoin', 'round');\n        tSpan.setAttribute('stroke-miterlimit', '4');\n        //tSpan.setAttribute('visibility', 'hidden');\n        if (singleShape && letters[i].n) {\n            xPos = 0;\n            yPos += documentData.yOffset;\n            yPos += firstLine ? 1 : 0;\n            firstLine = false;\n        }\n        matrixHelper.reset();\n        if (this.globalData.fontManager.chars) {\n            matrixHelper.scale(documentData.s / 100, documentData.s / 100);\n        }\n        if (singleShape) {\n            if (documentData.ps) {\n                matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\n            }\n            switch (documentData.j) {\n                case 1:\n                    matrixHelper.translate(documentData.justifyOffset + (boxWidth - lineWidths[letters[i].line]), 0, 0);\n                    break;\n                case 2:\n                    matrixHelper.translate(documentData.justifyOffset + (boxWidth - lineWidths[letters[i].line]) / 2, 0, 0);\n                    break;\n            }\n            matrixHelper.translate(xPos, yPos, 0);\n        }\n        if (this.globalData.fontManager.chars) {\n            var charData = this.globalData.fontManager.getCharData(documentData.t.charAt(i), fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n            var shapeData;\n            if (charData) {\n                shapeData = charData.data;\n            } else {\n                shapeData = null;\n            }\n            if (shapeData && shapeData.shapes) {\n                shapes = shapeData.shapes[0].it;\n                if (!singleShape) {\n                    shapeStr = '';\n                }\n                shapeStr += this.createPathShape(matrixHelper, shapes);\n                if (!singleShape) {\n\n                    tSpan.setAttribute('d', shapeStr);\n                }\n            }\n            if (!singleShape) {\n                this.layerElement.appendChild(tSpan);\n            }\n        } else {\n            tSpan.textContent = letters[i].val;\n            tSpan.setAttributeNS(\"http://www.w3.org/XML/1998/namespace\", \"xml:space\", \"preserve\");\n            this.layerElement.appendChild(tSpan);\n            if (singleShape) {\n                tSpan.setAttribute('transform', matrixHelper.to2dCSS());\n            }\n        }\n        if (singleShape) {\n            xPos += letters[i].l;\n            xPos += documentData.tr / 1000 * documentData.s;\n        }\n        //\n        this.textSpans[cnt] = tSpan;\n        cnt += 1;\n    }\n    if (!singleShape) {\n        while (cnt < this.textSpans.length) {\n            this.textSpans[cnt].style.display = 'none';\n            cnt += 1;\n        }\n    }\n    if (singleShape && this.globalData.fontManager.chars) {\n        tSpan.setAttribute('d', shapeStr);\n        this.layerElement.appendChild(tSpan);\n    }\n};\n\nSVGTextElement.prototype.hide = function () {\n    if (!this.hidden) {\n        this.layerElement.style.display = 'none';\n        this.hidden = true;\n    }\n};\n\nSVGTextElement.prototype.renderFrame = function (parentMatrix) {\n\n    var renderParent = this._parent.renderFrame.call(this, parentMatrix);\n    if (renderParent === false) {\n        this.hide();\n        return;\n    }\n    if (this.hidden) {\n        this.hidden = false;\n        this.layerElement.style.display = 'block';\n    }\n\n    if (this.data.singleShape) {\n        return;\n    }\n    this.getMeasures();\n    if (!this.lettersChangedFlag) {\n        return;\n    }\n    var i, len;\n    var renderedLetters = this.renderedLetters;\n\n    var letters = this.currentTextDocumentData.l;\n\n    len = letters.length;\n    var renderedLetter;\n    for (i = 0; i < len; i += 1) {\n        if (letters[i].n) {\n            continue;\n        }\n        renderedLetter = renderedLetters[i];\n        this.textSpans[i].setAttribute('transform', renderedLetter.m);\n        this.textSpans[i].setAttribute('opacity', renderedLetter.o);\n        if (renderedLetter.sw) {\n            this.textSpans[i].setAttribute('stroke-width', renderedLetter.sw);\n        }\n        if (renderedLetter.sc) {\n            this.textSpans[i].setAttribute('stroke', renderedLetter.sc);\n        }\n        if (renderedLetter.fc) {\n            this.textSpans[i].setAttribute('fill', renderedLetter.fc);\n        }\n    }\n    if (this.firstFrame) {\n        this.firstFrame = false;\n    }\n};\n\nSVGTextElement.prototype.destroy = function () {\n    this._parent.destroy.call(this._parent);\n};\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = CanvasRenderer;\n\nvar _common = __webpack_require__(0);\n\nvar _BaseRenderer = __webpack_require__(4);\n\nvar _BaseRenderer2 = _interopRequireDefault(_BaseRenderer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction CanvasRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.renderConfig = {\n        clearCanvas: config && config.clearCanvas !== undefined ? config.clearCanvas : true,\n        context: config && config.context || null,\n        progressiveLoad: config && config.progressiveLoad || false,\n        preserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet'\n    };\n    this.renderConfig.dpr = config && config.dpr || 1;\n    if (this.animationItem.wrapper) {\n        this.renderConfig.dpr = config && config.dpr || window.devicePixelRatio || 1;\n    }\n    this.renderedFrame = -1;\n    this.globalData = {\n        frameNum: -1\n    };\n    this.contextData = {\n        saved: Array.apply(null, { length: 15 }),\n        savedOp: Array.apply(null, { length: 15 }),\n        cArrPos: 0,\n        cTr: new Matrix(),\n        cO: 1\n    };\n    var i,\n        len = 15;\n    for (i = 0; i < len; i += 1) {\n        this.contextData.saved[i] = Array.apply(null, { length: 16 });\n    }\n    this.elements = [];\n    this.pendingElements = [];\n    this.transformMat = new Matrix();\n    this.completeLayers = false;\n}\n(0, _common.extendPrototype)(_BaseRenderer2.default, CanvasRenderer);\n\nCanvasRenderer.prototype.createBase = function (data) {\n    return new CVBaseElement(data, this, this.globalData);\n};\n\nCanvasRenderer.prototype.createShape = function (data) {\n    return new CVShapeElement(data, this, this.globalData);\n};\n\nCanvasRenderer.prototype.createText = function (data) {\n    return new CVTextElement(data, this, this.globalData);\n};\n\nCanvasRenderer.prototype.createImage = function (data) {\n    return new CVImageElement(data, this, this.globalData);\n};\n\nCanvasRenderer.prototype.createComp = function (data) {\n    return new CVCompElement(data, this, this.globalData);\n};\n\nCanvasRenderer.prototype.createSolid = function (data) {\n    return new CVSolidElement(data, this, this.globalData);\n};\n\nCanvasRenderer.prototype.ctxTransform = function (props) {\n    if (props[0] === 1 && props[1] === 0 && props[4] === 0 && props[5] === 1 && props[12] === 0 && props[13] === 0) {\n        return;\n    }\n    if (!this.renderConfig.clearCanvas) {\n        this.canvasContext.transform(props[0], props[1], props[4], props[5], props[12], props[13]);\n        return;\n    }\n    this.transformMat.cloneFromProps(props);\n    this.transformMat.transform(this.contextData.cTr.props[0], this.contextData.cTr.props[1], this.contextData.cTr.props[2], this.contextData.cTr.props[3], this.contextData.cTr.props[4], this.contextData.cTr.props[5], this.contextData.cTr.props[6], this.contextData.cTr.props[7], this.contextData.cTr.props[8], this.contextData.cTr.props[9], this.contextData.cTr.props[10], this.contextData.cTr.props[11], this.contextData.cTr.props[12], this.contextData.cTr.props[13], this.contextData.cTr.props[14], this.contextData.cTr.props[15]);\n    //this.contextData.cTr.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\n    this.contextData.cTr.cloneFromProps(this.transformMat.props);\n    var trProps = this.contextData.cTr.props;\n    this.canvasContext.setTransform(trProps[0], trProps[1], trProps[4], trProps[5], trProps[12], trProps[13]);\n};\n\nCanvasRenderer.prototype.ctxOpacity = function (op) {\n    if (op === 1) {\n        return;\n    }\n    if (!this.renderConfig.clearCanvas) {\n        this.canvasContext.globalAlpha *= op < 0 ? 0 : op;\n        return;\n    }\n    this.contextData.cO *= op < 0 ? 0 : op;\n    this.canvasContext.globalAlpha = this.contextData.cO;\n};\n\nCanvasRenderer.prototype.reset = function () {\n    if (!this.renderConfig.clearCanvas) {\n        this.canvasContext.restore();\n        return;\n    }\n    this.contextData.cArrPos = 0;\n    this.contextData.cTr.reset();\n    this.contextData.cO = 1;\n};\n\nCanvasRenderer.prototype.save = function (actionFlag) {\n    if (!this.renderConfig.clearCanvas) {\n        this.canvasContext.save();\n        return;\n    }\n    if (actionFlag) {\n        this.canvasContext.save();\n    }\n    var props = this.contextData.cTr.props;\n    if (this.contextData.saved[this.contextData.cArrPos] === null || this.contextData.saved[this.contextData.cArrPos] === undefined) {\n        this.contextData.saved[this.contextData.cArrPos] = new Array(16);\n    }\n    var i,\n        arr = this.contextData.saved[this.contextData.cArrPos];\n    for (i = 0; i < 16; i += 1) {\n        arr[i] = props[i];\n    }\n    this.contextData.savedOp[this.contextData.cArrPos] = this.contextData.cO;\n    this.contextData.cArrPos += 1;\n};\n\nCanvasRenderer.prototype.restore = function (actionFlag) {\n    if (!this.renderConfig.clearCanvas) {\n        this.canvasContext.restore();\n        return;\n    }\n    if (actionFlag) {\n        this.canvasContext.restore();\n    }\n    this.contextData.cArrPos -= 1;\n    var popped = this.contextData.saved[this.contextData.cArrPos];\n    var i,\n        arr = this.contextData.cTr.props;\n    for (i = 0; i < 16; i += 1) {\n        arr[i] = popped[i];\n    }\n    this.canvasContext.setTransform(popped[0], popped[1], popped[4], popped[5], popped[12], popped[13]);\n    popped = this.contextData.savedOp[this.contextData.cArrPos];\n    this.contextData.cO = popped;\n    this.canvasContext.globalAlpha = popped;\n};\n\nCanvasRenderer.prototype.configAnimation = function (animData) {\n    if (this.animationItem.wrapper) {\n        this.animationItem.container = document.createElement('canvas');\n        this.animationItem.container.style.width = '100%';\n        this.animationItem.container.style.height = '100%';\n        //this.animationItem.container.style.transform = 'translate3d(0,0,0)';\n        //this.animationItem.container.style.webkitTransform = 'translate3d(0,0,0)';\n        this.animationItem.container.style.transformOrigin = this.animationItem.container.style.mozTransformOrigin = this.animationItem.container.style.webkitTransformOrigin = this.animationItem.container.style['-webkit-transform'] = \"0px 0px 0px\";\n        this.animationItem.wrapper.appendChild(this.animationItem.container);\n        this.canvasContext = this.animationItem.container.getContext('2d');\n    } else {\n        this.canvasContext = this.renderConfig.context;\n    }\n    this.data = animData;\n    this.globalData.canvasContext = this.canvasContext;\n    this.globalData.renderer = this;\n    this.globalData.isDashed = false;\n    this.globalData.totalFrames = Math.floor(animData.tf);\n    this.globalData.compWidth = animData.w;\n    this.globalData.compHeight = animData.h;\n    this.globalData.frameRate = animData.fr;\n    this.globalData.frameId = 0;\n    this.globalData.compSize = {\n        w: animData.w,\n        h: animData.h\n    };\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\n    this.layers = animData.layers;\n    this.transformCanvas = {};\n    this.transformCanvas.w = animData.w;\n    this.transformCanvas.h = animData.h;\n    this.globalData.fontManager = new FontManager();\n    this.globalData.fontManager.addChars(animData.chars);\n    this.globalData.fontManager.addFonts(animData.fonts, document.body);\n    this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\n    this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\n    this.globalData.elementLoaded = this.animationItem.elementLoaded.bind(this.animationItem);\n    this.globalData.addPendingElement = this.animationItem.addPendingElement.bind(this.animationItem);\n    this.globalData.transformCanvas = this.transformCanvas;\n    this.elements = Array.apply(null, { length: animData.layers.length });\n\n    this.updateContainerSize();\n};\n\nCanvasRenderer.prototype.updateContainerSize = function () {\n    var elementWidth, elementHeight;\n    if (this.animationItem.wrapper && this.animationItem.container) {\n        elementWidth = this.animationItem.wrapper.offsetWidth;\n        elementHeight = this.animationItem.wrapper.offsetHeight;\n        this.animationItem.container.setAttribute('width', elementWidth * this.renderConfig.dpr);\n        this.animationItem.container.setAttribute('height', elementHeight * this.renderConfig.dpr);\n    } else {\n        elementWidth = this.canvasContext.canvas.width * this.renderConfig.dpr;\n        elementHeight = this.canvasContext.canvas.height * this.renderConfig.dpr;\n    }\n    var elementRel, animationRel;\n    if (this.renderConfig.preserveAspectRatio.indexOf('meet') !== -1 || this.renderConfig.preserveAspectRatio.indexOf('slice') !== -1) {\n        var par = this.renderConfig.preserveAspectRatio.split(' ');\n        var fillType = par[1] || 'meet';\n        var pos = par[0] || 'xMidYMid';\n        var xPos = pos.substr(0, 4);\n        var yPos = pos.substr(4);\n        elementRel = elementWidth / elementHeight;\n        animationRel = this.transformCanvas.w / this.transformCanvas.h;\n        if (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice') {\n            this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n            this.transformCanvas.sy = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n        } else {\n            this.transformCanvas.sx = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n            this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n        }\n\n        if (xPos === 'xMid' && (animationRel < elementRel && fillType === 'meet' || animationRel > elementRel && fillType === 'slice')) {\n            this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) / 2 * this.renderConfig.dpr;\n        } else if (xPos === 'xMax' && (animationRel < elementRel && fillType === 'meet' || animationRel > elementRel && fillType === 'slice')) {\n            this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) * this.renderConfig.dpr;\n        } else {\n            this.transformCanvas.tx = 0;\n        }\n        if (yPos === 'YMid' && (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice')) {\n            this.transformCanvas.ty = (elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) / 2 * this.renderConfig.dpr;\n        } else if (yPos === 'YMax' && (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice')) {\n            this.transformCanvas.ty = (elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) * this.renderConfig.dpr;\n        } else {\n            this.transformCanvas.ty = 0;\n        }\n    } else if (this.renderConfig.preserveAspectRatio == 'none') {\n        this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n        this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n        this.transformCanvas.tx = 0;\n        this.transformCanvas.ty = 0;\n    } else {\n        this.transformCanvas.sx = this.renderConfig.dpr;\n        this.transformCanvas.sy = this.renderConfig.dpr;\n        this.transformCanvas.tx = 0;\n        this.transformCanvas.ty = 0;\n    }\n    this.transformCanvas.props = [this.transformCanvas.sx, 0, 0, 0, 0, this.transformCanvas.sy, 0, 0, 0, 0, 1, 0, this.transformCanvas.tx, this.transformCanvas.ty, 0, 1];\n    var i,\n        len = this.elements.length;\n    for (i = 0; i < len; i += 1) {\n        if (this.elements[i] && this.elements[i].data.ty === 0) {\n            this.elements[i].resize(this.globalData.transformCanvas);\n        }\n    }\n};\n\nCanvasRenderer.prototype.destroy = function () {\n    if (this.renderConfig.clearCanvas) {\n        this.animationItem.wrapper.innerHTML = '';\n    }\n    var i,\n        len = this.layers ? this.layers.length : 0;\n    for (i = len - 1; i >= 0; i -= 1) {\n        this.elements[i].destroy();\n    }\n    this.elements.length = 0;\n    this.globalData.canvasContext = null;\n    this.animationItem.container = null;\n    this.destroyed = true;\n};\n\nCanvasRenderer.prototype.renderFrame = function (num) {\n    if (this.renderedFrame == num && this.renderConfig.clearCanvas === true || this.destroyed || num === null) {\n        return;\n    }\n    this.renderedFrame = num;\n    this.globalData.frameNum = num - this.animationItem.firstFrame;\n    this.globalData.frameId += 1;\n    this.globalData.projectInterface.currentFrame = num;\n    if (this.renderConfig.clearCanvas === true) {\n        this.reset();\n        this.canvasContext.save();\n        //this.canvasContext.canvas.width = this.canvasContext.canvas.width;\n        this.canvasContext.clearRect(this.transformCanvas.tx, this.transformCanvas.ty, this.transformCanvas.w * this.transformCanvas.sx, this.transformCanvas.h * this.transformCanvas.sy);\n    } else {\n        this.save();\n    }\n    this.ctxTransform(this.transformCanvas.props);\n    this.canvasContext.beginPath();\n    this.canvasContext.rect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\n    this.canvasContext.closePath();\n    this.canvasContext.clip();\n\n    //console.log('--------');\n    //console.log('NEW: ',num);\n    var i,\n        len = this.layers.length;\n    if (!this.completeLayers) {\n        this.checkLayers(num);\n    }\n\n    for (i = 0; i < len; i++) {\n        if (this.completeLayers || this.elements[i]) {\n            this.elements[i].prepareFrame(num - this.layers[i].st);\n        }\n    }\n    for (i = len - 1; i >= 0; i -= 1) {\n        if (this.completeLayers || this.elements[i]) {\n            this.elements[i].renderFrame();\n        }\n    }\n    if (this.renderConfig.clearCanvas !== true) {\n        this.restore();\n    } else {\n        this.canvasContext.restore();\n    }\n};\n\nCanvasRenderer.prototype.buildItem = function (pos) {\n    var elements = this.elements;\n    if (elements[pos] || this.layers[pos].ty == 99) {\n        return;\n    }\n    var element = this.createItem(this.layers[pos], this, this.globalData);\n    elements[pos] = element;\n    element.initExpressions();\n    if (this.layers[pos].ty === 0) {\n        element.resize(this.globalData.transformCanvas);\n    }\n};\n\nCanvasRenderer.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n        var element = this.pendingElements.pop();\n        element.checkParenting();\n    }\n};\n\nCanvasRenderer.prototype.hide = function () {\n    this.animationItem.container.style.display = 'none';\n};\n\nCanvasRenderer.prototype.show = function () {\n    this.animationItem.container.style.display = 'block';\n};\n\nCanvasRenderer.prototype.searchExtraCompositions = function (assets) {\n    var i,\n        len = assets.length;\n    var floatingContainer = document.createElementNS(svgNS, 'g');\n    for (i = 0; i < len; i += 1) {\n        if (assets[i].xt) {\n            var comp = this.createComp(assets[i], this.globalData.comp, this.globalData);\n            comp.initExpressions();\n            //comp.compInterface = CompExpressionInterface(comp);\n            //Expressions.addLayersInterface(comp.elements, this.globalData.projectInterface);\n            this.globalData.projectInterface.registerComposition(comp);\n        }\n    }\n};\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = HybridRenderer;\n\nvar _SVGRenderer = __webpack_require__(5);\n\nvar _SVGRenderer2 = _interopRequireDefault(_SVGRenderer);\n\nvar _BaseRenderer = __webpack_require__(4);\n\nvar _BaseRenderer2 = _interopRequireDefault(_BaseRenderer);\n\nvar _common = __webpack_require__(0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction HybridRenderer(animationItem) {\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.globalData = {\n        frameNum: -1\n    };\n    this.pendingElements = [];\n    this.elements = [];\n    this.threeDElements = [];\n    this.destroyed = false;\n    this.camera = null;\n    this.supports3d = true;\n}\n\n(0, _common.extendPrototype)(_BaseRenderer2.default, HybridRenderer);\n\nHybridRenderer.prototype.buildItem = _SVGRenderer2.default.prototype.buildItem;\n\nHybridRenderer.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n        var element = this.pendingElements.pop();\n        element.checkParenting();\n    }\n};\n\nHybridRenderer.prototype.appendElementInPos = function (element, pos) {\n    var newElement = element.getBaseElement();\n    if (!newElement) {\n        return;\n    }\n    var layer = this.layers[pos];\n    if (!layer.ddd || !this.supports3d) {\n        var i = 0;\n        var nextElement;\n        while (i < pos) {\n            if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement) {\n                nextElement = this.elements[i].getBaseElement();\n            }\n            i += 1;\n        }\n        if (nextElement) {\n            if (!layer.ddd || !this.supports3d) {\n                this.layerElement.insertBefore(newElement, nextElement);\n            }\n        } else {\n            if (!layer.ddd || !this.supports3d) {\n                this.layerElement.appendChild(newElement);\n            }\n        }\n    } else {\n        this.addTo3dContainer(newElement, pos);\n    }\n};\n\nHybridRenderer.prototype.createBase = function (data) {\n    return new SVGBaseElement(data, this.layerElement, this.globalData, this);\n};\n\nHybridRenderer.prototype.createShape = function (data) {\n    if (!this.supports3d) {\n        return new IShapeElement(data, this.layerElement, this.globalData, this);\n    }\n    return new HShapeElement(data, this.layerElement, this.globalData, this);\n};\n\nHybridRenderer.prototype.createText = function (data) {\n    if (!this.supports3d) {\n        return new SVGTextElement(data, this.layerElement, this.globalData, this);\n    }\n    return new HTextElement(data, this.layerElement, this.globalData, this);\n};\n\nHybridRenderer.prototype.createCamera = function (data) {\n    this.camera = new HCameraElement(data, this.layerElement, this.globalData, this);\n    return this.camera;\n};\n\nHybridRenderer.prototype.createImage = function (data) {\n    if (!this.supports3d) {\n        return new IImageElement(data, this.layerElement, this.globalData, this);\n    }\n    return new HImageElement(data, this.layerElement, this.globalData, this);\n};\n\nHybridRenderer.prototype.createComp = function (data) {\n    if (!this.supports3d) {\n        return new ICompElement(data, this.layerElement, this.globalData, this);\n    }\n    return new HCompElement(data, this.layerElement, this.globalData, this);\n};\n\nHybridRenderer.prototype.createSolid = function (data) {\n    if (!this.supports3d) {\n        return new ISolidElement(data, this.layerElement, this.globalData, this);\n    }\n    return new HSolidElement(data, this.layerElement, this.globalData, this);\n};\n\nHybridRenderer.prototype.getThreeDContainer = function (pos) {\n    var perspectiveElem = document.createElement('div');\n    styleDiv(perspectiveElem);\n    perspectiveElem.style.width = this.globalData.compSize.w + 'px';\n    perspectiveElem.style.height = this.globalData.compSize.h + 'px';\n    perspectiveElem.style.transformOrigin = perspectiveElem.style.mozTransformOrigin = perspectiveElem.style.webkitTransformOrigin = \"50% 50%\";\n    var container = document.createElement('div');\n    styleDiv(container);\n    container.style.transform = container.style.webkitTransform = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\n    perspectiveElem.appendChild(container);\n    this.resizerElem.appendChild(perspectiveElem);\n    var threeDContainerData = {\n        container: container,\n        perspectiveElem: perspectiveElem,\n        startPos: pos,\n        endPos: pos\n    };\n    this.threeDElements.push(threeDContainerData);\n    return threeDContainerData;\n};\n\nHybridRenderer.prototype.build3dContainers = function () {\n    var i,\n        len = this.layers.length;\n    var lastThreeDContainerData;\n    for (i = 0; i < len; i += 1) {\n        if (this.layers[i].ddd) {\n            if (!lastThreeDContainerData) {\n                lastThreeDContainerData = this.getThreeDContainer(i);\n            }\n            lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\n        } else {\n            lastThreeDContainerData = null;\n        }\n    }\n};\n\nHybridRenderer.prototype.addTo3dContainer = function (elem, pos) {\n    var i = 0,\n        len = this.threeDElements.length;\n    while (i < len) {\n        if (pos <= this.threeDElements[i].endPos) {\n            var j = this.threeDElements[i].startPos;\n            var nextElement;\n            while (j < pos) {\n                if (this.elements[j] && this.elements[j].getBaseElement) {\n                    nextElement = this.elements[j].getBaseElement();\n                }\n                j += 1;\n            }\n            if (nextElement) {\n                this.threeDElements[i].container.insertBefore(elem, nextElement);\n            } else {\n                this.threeDElements[i].container.appendChild(elem);\n            }\n            break;\n        }\n        i += 1;\n    }\n};\n\nHybridRenderer.prototype.configAnimation = function (animData) {\n    var resizerElem = document.createElement('div');\n    var wrapper = this.animationItem.wrapper;\n    resizerElem.style.width = animData.w + 'px';\n    resizerElem.style.height = animData.h + 'px';\n    this.resizerElem = resizerElem;\n    styleDiv(resizerElem);\n    resizerElem.style.transformStyle = resizerElem.style.webkitTransformStyle = resizerElem.style.mozTransformStyle = \"flat\";\n    wrapper.appendChild(resizerElem);\n\n    resizerElem.style.overflow = 'hidden';\n    var svg = document.createElementNS(svgNS, 'svg');\n    svg.setAttribute('width', '1');\n    svg.setAttribute('height', '1');\n    styleDiv(svg);\n    this.resizerElem.appendChild(svg);\n    var defs = document.createElementNS(svgNS, 'defs');\n    svg.appendChild(defs);\n    this.globalData.defs = defs;\n    this.data = animData;\n    //Mask animation\n    this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\n    this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\n    this.globalData.elementLoaded = this.animationItem.elementLoaded.bind(this.animationItem);\n    this.globalData.frameId = 0;\n    this.globalData.compSize = {\n        w: animData.w,\n        h: animData.h\n    };\n    this.globalData.frameRate = animData.fr;\n    this.layers = animData.layers;\n    this.globalData.fontManager = new FontManager();\n    this.globalData.fontManager.addChars(animData.chars);\n    this.globalData.fontManager.addFonts(animData.fonts, svg);\n    this.layerElement = this.resizerElem;\n    this.build3dContainers();\n    this.updateContainerSize();\n};\n\nHybridRenderer.prototype.destroy = function () {\n    this.animationItem.wrapper.innerHTML = '';\n    this.animationItem.container = null;\n    this.globalData.defs = null;\n    var i,\n        len = this.layers ? this.layers.length : 0;\n    for (i = 0; i < len; i++) {\n        this.elements[i].destroy();\n    }\n    this.elements.length = 0;\n    this.destroyed = true;\n    this.animationItem = null;\n};\n\nHybridRenderer.prototype.updateContainerSize = function () {\n    var elementWidth = this.animationItem.wrapper.offsetWidth;\n    var elementHeight = this.animationItem.wrapper.offsetHeight;\n    var elementRel = elementWidth / elementHeight;\n    var animationRel = this.globalData.compSize.w / this.globalData.compSize.h;\n    var sx, sy, tx, ty;\n    if (animationRel > elementRel) {\n        sx = elementWidth / this.globalData.compSize.w;\n        sy = elementWidth / this.globalData.compSize.w;\n        tx = 0;\n        ty = (elementHeight - this.globalData.compSize.h * (elementWidth / this.globalData.compSize.w)) / 2;\n    } else {\n        sx = elementHeight / this.globalData.compSize.h;\n        sy = elementHeight / this.globalData.compSize.h;\n        tx = (elementWidth - this.globalData.compSize.w * (elementHeight / this.globalData.compSize.h)) / 2;\n        ty = 0;\n    }\n    this.resizerElem.style.transform = this.resizerElem.style.webkitTransform = 'matrix3d(' + sx + ',0,0,0,0,' + sy + ',0,0,0,0,1,0,' + tx + ',' + ty + ',0,1)';\n};\n\nHybridRenderer.prototype.renderFrame = _SVGRenderer2.default.prototype.renderFrame;\n\nHybridRenderer.prototype.hide = function () {\n    this.resizerElem.style.display = 'none';\n};\n\nHybridRenderer.prototype.show = function () {\n    this.resizerElem.style.display = 'block';\n};\n\nHybridRenderer.prototype.initItems = function () {\n    this.buildAllItems();\n    if (this.camera) {\n        this.camera.setup();\n    } else {\n        var cWidth = this.globalData.compSize.w;\n        var cHeight = this.globalData.compSize.h;\n        var i,\n            len = this.threeDElements.length;\n        for (i = 0; i < len; i += 1) {\n            this.threeDElements[i].perspectiveElem.style.perspective = this.threeDElements[i].perspectiveElem.style.webkitPerspective = Math.sqrt(Math.pow(cWidth, 2) + Math.pow(cHeight, 2)) + 'px';\n        }\n    }\n};\n\nHybridRenderer.prototype.searchExtraCompositions = function (assets) {\n    var i,\n        len = assets.length;\n    var floatingContainer = document.createElement('div');\n    for (i = 0; i < len; i += 1) {\n        if (assets[i].xt) {\n            var comp = this.createComp(assets[i], floatingContainer, this.globalData.comp, null);\n            comp.initExpressions();\n            this.globalData.projectInterface.registerComposition(comp);\n        }\n    }\n};\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nfunction dataFunctionManager() {\n\n    //var tCanvasHelper = document.createElement('canvas').getContext('2d');\n\n    function completeLayers(layers, comps, fontManager) {\n        var layerData;\n        var animArray, lastFrame;\n        var i,\n            len = layers.length;\n        var j, jLen, k, kLen;\n        for (i = 0; i < len; i += 1) {\n            layerData = layers[i];\n            if (!('ks' in layerData) || layerData.completed) {\n                continue;\n            }\n            layerData.completed = true;\n            if (layerData.tt) {\n                layers[i - 1].td = layerData.tt;\n            }\n            animArray = [];\n            lastFrame = -1;\n            if (layerData.hasMask) {\n                var maskProps = layerData.masksProperties;\n                jLen = maskProps.length;\n                for (j = 0; j < jLen; j += 1) {\n                    if (maskProps[j].pt.k.i) {\n                        convertPathsToAbsoluteValues(maskProps[j].pt.k);\n                    } else {\n                        kLen = maskProps[j].pt.k.length;\n                        for (k = 0; k < kLen; k += 1) {\n                            if (maskProps[j].pt.k[k].s) {\n                                convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);\n                            }\n                            if (maskProps[j].pt.k[k].e) {\n                                convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);\n                            }\n                        }\n                    }\n                }\n            }\n            if (layerData.ty === 0) {\n                layerData.layers = findCompLayers(layerData.refId, comps);\n                completeLayers(layerData.layers, comps, fontManager);\n            } else if (layerData.ty === 4) {\n                completeShapes(layerData.shapes);\n            } else if (layerData.ty == 5) {\n                completeText(layerData, fontManager);\n            }\n        }\n    }\n\n    function findCompLayers(id, comps) {\n        var i = 0,\n            len = comps.length;\n        while (i < len) {\n            if (comps[i].id === id) {\n                return comps[i].layers;\n            }\n            i += 1;\n        }\n    }\n\n    function completeShapes(arr) {\n        var i,\n            len = arr.length;\n        var j, jLen;\n        var hasPaths = false;\n        for (i = len - 1; i >= 0; i -= 1) {\n            if (arr[i].ty == 'sh') {\n                if (arr[i].ks.k.i) {\n                    convertPathsToAbsoluteValues(arr[i].ks.k);\n                } else {\n                    jLen = arr[i].ks.k.length;\n                    for (j = 0; j < jLen; j += 1) {\n                        if (arr[i].ks.k[j].s) {\n                            convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);\n                        }\n                        if (arr[i].ks.k[j].e) {\n                            convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);\n                        }\n                    }\n                }\n                hasPaths = true;\n            } else if (arr[i].ty == 'gr') {\n                completeShapes(arr[i].it);\n            }\n        }\n        /*if(hasPaths){\n            //mx: distance\n            //ss: sensitivity\n            //dc: decay\n            arr.splice(arr.length-1,0,{\n                \"ty\": \"ms\",\n                \"mx\":20,\n                \"ss\":10,\n                 \"dc\":0.001,\n                \"maxDist\":200\n            });\n        }*/\n    }\n\n    function convertPathsToAbsoluteValues(path) {\n        var i,\n            len = path.i.length;\n        for (i = 0; i < len; i += 1) {\n            path.i[i][0] += path.v[i][0];\n            path.i[i][1] += path.v[i][1];\n            path.o[i][0] += path.v[i][0];\n            path.o[i][1] += path.v[i][1];\n        }\n    }\n\n    function checkVersion(minimum, animVersionString) {\n        var animVersion = animVersionString ? animVersionString.split('.') : [100, 100, 100];\n        if (minimum[0] > animVersion[0]) {\n            return true;\n        } else if (animVersion[0] > minimum[0]) {\n            return false;\n        }\n        if (minimum[1] > animVersion[1]) {\n            return true;\n        } else if (animVersion[1] > minimum[1]) {\n            return false;\n        }\n        if (minimum[2] > animVersion[2]) {\n            return true;\n        } else if (animVersion[2] > minimum[2]) {\n            return false;\n        }\n    }\n\n    var checkText = function () {\n        var minimumVersion = [4, 4, 14];\n\n        function updateTextLayer(textLayer) {\n            var documentData = textLayer.t.d;\n            textLayer.t.d = {\n                k: [{\n                    s: documentData,\n                    t: 0\n                }]\n            };\n        }\n\n        function iterateLayers(layers) {\n            var i,\n                len = layers.length;\n            for (i = 0; i < len; i += 1) {\n                if (layers[i].ty === 5) {\n                    updateTextLayer(layers[i]);\n                }\n            }\n        }\n\n        return function (animationData) {\n            if (checkVersion(minimumVersion, animationData.v)) {\n                iterateLayers(animationData.layers);\n                if (animationData.assets) {\n                    var i,\n                        len = animationData.assets.length;\n                    for (i = 0; i < len; i += 1) {\n                        if (animationData.assets[i].layers) {\n                            iterateLayers(animationData.assets[i].layers);\n                        }\n                    }\n                }\n            }\n        };\n    }();\n\n    var checkColors = function () {\n        var minimumVersion = [4, 1, 9];\n\n        function iterateShapes(shapes) {\n            var i,\n                len = shapes.length;\n            var j, jLen;\n            for (i = 0; i < len; i += 1) {\n                if (shapes[i].ty === 'gr') {\n                    iterateShapes(shapes[i].it);\n                } else if (shapes[i].ty === 'fl' || shapes[i].ty === 'st') {\n                    if (shapes[i].c.k && shapes[i].c.k[0].i) {\n                        jLen = shapes[i].c.k.length;\n                        for (j = 0; j < jLen; j += 1) {\n                            if (shapes[i].c.k[j].s) {\n                                shapes[i].c.k[j].s[0] /= 255;\n                                shapes[i].c.k[j].s[1] /= 255;\n                                shapes[i].c.k[j].s[2] /= 255;\n                                shapes[i].c.k[j].s[3] /= 255;\n                            }\n                            if (shapes[i].c.k[j].e) {\n                                shapes[i].c.k[j].e[0] /= 255;\n                                shapes[i].c.k[j].e[1] /= 255;\n                                shapes[i].c.k[j].e[2] /= 255;\n                                shapes[i].c.k[j].e[3] /= 255;\n                            }\n                        }\n                    } else {\n                        shapes[i].c.k[0] /= 255;\n                        shapes[i].c.k[1] /= 255;\n                        shapes[i].c.k[2] /= 255;\n                        shapes[i].c.k[3] /= 255;\n                    }\n                }\n            }\n        }\n\n        function iterateLayers(layers) {\n            var i,\n                len = layers.length;\n            for (i = 0; i < len; i += 1) {\n                if (layers[i].ty === 4) {\n                    iterateShapes(layers[i].shapes);\n                }\n            }\n        }\n\n        return function (animationData) {\n            if (checkVersion(minimumVersion, animationData.v)) {\n                iterateLayers(animationData.layers);\n                if (animationData.assets) {\n                    var i,\n                        len = animationData.assets.length;\n                    for (i = 0; i < len; i += 1) {\n                        if (animationData.assets[i].layers) {\n                            iterateLayers(animationData.assets[i].layers);\n                        }\n                    }\n                }\n            }\n        };\n    }();\n\n    var checkShapes = function () {\n        var minimumVersion = [4, 4, 18];\n\n        function completeShapes(arr) {\n            var i,\n                len = arr.length;\n            var j, jLen;\n            var hasPaths = false;\n            for (i = len - 1; i >= 0; i -= 1) {\n                if (arr[i].ty == 'sh') {\n                    if (arr[i].ks.k.i) {\n                        arr[i].ks.k.c = arr[i].closed;\n                    } else {\n                        jLen = arr[i].ks.k.length;\n                        for (j = 0; j < jLen; j += 1) {\n                            if (arr[i].ks.k[j].s) {\n                                arr[i].ks.k[j].s[0].c = arr[i].closed;\n                            }\n                            if (arr[i].ks.k[j].e) {\n                                arr[i].ks.k[j].e[0].c = arr[i].closed;\n                            }\n                        }\n                    }\n                    hasPaths = true;\n                } else if (arr[i].ty == 'gr') {\n                    completeShapes(arr[i].it);\n                }\n            }\n        }\n\n        function iterateLayers(layers) {\n            var layerData;\n            var i,\n                len = layers.length;\n            var j, jLen, k, kLen;\n            for (i = 0; i < len; i += 1) {\n                layerData = layers[i];\n                if (layerData.hasMask) {\n                    var maskProps = layerData.masksProperties;\n                    jLen = maskProps.length;\n                    for (j = 0; j < jLen; j += 1) {\n                        if (maskProps[j].pt.k.i) {\n                            maskProps[j].pt.k.c = maskProps[j].cl;\n                        } else {\n                            kLen = maskProps[j].pt.k.length;\n                            for (k = 0; k < kLen; k += 1) {\n                                if (maskProps[j].pt.k[k].s) {\n                                    maskProps[j].pt.k[k].s[0].c = maskProps[j].cl;\n                                }\n                                if (maskProps[j].pt.k[k].e) {\n                                    maskProps[j].pt.k[k].e[0].c = maskProps[j].cl;\n                                }\n                            }\n                        }\n                    }\n                }\n                if (layerData.ty === 4) {\n                    completeShapes(layerData.shapes);\n                }\n            }\n        }\n\n        return function (animationData) {\n            if (checkVersion(minimumVersion, animationData.v)) {\n                iterateLayers(animationData.layers);\n                if (animationData.assets) {\n                    var i,\n                        len = animationData.assets.length;\n                    for (i = 0; i < len; i += 1) {\n                        if (animationData.assets[i].layers) {\n                            iterateLayers(animationData.assets[i].layers);\n                        }\n                    }\n                }\n            }\n        };\n    }();\n\n    /*function blitPaths(path){\n        var i, len = path.i.length;\n        for(i=0;i<len;i+=1){\n            path.i[i][0] /= blitter;\n            path.i[i][1] /= blitter;\n            path.o[i][0] /= blitter;\n            path.o[i][1] /= blitter;\n            path.v[i][0] /= blitter;\n            path.v[i][1] /= blitter;\n        }\n    }\n     function blitShapes(arr){\n        var i, len = arr.length;\n        var j, jLen;\n        var hasPaths = false;\n        for(i=len-1;i>=0;i-=1){\n            if(arr[i].ty == 'sh'){\n                if(arr[i].ks.k.i){\n                    blitPaths(arr[i].ks.k);\n                }else{\n                    jLen = arr[i].ks.k.length;\n                    for(j=0;j<jLen;j+=1){\n                        if(arr[i].ks.k[j].s){\n                            blitPaths(arr[i].ks.k[j].s[0]);\n                        }\n                        if(arr[i].ks.k[j].e){\n                            blitPaths(arr[i].ks.k[j].e[0]);\n                        }\n                    }\n                }\n                hasPaths = true;\n            }else if(arr[i].ty == 'gr'){\n                blitShapes(arr[i].it);\n            }else if(arr[i].ty == 'rc'){\n                blitProperty(arr[i].p);\n                blitProperty(arr[i].s);\n            }else if(arr[i].ty == 'st'){\n                blitProperty(arr[i].w);\n            }else if(arr[i].ty == 'tr'){\n                blitProperty(arr[i].p);\n                blitProperty(arr[i].sk);\n                blitProperty(arr[i].a);\n            }else if(arr[i].ty == 'el'){\n                blitProperty(arr[i].p);\n                blitProperty(arr[i].s);\n            }else if(arr[i].ty == 'rd'){\n                blitProperty(arr[i].r);\n            }else{\n                 //console.log(arr[i].ty );\n            }\n        }\n    }\n     function blitText(data, fontManager){\n     }\n     function blitValue(val){\n        if(typeof(val) === 'number'){\n            val /= blitter;\n        } else {\n            var i = val.length-1;\n            while(i>=0){\n                val[i] /= blitter;\n                i-=1;\n            }\n        }\n        return val;\n    }\n     function blitProperty(data){\n        if(!data.k.length){\n            data.k = blitValue(data.k);\n        }else if(typeof(data.k[0]) === 'number'){\n            data.k = blitValue(data.k);\n        } else {\n            var i, len = data.k.length;\n            for(i=0;i<len;i+=1){\n                if(data.k[i].s){\n                    //console.log('pre S: ', data.k[i].s);\n                    data.k[i].s = blitValue(data.k[i].s);\n                    //console.log('post S: ', data.k[i].s);\n                }\n                if(data.k[i].e){\n                    //console.log('pre E: ', data.k[i].e);\n                    data.k[i].e = blitValue(data.k[i].e);\n                    //console.log('post E: ', data.k[i].e);\n                }\n            }\n        }\n    }\n     function blitLayers(layers,comps, fontManager){\n        var layerData;\n        var animArray, lastFrame;\n        var i, len = layers.length;\n        var j, jLen, k, kLen;\n        for(i=0;i<len;i+=1){\n            layerData = layers[i];\n            if(!('ks' in layerData)){\n                continue;\n            }\n            blitProperty(layerData.ks.a);\n            blitProperty(layerData.ks.p);\n            layerData.completed = true;\n            if(layerData.tt){\n                layers[i-1].td = layerData.tt;\n            }\n            animArray = [];\n            lastFrame = -1;\n            if(layerData.hasMask){\n                var maskProps = layerData.masksProperties;\n                jLen = maskProps.length;\n                for(j=0;j<jLen;j+=1){\n                    if(maskProps[j].pt.k.i){\n                        blitPaths(maskProps[j].pt.k);\n                    }else{\n                        kLen = maskProps[j].pt.k.length;\n                        for(k=0;k<kLen;k+=1){\n                            if(maskProps[j].pt.k[k].s){\n                                blitPaths(maskProps[j].pt.k[k].s[0]);\n                            }\n                            if(maskProps[j].pt.k[k].e){\n                                blitPaths(maskProps[j].pt.k[k].e[0]);\n                            }\n                        }\n                    }\n                }\n            }\n            if(layerData.ty===0){\n                layerData.w = Math.round(layerData.w/blitter);\n                layerData.h = Math.round(layerData.h/blitter);\n                blitLayers(layerData.layers,comps, fontManager);\n            }else if(layerData.ty === 4){\n                blitShapes(layerData.shapes);\n            }else if(layerData.ty == 5){\n                blitText(layerData, fontManager);\n            }else if(layerData.ty == 1){\n                layerData.sh /= blitter;\n                layerData.sw /= blitter;\n            } else {\n            }\n        }\n    }\n     function blitAnimation(animationData,comps, fontManager){\n        blitLayers(animationData.layers,comps, fontManager);\n    }*/\n\n    function completeData(animationData, fontManager) {\n        if (animationData.__complete) {\n            return;\n        }\n        checkColors(animationData);\n        checkText(animationData);\n        checkShapes(animationData);\n        completeLayers(animationData.layers, animationData.assets, fontManager);\n        animationData.__complete = true;\n        //blitAnimation(animationData, animationData.assets, fontManager);\n    }\n\n    function completeText(data, fontManager) {\n        var letters;\n        var keys = data.t.d.k;\n        var k,\n            kLen = keys.length;\n        for (k = 0; k < kLen; k += 1) {\n            var documentData = data.t.d.k[k].s;\n            letters = [];\n            var i, len;\n            var newLineFlag,\n                index = 0,\n                val;\n            var anchorGrouping = data.t.m.g;\n            var currentSize = 0,\n                currentPos = 0,\n                currentLine = 0,\n                lineWidths = [];\n            var lineWidth = 0;\n            var maxLineWidth = 0;\n            var j, jLen;\n            var fontData = fontManager.getFontByName(documentData.f);\n            var charData,\n                cLength = 0;\n            var styles = fontData.fStyle.split(' ');\n\n            var fWeight = 'normal',\n                fStyle = 'normal';\n            len = styles.length;\n            for (i = 0; i < len; i += 1) {\n                if (styles[i].toLowerCase() === 'italic') {\n                    fStyle = 'italic';\n                } else if (styles[i].toLowerCase() === 'bold') {\n                    fWeight = '700';\n                } else if (styles[i].toLowerCase() === 'black') {\n                    fWeight = '900';\n                } else if (styles[i].toLowerCase() === 'medium') {\n                    fWeight = '500';\n                } else if (styles[i].toLowerCase() === 'regular' || styles[i].toLowerCase() === 'normal') {\n                    fWeight = '400';\n                } else if (styles[i].toLowerCase() === 'light' || styles[i].toLowerCase() === 'thin') {\n                    fWeight = '200';\n                }\n            }\n            documentData.fWeight = fWeight;\n            documentData.fStyle = fStyle;\n            len = documentData.t.length;\n            if (documentData.sz) {\n                var boxWidth = documentData.sz[0];\n                var lastSpaceIndex = -1;\n                for (i = 0; i < len; i += 1) {\n                    newLineFlag = false;\n                    if (documentData.t.charAt(i) === ' ') {\n                        lastSpaceIndex = i;\n                    } else if (documentData.t.charCodeAt(i) === 13) {\n                        lineWidth = 0;\n                        newLineFlag = true;\n                    }\n                    if (fontManager.chars) {\n                        charData = fontManager.getCharData(documentData.t.charAt(i), fontData.fStyle, fontData.fFamily);\n                        cLength = newLineFlag ? 0 : charData.w * documentData.s / 100;\n                    } else {\n                        //tCanvasHelper.font = documentData.s + 'px '+ fontData.fFamily;\n                        cLength = fontManager.measureText(documentData.t.charAt(i), documentData.f, documentData.s);\n                    }\n                    if (lineWidth + cLength > boxWidth) {\n                        if (lastSpaceIndex === -1) {\n                            //i -= 1;\n                            documentData.t = documentData.t.substr(0, i) + \"\\r\" + documentData.t.substr(i);\n                            len += 1;\n                        } else {\n                            i = lastSpaceIndex;\n                            documentData.t = documentData.t.substr(0, i) + \"\\r\" + documentData.t.substr(i + 1);\n                        }\n                        lastSpaceIndex = -1;\n                        lineWidth = 0;\n                    } else {\n                        lineWidth += cLength;\n                    }\n                }\n                len = documentData.t.length;\n            }\n            lineWidth = 0;\n            cLength = 0;\n            for (i = 0; i < len; i += 1) {\n                newLineFlag = false;\n                if (documentData.t.charAt(i) === ' ') {\n                    val = '\\xA0';\n                } else if (documentData.t.charCodeAt(i) === 13) {\n                    lineWidths.push(lineWidth);\n                    maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\n                    lineWidth = 0;\n                    val = '';\n                    newLineFlag = true;\n                    currentLine += 1;\n                } else {\n                    val = documentData.t.charAt(i);\n                }\n                if (fontManager.chars) {\n                    charData = fontManager.getCharData(documentData.t.charAt(i), fontData.fStyle, fontManager.getFontByName(documentData.f).fFamily);\n                    cLength = newLineFlag ? 0 : charData.w * documentData.s / 100;\n                } else {\n                    //var charWidth = fontManager.measureText(val, documentData.f, documentData.s);\n                    //tCanvasHelper.font = documentData.s + 'px '+ fontManager.getFontByName(documentData.f).fFamily;\n                    cLength = fontManager.measureText(val, documentData.f, documentData.s);\n                }\n\n                //\n                lineWidth += cLength;\n                letters.push({ l: cLength, an: cLength, add: currentSize, n: newLineFlag, anIndexes: [], val: val, line: currentLine });\n                if (anchorGrouping == 2) {\n                    currentSize += cLength;\n                    if (val == '' || val == '\\xA0' || i == len - 1) {\n                        if (val == '' || val == '\\xA0') {\n                            currentSize -= cLength;\n                        }\n                        while (currentPos <= i) {\n                            letters[currentPos].an = currentSize;\n                            letters[currentPos].ind = index;\n                            letters[currentPos].extra = cLength;\n                            currentPos += 1;\n                        }\n                        index += 1;\n                        currentSize = 0;\n                    }\n                } else if (anchorGrouping == 3) {\n                    currentSize += cLength;\n                    if (val == '' || i == len - 1) {\n                        if (val == '') {\n                            currentSize -= cLength;\n                        }\n                        while (currentPos <= i) {\n                            letters[currentPos].an = currentSize;\n                            letters[currentPos].ind = index;\n                            letters[currentPos].extra = cLength;\n                            currentPos += 1;\n                        }\n                        currentSize = 0;\n                        index += 1;\n                    }\n                } else {\n                    letters[index].ind = index;\n                    letters[index].extra = 0;\n                    index += 1;\n                }\n            }\n            documentData.l = letters;\n            maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\n            lineWidths.push(lineWidth);\n            if (documentData.sz) {\n                documentData.boxWidth = documentData.sz[0];\n                documentData.justifyOffset = 0;\n            } else {\n                documentData.boxWidth = maxLineWidth;\n                switch (documentData.j) {\n                    case 1:\n                        documentData.justifyOffset = -documentData.boxWidth;\n                        break;\n                    case 2:\n                        documentData.justifyOffset = -documentData.boxWidth / 2;\n                        break;\n                    default:\n                        documentData.justifyOffset = 0;\n                }\n            }\n            documentData.lineWidths = lineWidths;\n\n            var animators = data.t.a;\n            jLen = animators.length;\n            var based,\n                ind,\n                indexes = [];\n            for (j = 0; j < jLen; j += 1) {\n                if (animators[j].a.sc) {\n                    documentData.strokeColorAnim = true;\n                }\n                if (animators[j].a.sw) {\n                    documentData.strokeWidthAnim = true;\n                }\n                if (animators[j].a.fc || animators[j].a.fh || animators[j].a.fs || animators[j].a.fb) {\n                    documentData.fillColorAnim = true;\n                }\n                ind = 0;\n                based = animators[j].s.b;\n                for (i = 0; i < len; i += 1) {\n                    letters[i].anIndexes[j] = ind;\n                    if (based == 1 && letters[i].val != '' || based == 2 && letters[i].val != '' && letters[i].val != '\\xA0' || based == 3 && (letters[i].n || letters[i].val == '\\xA0' || i == len - 1) || based == 4 && (letters[i].n || i == len - 1)) {\n                        if (animators[j].s.rn === 1) {\n                            indexes.push(ind);\n                        }\n                        ind += 1;\n                    }\n                }\n                data.t.a[j].s.totalChars = ind;\n                var currentInd = -1,\n                    newInd;\n                if (animators[j].s.rn === 1) {\n                    for (i = 0; i < len; i += 1) {\n                        if (currentInd != letters[i].anIndexes[j]) {\n                            currentInd = letters[i].anIndexes[j];\n                            newInd = indexes.splice(Math.floor(Math.random() * indexes.length), 1)[0];\n                        }\n                        letters[i].anIndexes[j] = newInd;\n                    }\n                }\n            }\n            if (jLen === 0 && !('m' in data.t.p)) {\n                data.singleShape = true;\n            }\n            documentData.yOffset = documentData.lh || documentData.s * 1.2;\n            documentData.ascent = fontData.ascent * documentData.s / 100;\n        }\n    }\n\n    var moduleOb = {};\n    moduleOb.completeData = completeData;\n\n    return moduleOb;\n}\n\nvar DataManager = dataFunctionManager();\n\nexports.default = DataManager;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n\nvar maxWaitingTime = 5000;\n\nfunction setUpNode(font, family) {\n    var parentNode = document.createElement('span');\n    parentNode.style.fontFamily = family;\n    var node = document.createElement('span');\n    // Characters that vary significantly among different fonts\n    node.innerHTML = 'giItT1WQy@!-/#';\n    // Visible - so we can measure it - but not on the screen\n    parentNode.style.position = 'absolute';\n    parentNode.style.left = '-10000px';\n    parentNode.style.top = '-10000px';\n    // Large font size makes even subtle changes obvious\n    parentNode.style.fontSize = '300px';\n    // Reset any font properties\n    parentNode.style.fontVariant = 'normal';\n    parentNode.style.fontStyle = 'normal';\n    parentNode.style.fontWeight = 'normal';\n    parentNode.style.letterSpacing = '0';\n    parentNode.appendChild(node);\n    document.body.appendChild(parentNode);\n\n    // Remember width with no applied web font\n    var width = node.offsetWidth;\n    node.style.fontFamily = font + ', ' + family;\n    return { node: node, w: width, parent: parentNode };\n}\n\nfunction checkLoadedFonts() {\n    var i,\n        len = this.fonts.length;\n    var node, w;\n    var loadedCount = len;\n    for (i = 0; i < len; i += 1) {\n        if (this.fonts[i].loaded) {\n            loadedCount -= 1;\n            continue;\n        }\n        if (this.fonts[i].fOrigin === 't') {\n            if (window.Typekit && window.Typekit.load && this.typekitLoaded === 0) {\n                this.typekitLoaded = 1;\n                try {\n                    window.Typekit.load({\n                        async: true,\n                        active: function () {\n                            this.typekitLoaded = 2;\n                        }.bind(this)\n                    });\n                } catch (e) {}\n            }\n            if (this.typekitLoaded === 2) {\n                this.fonts[i].loaded = true;\n            }\n        } else if (this.fonts[i].fOrigin === 'n') {\n            this.fonts[i].loaded = true;\n        } else {\n            node = this.fonts[i].monoCase.node;\n            w = this.fonts[i].monoCase.w;\n            if (node.offsetWidth !== w) {\n                loadedCount -= 1;\n                this.fonts[i].loaded = true;\n            } else {\n                node = this.fonts[i].sansCase.node;\n                w = this.fonts[i].sansCase.w;\n                if (node.offsetWidth !== w) {\n                    loadedCount -= 1;\n                    this.fonts[i].loaded = true;\n                }\n            }\n            if (this.fonts[i].loaded) {\n                this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent);\n                this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent);\n            }\n        }\n    }\n\n    if (loadedCount !== 0 && Date.now() - this.initTime < maxWaitingTime) {\n        setTimeout(checkLoadedFonts.bind(this), 20);\n    } else {\n        setTimeout(function () {\n            this.loaded = true;\n        }.bind(this), 0);\n    }\n};\n\nfunction createHelper(def, fontData) {\n    var tHelper = document.createElementNS(svgNS, 'text');\n    tHelper.style.fontSize = '100px';\n    tHelper.style.fontFamily = fontData.fFamily;\n    tHelper.textContent = '1';\n    if (fontData.fClass) {\n        tHelper.style.fontFamily = 'inherit';\n        tHelper.className = fontData.fClass;\n    } else {\n        tHelper.style.fontFamily = fontData.fFamily;\n    }\n    def.appendChild(tHelper);\n    var tCanvasHelper = document.createElement('canvas').getContext('2d');\n    tCanvasHelper.font = '100px ' + fontData.fFamily;\n    return tCanvasHelper;\n    return tHelper;\n}\n\nfunction addFonts(fontData, defs) {\n    if (!fontData) {\n        this.loaded = true;\n        return;\n    }\n    if (this.chars) {\n        this.loaded = true;\n        this.fonts = fontData.list;\n        return;\n    }\n\n    var fontArr = fontData.list;\n    var i,\n        len = fontArr.length;\n    for (i = 0; i < len; i += 1) {\n        fontArr[i].loaded = false;\n        fontArr[i].monoCase = setUpNode(fontArr[i].fFamily, 'monospace');\n        fontArr[i].sansCase = setUpNode(fontArr[i].fFamily, 'sans-serif');\n        if (!fontArr[i].fPath) {\n            fontArr[i].loaded = true;\n        } else if (fontArr[i].fOrigin === 'p') {\n            var s = document.createElement('style');\n            s.type = \"text/css\";\n            s.innerHTML = \"@font-face {\" + \"font-family: \" + fontArr[i].fFamily + \"; font-style: normal; src: url('\" + fontArr[i].fPath + \"');}\";\n            defs.appendChild(s);\n        } else if (fontArr[i].fOrigin === 'g') {\n            //<link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css'>\n            var l = document.createElement('link');\n            l.type = \"text/css\";\n            l.rel = \"stylesheet\";\n            l.href = fontArr[i].fPath;\n            defs.appendChild(l);\n        } else if (fontArr[i].fOrigin === 't') {\n            //<link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css'>\n            var sc = document.createElement('script');\n            sc.setAttribute('src', fontArr[i].fPath);\n            defs.appendChild(sc);\n        }\n        fontArr[i].helper = createHelper(defs, fontArr[i]);\n        this.fonts.push(fontArr[i]);\n    }\n    checkLoadedFonts.bind(this)();\n}\n\nfunction addChars(chars) {\n    if (!chars) {\n        return;\n    }\n    if (!this.chars) {\n        this.chars = [];\n    }\n    var i,\n        len = chars.length;\n    var j,\n        jLen = this.chars.length,\n        found;\n    for (i = 0; i < len; i += 1) {\n        j = 0;\n        found = false;\n        while (j < jLen) {\n            if (this.chars[j].style === chars[i].style && this.chars[j].fFamily === chars[i].fFamily && this.chars[j].ch === chars[i].ch) {\n                found = true;\n            }\n            j += 1;\n        }\n        if (!found) {\n            this.chars.push(chars[i]);\n            jLen += 1;\n        }\n    }\n}\n\nfunction getCharData(char, style, font) {\n    var i = 0,\n        len = this.chars.length;\n    while (i < len) {\n        if (this.chars[i].ch === char && this.chars[i].style === style && this.chars[i].fFamily === font) {\n            return this.chars[i];\n        }\n        i += 1;\n    }\n}\n\nfunction measureText(char, fontName, size) {\n    var fontData = this.getFontByName(fontName);\n    var tHelper = fontData.helper;\n    //tHelper.textContent = char;\n    return tHelper.measureText(char).width * size / 100;\n    //return tHelper.getComputedTextLength()*size/100;\n}\n\nfunction getFontByName(name) {\n    var i = 0,\n        len = this.fonts.length;\n    while (i < len) {\n        if (this.fonts[i].fName === name) {\n            return this.fonts[i];\n        }\n        i += 1;\n    }\n    return 'sans-serif';\n}\n\nfunction FontManager() {\n    this.fonts = [];\n    this.chars = null;\n    this.typekitLoaded = 0;\n    this.loaded = false;\n    this.initTime = Date.now();\n};\nFontManager.prototype.addChars = addChars;\nFontManager.prototype.addFonts = addFonts;\nFontManager.prototype.getCharData = getCharData;\nFontManager.prototype.getFontByName = getFontByName;\nFontManager.prototype.measureText = measureText;\n\nexports.default = FontManager;\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = ImagePreloader;\nfunction imageLoaded() {\n\tthis.loadedAssets += 1;\n\tif (this.loadedAssets === this.totalImages) {}\n}\n\nfunction getAssetsPath(assetData) {\n\tvar path = '';\n\tif (this.assetsPath) {\n\t\tvar imagePath = assetData.p;\n\t\tif (imagePath.indexOf('images/') !== -1) {\n\t\t\timagePath = imagePath.split('/')[1];\n\t\t}\n\t\tpath = this.assetsPath + imagePath;\n\t} else {\n\t\tpath = this.path;\n\t\tpath += assetData.u ? assetData.u : '';\n\t\tpath += assetData.p;\n\t}\n\treturn path;\n}\n\nfunction loadImage(path) {\n\tvar img = document.createElement('img');\n\timg.addEventListener('load', imageLoaded.bind(this), false);\n\timg.addEventListener('error', imageLoaded.bind(this), false);\n\timg.src = path;\n}\nfunction loadAssets(assets) {\n\tthis.totalAssets = assets.length;\n\tvar i;\n\tfor (i = 0; i < this.totalAssets; i += 1) {\n\t\tif (!assets[i].layers) {\n\t\t\tloadImage.bind(this)(getAssetsPath.bind(this)(assets[i]));\n\t\t\tthis.totalImages += 1;\n\t\t}\n\t}\n}\n\nfunction setPath(path) {\n\tthis.path = path || '';\n}\n\nfunction setAssetsPath(path) {\n\tthis.assetsPath = path || '';\n}\n\nfunction ImagePreloader() {\n\tthis.loadAssets = loadAssets;\n\tthis.setAssetsPath = setAssetsPath;\n\tthis.setPath = setPath;\n\tthis.assetsPath = '';\n\tthis.path = '';\n\tthis.totalAssets = 0;\n\tthis.totalImages = 0;\n\tthis.loadedAssets = 0;\n}\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _common = __webpack_require__(0);\n\nvar _ShapeModifiers = __webpack_require__(3);\n\nfunction MouseModifier() {};\n(0, _common.extendPrototype)(_ShapeModifiers.ShapeModifier, MouseModifier);\nMouseModifier.prototype.processKeys = function (forceRender) {\n    if (this.elem.globalData.frameId === this.frameId && !forceRender) {\n        return;\n    }\n    this.mdf = true;\n};\n\nMouseModifier.prototype.addShapeToModifier = function () {\n    this.positions.push([]);\n};\n\nMouseModifier.prototype.processPath = function (path, mouseCoords, positions) {\n    var i,\n        len = path.v.length;\n    var vValues = [],\n        oValues = [],\n        iValues = [];\n    var dist;\n    //console.log(mouseCoords);\n    var theta, x, y;\n    //// OPTION A\n    for (i = 0; i < len; i += 1) {\n        if (!positions.v[i]) {\n            positions.v[i] = [path.v[i][0], path.v[i][1]];\n            positions.o[i] = [path.o[i][0], path.o[i][1]];\n            positions.i[i] = [path.i[i][0], path.i[i][1]];\n            positions.distV[i] = 0;\n            positions.distO[i] = 0;\n            positions.distI[i] = 0;\n        }\n        theta = Math.atan2(path.v[i][1] - mouseCoords[1], path.v[i][0] - mouseCoords[0]);\n\n        x = mouseCoords[0] - positions.v[i][0];\n        y = mouseCoords[1] - positions.v[i][1];\n        var distance = Math.sqrt(x * x + y * y);\n        positions.distV[i] += (distance - positions.distV[i]) * this.data.dc;\n\n        positions.v[i][0] = Math.cos(theta) * Math.max(0, this.data.maxDist - positions.distV[i]) / 2 + path.v[i][0];\n        positions.v[i][1] = Math.sin(theta) * Math.max(0, this.data.maxDist - positions.distV[i]) / 2 + path.v[i][1];\n\n        theta = Math.atan2(path.o[i][1] - mouseCoords[1], path.o[i][0] - mouseCoords[0]);\n\n        x = mouseCoords[0] - positions.o[i][0];\n        y = mouseCoords[1] - positions.o[i][1];\n        var distance = Math.sqrt(x * x + y * y);\n        positions.distO[i] += (distance - positions.distO[i]) * this.data.dc;\n\n        positions.o[i][0] = Math.cos(theta) * Math.max(0, this.data.maxDist - positions.distO[i]) / 2 + path.o[i][0];\n        positions.o[i][1] = Math.sin(theta) * Math.max(0, this.data.maxDist - positions.distO[i]) / 2 + path.o[i][1];\n\n        theta = Math.atan2(path.i[i][1] - mouseCoords[1], path.i[i][0] - mouseCoords[0]);\n\n        x = mouseCoords[0] - positions.i[i][0];\n        y = mouseCoords[1] - positions.i[i][1];\n        var distance = Math.sqrt(x * x + y * y);\n        positions.distI[i] += (distance - positions.distI[i]) * this.data.dc;\n\n        positions.i[i][0] = Math.cos(theta) * Math.max(0, this.data.maxDist - positions.distI[i]) / 2 + path.i[i][0];\n        positions.i[i][1] = Math.sin(theta) * Math.max(0, this.data.maxDist - positions.distI[i]) / 2 + path.i[i][1];\n\n        /////OPTION 1\n        vValues.push(positions.v[i]);\n        oValues.push(positions.o[i]);\n        iValues.push(positions.i[i]);\n\n        /////OPTION 2\n        //vValues.push(positions.v[i]);\n        // iValues.push([path.i[i][0]+(positions.v[i][0]-path.v[i][0]),path.i[i][1]+(positions.v[i][1]-path.v[i][1])]);\n        // oValues.push([path.o[i][0]+(positions.v[i][0]-path.v[i][0]),path.o[i][1]+(positions.v[i][1]-path.v[i][1])]);\n\n\n        /////OPTION 3\n        //vValues.push(positions.v[i]);\n        //iValues.push(path.i[i]);\n        //oValues.push(path.o[i]);\n\n\n        /////OPTION 4\n        //vValues.push(path.v[i]);\n        //oValues.push(positions.o[i]);\n        //iValues.push(positions.i[i]);\n    }\n\n    //// OPTION B\n    /*for(i=0;i<len;i+=1){\n        if(!positions.v[i]){\n            positions.v[i] = [path.v[i][0],path.v[i][1]];\n            positions.o[i] = [path.o[i][0],path.o[i][1]];\n            positions.i[i] = [path.i[i][0],path.i[i][1]];\n            positions.distV[i] = 0;\n         }\n        theta = Math.atan2(\n            positions.v[i][1] - mouseCoords[1],\n            positions.v[i][0] - mouseCoords[0]\n        );\n        x = mouseCoords[0] - positions.v[i][0];\n        y = mouseCoords[1] - positions.v[i][1];\n        var distance = this.data.ss * this.data.mx / Math.sqrt( (x * x) + (y * y) );\n         positions.v[i][0] += Math.cos(theta) * distance + (path.v[i][0] - positions.v[i][0]) * this.data.dc;\n        positions.v[i][1] += Math.sin(theta) * distance + (path.v[i][1] - positions.v[i][1]) * this.data.dc;\n          theta = Math.atan2(\n            positions.o[i][1] - mouseCoords[1],\n            positions.o[i][0] - mouseCoords[0]\n        );\n        x = mouseCoords[0] - positions.o[i][0];\n        y = mouseCoords[1] - positions.o[i][1];\n        var distance =  this.data.ss * this.data.mx / Math.sqrt( (x * x) + (y * y) );\n         positions.o[i][0] += Math.cos(theta) * distance + (path.o[i][0] - positions.o[i][0]) * this.data.dc;\n        positions.o[i][1] += Math.sin(theta) * distance + (path.o[i][1] - positions.o[i][1]) * this.data.dc;\n          theta = Math.atan2(\n            positions.i[i][1] - mouseCoords[1],\n            positions.i[i][0] - mouseCoords[0]\n        );\n        x = mouseCoords[0] - positions.i[i][0];\n        y = mouseCoords[1] - positions.i[i][1];\n        var distance =  this.data.ss * this.data.mx / Math.sqrt( (x * x) + (y * y) );\n         positions.i[i][0] += Math.cos(theta) * distance + (path.i[i][0] - positions.i[i][0]) * this.data.dc;\n        positions.i[i][1] += Math.sin(theta) * distance + (path.i[i][1] - positions.i[i][1]) * this.data.dc;\n         /////OPTION 1\n        //vValues.push(positions.v[i]);\n        // oValues.push(positions.o[i]);\n        // iValues.push(positions.i[i]);\n           /////OPTION 2\n        //vValues.push(positions.v[i]);\n        // iValues.push([path.i[i][0]+(positions.v[i][0]-path.v[i][0]),path.i[i][1]+(positions.v[i][1]-path.v[i][1])]);\n        // oValues.push([path.o[i][0]+(positions.v[i][0]-path.v[i][0]),path.o[i][1]+(positions.v[i][1]-path.v[i][1])]);\n           /////OPTION 3\n        //vValues.push(positions.v[i]);\n        //iValues.push(path.i[i]);\n        //oValues.push(path.o[i]);\n          /////OPTION 4\n        //vValues.push(path.v[i]);\n        // oValues.push(positions.o[i]);\n        // iValues.push(positions.i[i]);\n    }*/\n\n    return {\n        v: vValues,\n        o: oValues,\n        i: iValues,\n        c: path.c\n    };\n};\n\nMouseModifier.prototype.processShapes = function () {\n    var mouseX = this.elem.globalData.mouseX;\n    var mouseY = this.elem.globalData.mouseY;\n    var shapePaths;\n    var i,\n        len = this.shapes.length;\n    var j, jLen;\n\n    if (mouseX) {\n        var localMouseCoords = this.elem.globalToLocal([mouseX, mouseY, 0]);\n\n        var shapeData,\n            newPaths = [];\n        for (i = 0; i < len; i += 1) {\n            shapeData = this.shapes[i];\n            if (!shapeData.shape.mdf && !this.mdf) {\n                shapeData.shape.paths = shapeData.last;\n            } else {\n                shapeData.shape.mdf = true;\n                shapePaths = shapeData.shape.paths;\n                jLen = shapePaths.length;\n                for (j = 0; j < jLen; j += 1) {\n                    if (!this.positions[i][j]) {\n                        this.positions[i][j] = {\n                            v: [],\n                            o: [],\n                            i: [],\n                            distV: [],\n                            distO: [],\n                            distI: []\n                        };\n                    }\n                    newPaths.push(this.processPath(shapePaths[j], localMouseCoords, this.positions[i][j]));\n                }\n                shapeData.shape.paths = newPaths;\n                shapeData.last = newPaths;\n            }\n        }\n    }\n};\n\nMouseModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.data = data;\n    this.positions = [];\n};\n\n_ShapeModifiers.ShapeModifiers.registerModifier('ms', MouseModifier);\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = RoundCornersModifier;\n\nvar _common = __webpack_require__(0);\n\nvar _ShapeModifiers = __webpack_require__(3);\n\nfunction RoundCornersModifier() {};\n(0, _common.extendPrototype)(_ShapeModifiers.ShapeModifier, RoundCornersModifier);\nRoundCornersModifier.prototype.processKeys = function (forceRender) {\n    if (this.elem.globalData.frameId === this.frameId && !forceRender) {\n        return;\n    }\n    this.mdf = forceRender ? true : false;\n    this.frameId = this.elem.globalData.frameId;\n    var i,\n        len = this.dynamicProperties.length;\n\n    for (i = 0; i < len; i += 1) {\n        this.dynamicProperties[i].getValue();\n        if (this.dynamicProperties[i].mdf) {\n            this.mdf = true;\n        }\n    }\n};\nRoundCornersModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.rd = PropertyFactory.getProp(elem, data.r, 0, null, this.dynamicProperties);\n    if (!this.dynamicProperties.length) {\n        this.getValue(true);\n    }\n};\n\nRoundCornersModifier.prototype.processPath = function (path, round) {\n    var i,\n        len = path.v.length;\n    var vValues = [],\n        oValues = [],\n        iValues = [];\n    var currentV, currentI, currentO, closerV, newV, newO, newI, distance, newPosPerc;\n    for (i = 0; i < len; i += 1) {\n        currentV = path.v[i];\n        currentO = path.o[i];\n        currentI = path.i[i];\n        if (currentV[0] === currentO[0] && currentV[1] === currentO[1] && currentV[0] === currentI[0] && currentV[1] === currentI[1]) {\n            if ((i === 0 || i === len - 1) && !path.c) {\n                vValues.push(currentV);\n                oValues.push(currentO);\n                iValues.push(currentI);\n            } else {\n                if (i === 0) {\n                    closerV = path.v[len - 1];\n                } else {\n                    closerV = path.v[i - 1];\n                }\n                distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\n                newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\n                newV = [currentV[0] + (closerV[0] - currentV[0]) * newPosPerc, currentV[1] - (currentV[1] - closerV[1]) * newPosPerc];\n                newI = newV;\n                newO = [newV[0] - (newV[0] - currentV[0]) * roundCorner, newV[1] - (newV[1] - currentV[1]) * roundCorner];\n                vValues.push(newV);\n                oValues.push(newO);\n                iValues.push(newI);\n\n                if (i === len - 1) {\n                    closerV = path.v[0];\n                } else {\n                    closerV = path.v[i + 1];\n                }\n                distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\n                newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\n                newV = [currentV[0] + (closerV[0] - currentV[0]) * newPosPerc, currentV[1] + (closerV[1] - currentV[1]) * newPosPerc];\n                newI = [newV[0] - (newV[0] - currentV[0]) * roundCorner, newV[1] - (newV[1] - currentV[1]) * roundCorner];\n                newO = newV;\n                vValues.push(newV);\n                oValues.push(newO);\n                iValues.push(newI);\n            }\n        } else {\n            vValues.push(path.v[i]);\n            oValues.push(path.o[i]);\n            iValues.push(path.i[i]);\n        }\n    }\n    return {\n        v: vValues,\n        o: oValues,\n        i: iValues,\n        c: path.c\n    };\n};\n\nRoundCornersModifier.prototype.processShapes = function () {\n    var shapePaths;\n    var i,\n        len = this.shapes.length;\n    var j, jLen;\n    var rd = this.rd.v;\n\n    if (rd !== 0) {\n        var shapeData, newPaths;\n        for (i = 0; i < len; i += 1) {\n            newPaths = [];\n            shapeData = this.shapes[i];\n            if (!shapeData.shape.mdf && !this.mdf) {\n                shapeData.shape.paths = shapeData.last;\n            } else {\n                shapeData.shape.mdf = true;\n                shapePaths = shapeData.shape.paths;\n                jLen = shapePaths.length;\n                for (j = 0; j < jLen; j += 1) {\n                    newPaths.push(this.processPath(shapePaths[j], rd));\n                }\n                shapeData.shape.paths = newPaths;\n                shapeData.last = newPaths;\n            }\n        }\n    }\n    if (!this.dynamicProperties.length) {\n        this.mdf = false;\n    }\n};\n\n_ShapeModifiers.ShapeModifiers.registerModifier('rd', RoundCornersModifier);\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = TrimModifier;\n\nvar _ShapeModifiers = __webpack_require__(3);\n\nvar _common = __webpack_require__(0);\n\nvar _PropertyFactory = __webpack_require__(2);\n\nvar _PropertyFactory2 = _interopRequireDefault(_PropertyFactory);\n\nvar _bez = __webpack_require__(9);\n\nvar _bez2 = _interopRequireDefault(_bez);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction TrimModifier() {};\n\n(0, _common.extendPrototype)(_ShapeModifiers.ShapeModifier, TrimModifier);\nTrimModifier.prototype.processKeys = function (forceRender) {\n\tif (this.elem.globalData.frameId === this.frameId && !forceRender) {\n\t\treturn;\n\t}\n\tthis.mdf = forceRender ? true : false;\n\tthis.frameId = this.elem.globalData.frameId;\n\tvar i,\n\t    len = this.dynamicProperties.length;\n\n\tfor (i = 0; i < len; i += 1) {\n\t\tthis.dynamicProperties[i].getValue();\n\t\tif (this.dynamicProperties[i].mdf) {\n\t\t\tthis.mdf = true;\n\t\t}\n\t}\n\tif (this.mdf || forceRender) {\n\t\tvar o = this.o.v % 360 / 360;\n\t\tif (o < 0) {\n\t\t\to += 1;\n\t\t}\n\t\tvar s = this.s.v + o;\n\t\tvar e = this.e.v + o;\n\t\tif (s == e) {}\n\t\tif (s > e) {\n\t\t\tvar _s = s;\n\t\t\ts = e;\n\t\t\te = _s;\n\t\t}\n\t\tthis.sValue = s;\n\t\tthis.eValue = e;\n\t\tthis.oValue = o;\n\t}\n};\nTrimModifier.prototype.initModifierProperties = function (elem, data) {\n\tthis.sValue = 0;\n\tthis.eValue = 0;\n\tthis.oValue = 0;\n\tthis.getValue = this.processKeys;\n\tthis.s = _PropertyFactory2.default.getProp(elem, data.s, 0, 0.01, this.dynamicProperties);\n\tthis.e = _PropertyFactory2.default.getProp(elem, data.e, 0, 0.01, this.dynamicProperties);\n\tthis.o = _PropertyFactory2.default.getProp(elem, data.o, 0, 0, this.dynamicProperties);\n\tthis.m = data.m;\n\tif (!this.dynamicProperties.length) {\n\t\tthis.getValue(true);\n\t}\n};\n\nTrimModifier.prototype.getSegmentsLength = function (keyframes) {\n\tvar closed = keyframes.c;\n\tvar pathV = keyframes.v;\n\tvar pathO = keyframes.o;\n\tvar pathI = keyframes.i;\n\tvar i,\n\t    len = pathV.length;\n\tvar lengths = [];\n\tvar totalLength = 0;\n\tfor (i = 0; i < len - 1; i += 1) {\n\t\tlengths[i] = _bez2.default.getBezierLength(pathV[i], pathV[i + 1], pathO[i], pathI[i + 1]);\n\t\ttotalLength += lengths[i].addedLength;\n\t}\n\tif (closed) {\n\t\tlengths[i] = _bez2.default.getBezierLength(pathV[i], pathV[0], pathO[i], pathI[0]);\n\t\ttotalLength += lengths[i].addedLength;\n\t}\n\treturn { lengths: lengths, totalLength: totalLength };\n};\n\nTrimModifier.prototype.calculateShapeEdges = function (s, e, shapeLength, addedLength, totalModifierLength) {\n\tvar segments = [];\n\tif (e <= 1) {\n\t\tsegments.push({\n\t\t\ts: s,\n\t\t\te: e\n\t\t});\n\t} else if (s >= 1) {\n\t\tsegments.push({\n\t\t\ts: s - 1,\n\t\t\te: e - 1\n\t\t});\n\t} else {\n\t\tsegments.push({\n\t\t\ts: s,\n\t\t\te: 1\n\t\t});\n\t\tsegments.push({\n\t\t\ts: 0,\n\t\t\te: e - 1\n\t\t});\n\t}\n\tvar shapeSegments = [];\n\tvar i,\n\t    len = segments.length,\n\t    segmentOb;\n\tfor (i = 0; i < len; i += 1) {\n\t\tsegmentOb = segments[i];\n\t\tif (segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength) {} else {\n\t\t\tvar shapeS, shapeE;\n\t\t\tif (segmentOb.s * totalModifierLength <= addedLength) {\n\t\t\t\tshapeS = 0;\n\t\t\t} else {\n\t\t\t\tshapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;\n\t\t\t}\n\t\t\tif (segmentOb.e * totalModifierLength >= addedLength + shapeLength) {\n\t\t\t\tshapeE = 1;\n\t\t\t} else {\n\t\t\t\tshapeE = (segmentOb.e * totalModifierLength - addedLength) / shapeLength;\n\t\t\t}\n\t\t\tshapeSegments.push([shapeS, shapeE]);\n\t\t}\n\t}\n\t//console.log(shapeSegments);\n\tif (!shapeSegments.length) {\n\t\tshapeSegments.push([0, 0]);\n\t}\n\treturn shapeSegments;\n};\n\nTrimModifier.prototype.processShapes = function (firstFrame) {\n\tvar shapePaths;\n\tvar i,\n\t    len = this.shapes.length;\n\tvar j, jLen;\n\tvar s = this.sValue;\n\tvar e = this.eValue;\n\tvar pathsData,\n\t    pathData,\n\t    totalShapeLength,\n\t    totalModifierLength = 0;\n\n\tif (e === s) {\n\t\tfor (i = 0; i < len; i += 1) {\n\t\t\tthis.shapes[i].shape.paths = [];\n\t\t\tthis.shapes[i].shape.mdf = true;\n\t\t}\n\t} else if (e === 1 && s === 0 || e === 0 && s === 1) {\n\t\tfor (i = 0; i < len; i += 1) {\n\t\t\tshapeData = this.shapes[i];\n\t\t\tif (shapeData.shape.paths !== shapeData.last) {\n\t\t\t\tshapeData.shape.mdf = true;\n\t\t\t\tshapeData.last = shapeData.shape.paths;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tvar segments = [],\n\t\t    shapeData,\n\t\t    newShapes;\n\t\tfor (i = 0; i < len; i += 1) {\n\t\t\tshapeData = this.shapes[i];\n\t\t\tif (!shapeData.shape.mdf && !this.mdf && !firstFrame && this.m !== 2) {\n\t\t\t\tshapeData.shape.paths = shapeData.last;\n\t\t\t} else {\n\t\t\t\tshapePaths = shapeData.shape.paths;\n\t\t\t\tjLen = shapePaths.length;\n\t\t\t\ttotalShapeLength = 0;\n\t\t\t\tif (!shapeData.shape.mdf && shapeData.pathsData) {\n\t\t\t\t\ttotalShapeLength = shapeData.totalShapeLength;\n\t\t\t\t} else {\n\t\t\t\t\tpathsData = [];\n\t\t\t\t\tfor (j = 0; j < jLen; j += 1) {\n\t\t\t\t\t\tpathData = this.getSegmentsLength(shapePaths[j]);\n\t\t\t\t\t\tpathsData.push(pathData);\n\t\t\t\t\t\ttotalShapeLength += pathData.totalLength;\n\t\t\t\t\t}\n\t\t\t\t\tshapeData.totalShapeLength = totalShapeLength;\n\t\t\t\t\tshapeData.pathsData = pathsData;\n\t\t\t\t}\n\n\t\t\t\ttotalModifierLength += totalShapeLength;\n\t\t\t\tshapeData.shape.mdf = true;\n\t\t\t}\n\t\t}\n\t\tvar shapeS = s,\n\t\t    shapeE = e,\n\t\t    addedLength = 0;\n\t\tvar j, jLen;\n\t\tfor (i = len - 1; i >= 0; i -= 1) {\n\t\t\tnewShapes = [];\n\t\t\tshapeData = this.shapes[i];\n\t\t\tif (shapeData.shape.mdf) {\n\t\t\t\tif (this.m === 2 && len > 1) {\n\t\t\t\t\tvar edges = this.calculateShapeEdges(s, e, shapeData.totalShapeLength, addedLength, totalModifierLength);\n\t\t\t\t\taddedLength += shapeData.totalShapeLength;\n\t\t\t\t} else {\n\t\t\t\t\tedges = [[shapeS, shapeE]];\n\t\t\t\t}\n\t\t\t\tjLen = edges.length;\n\t\t\t\tfor (j = 0; j < jLen; j += 1) {\n\t\t\t\t\tshapeS = edges[j][0];\n\t\t\t\t\tshapeE = edges[j][1];\n\t\t\t\t\tsegments.length = 0;\n\t\t\t\t\tif (shapeE <= 1) {\n\t\t\t\t\t\tsegments.push({\n\t\t\t\t\t\t\ts: shapeData.totalShapeLength * shapeS,\n\t\t\t\t\t\t\te: shapeData.totalShapeLength * shapeE\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (shapeS >= 1) {\n\t\t\t\t\t\tsegments.push({\n\t\t\t\t\t\t\ts: shapeData.totalShapeLength * (shapeS - 1),\n\t\t\t\t\t\t\te: shapeData.totalShapeLength * (shapeE - 1)\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsegments.push({\n\t\t\t\t\t\t\ts: shapeData.totalShapeLength * shapeS,\n\t\t\t\t\t\t\te: shapeData.totalShapeLength\n\t\t\t\t\t\t});\n\t\t\t\t\t\tsegments.push({\n\t\t\t\t\t\t\ts: 0,\n\t\t\t\t\t\t\te: shapeData.totalShapeLength * (shapeE - 1)\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tvar newShapeData = this.addShapes(shapeData, segments[0]);\n\t\t\t\t\tif (segments[0].s !== segments[0].e) {\n\t\t\t\t\t\tvar lastPos;\n\t\t\t\t\t\tnewShapes.push(newShapeData);\n\t\t\t\t\t\tif (segments.length > 1) {\n\t\t\t\t\t\t\tif (shapeData.shape.v.c) {\n\t\t\t\t\t\t\t\tthis.addShapes(shapeData, segments[1], newShapeData);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tnewShapeData.i[0] = [newShapeData.v[0][0], newShapeData.v[0][1]];\n\t\t\t\t\t\t\t\tlastPos = newShapeData.v.length - 1;\n\t\t\t\t\t\t\t\tnewShapeData.o[lastPos] = [newShapeData.v[lastPos][0], newShapeData.v[lastPos][1]];\n\t\t\t\t\t\t\t\tnewShapeData = this.addShapes(shapeData, segments[1]);\n\t\t\t\t\t\t\t\tnewShapes.push(newShapeData);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnewShapeData.i[0] = [newShapeData.v[0][0], newShapeData.v[0][1]];\n\t\t\t\t\t\tlastPos = newShapeData.v.length - 1;\n\t\t\t\t\t\tnewShapeData.o[lastPos] = [newShapeData.v[lastPos][0], newShapeData.v[lastPos][1]];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshapeData.last = newShapes;\n\t\t\t\tshapeData.shape.paths = newShapes;\n\t\t\t}\n\t\t}\n\t}\n\tif (!this.dynamicProperties.length) {\n\t\tthis.mdf = false;\n\t}\n};\n\nTrimModifier.prototype.addSegment = function (pt1, pt2, pt3, pt4, shapePath, pos) {\n\tshapePath.o[pos] = pt2;\n\tshapePath.i[pos + 1] = pt3;\n\tshapePath.v[pos + 1] = pt4;\n\tshapePath.v[pos] = pt1;\n};\n\nTrimModifier.prototype.addShapes = function (shapeData, shapeSegment, shapePath) {\n\tvar pathsData = shapeData.pathsData;\n\tvar shapePaths = shapeData.shape.paths;\n\tvar i,\n\t    len = shapePaths.length,\n\t    j,\n\t    jLen;\n\tvar addedLength = 0;\n\tvar currentLengthData, segmentCount;\n\tvar lengths;\n\tvar segment;\n\tif (!shapePath) {\n\t\tshapePath = {\n\t\t\tc: false,\n\t\t\tv: [],\n\t\t\ti: [],\n\t\t\to: []\n\t\t};\n\t\tsegmentCount = 0;\n\t} else {\n\t\tsegmentCount = shapePath.v.length - 1;\n\t}\n\tfor (i = 0; i < len; i += 1) {\n\t\tlengths = pathsData[i].lengths;\n\t\tjLen = shapePaths[i].c ? lengths.length : lengths.length + 1;\n\t\tfor (j = 1; j < jLen; j += 1) {\n\t\t\tcurrentLengthData = lengths[j - 1];\n\t\t\tif (addedLength + currentLengthData.addedLength < shapeSegment.s) {\n\t\t\t\taddedLength += currentLengthData.addedLength;\n\t\t\t} else if (addedLength > shapeSegment.e) {\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\tif (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength) {\n\t\t\t\t\tthis.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[j], shapePaths[i].v[j], shapePath, segmentCount);\n\t\t\t\t} else {\n\t\t\t\t\tsegment = _bez2.default.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[j], shapePaths[i].o[j - 1], shapePaths[i].i[j], (shapeSegment.s - addedLength) / currentLengthData.addedLength, (shapeSegment.e - addedLength) / currentLengthData.addedLength, lengths[j - 1]);\n\t\t\t\t\tthis.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount);\n\t\t\t\t}\n\t\t\t\taddedLength += currentLengthData.addedLength;\n\t\t\t\tsegmentCount += 1;\n\t\t\t}\n\t\t}\n\t\tif (shapePaths[i].c) {\n\t\t\tif (addedLength <= shapeSegment.e) {\n\t\t\t\tvar segmentLength = lengths[j - 1].addedLength;\n\t\t\t\tif (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength) {\n\t\t\t\t\tthis.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[0], shapePaths[i].v[0], shapePath, segmentCount);\n\t\t\t\t} else {\n\t\t\t\t\tsegment = _bez2.default.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[0], shapePaths[i].o[j - 1], shapePaths[i].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j - 1]);\n\t\t\t\t\tthis.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn shapePath;\n};\n\n_ShapeModifiers.ShapeModifiers.registerModifier('tm', TrimModifier);\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _AnimationManager = __webpack_require__(11);\n\nvar _AnimationManager2 = _interopRequireDefault(_AnimationManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar bodymovin = {};\n\nfunction play(animation) {\n\t_AnimationManager2.default.play(animation);\n}\nfunction pause(animation) {\n\t_AnimationManager2.default.pause(animation);\n}\nfunction togglePause(animation) {\n\t_AnimationManager2.default.togglePause(animation);\n}\nfunction setSpeed(value, animation) {\n\t_AnimationManager2.default.setSpeed(value, animation);\n}\nfunction setDirection(value, animation) {\n\t_AnimationManager2.default.setDirection(value, animation);\n}\nfunction stop(animation) {\n\t_AnimationManager2.default.stop(animation);\n}\nfunction moveFrame(value) {\n\t_AnimationManager2.default.moveFrame(value);\n}\nfunction searchAnimations() {\n\tif (standalone === true) {\n\t\t_AnimationManager2.default.searchAnimations(animationData, standalone, renderer);\n\t} else {\n\t\t_AnimationManager2.default.searchAnimations();\n\t}\n}\nfunction registerAnimation(elem) {\n\treturn _AnimationManager2.default.registerAnimation(elem);\n}\nfunction resize() {\n\t_AnimationManager2.default.resize();\n}\nfunction start() {\n\t_AnimationManager2.default.start();\n}\nfunction goToAndStop(val, isFrame, animation) {\n\t_AnimationManager2.default.goToAndStop(val, isFrame, animation);\n}\nfunction setSubframeRendering(flag) {\n\tsubframeEnabled = flag;\n}\nfunction loadAnimation(params) {\n\tif (standalone === true) {\n\t\tparams.animationData = JSON.parse(animationData);\n\t}\n\treturn _AnimationManager2.default.loadAnimation(params);\n}\nfunction destroy(animation) {\n\treturn _AnimationManager2.default.destroy(animation);\n}\nfunction setQuality(value) {\n\tif (typeof value === 'string') {\n\t\tswitch (value) {\n\t\t\tcase 'high':\n\t\t\t\tdefaultCurveSegments = 200;\n\t\t\t\tbreak;\n\t\t\tcase 'medium':\n\t\t\t\tdefaultCurveSegments = 50;\n\t\t\t\tbreak;\n\t\t\tcase 'low':\n\t\t\t\tdefaultCurveSegments = 10;\n\t\t\t\tbreak;\n\t\t}\n\t} else if (!isNaN(value) && value > 1) {\n\t\tdefaultCurveSegments = value;\n\t}\n\tif (defaultCurveSegments >= 50) {\n\t\troundValues(false);\n\t} else {\n\t\troundValues(true);\n\t}\n}\nfunction installPlugin(type, plugin) {\n\tif (type === 'expressions') {\n\t\texpressionsPlugin = plugin;\n\t}\n}\n\nfunction getFactory(name) {\n\tswitch (name) {\n\t\tcase \"propertyFactory\":\n\t\t\treturn PropertyFactory;\n\t\tcase \"shapePropertyFactory\":\n\t\t\treturn ShapePropertyFactory;\n\t\tcase \"matrix\":\n\t\t\treturn Matrix;\n\t}\n}\n\nbodymovin.play = play;\nbodymovin.pause = pause;\nbodymovin.togglePause = togglePause;\nbodymovin.setSpeed = setSpeed;\nbodymovin.setDirection = setDirection;\nbodymovin.stop = stop;\nbodymovin.moveFrame = moveFrame;\nbodymovin.searchAnimations = searchAnimations;\nbodymovin.registerAnimation = registerAnimation;\nbodymovin.loadAnimation = loadAnimation;\nbodymovin.setSubframeRendering = setSubframeRendering;\nbodymovin.resize = resize;\nbodymovin.start = start;\nbodymovin.goToAndStop = goToAndStop;\nbodymovin.destroy = destroy;\nbodymovin.setQuality = setQuality;\nbodymovin.installPlugin = installPlugin;\nbodymovin.__getFactory = getFactory;\nbodymovin.version = '4.6';\n\nfunction checkReady() {\n\tif (document.readyState === \"complete\") {\n\t\tclearInterval(readyStateCheckInterval);\n\t\tsearchAnimations();\n\t}\n}\n\nfunction getQueryVariable(variable) {\n\tvar vars = queryString.split('&');\n\tfor (var i = 0; i < vars.length; i++) {\n\t\tvar pair = vars[i].split('=');\n\t\tif (decodeURIComponent(pair[0]) == variable) {\n\t\t\treturn decodeURIComponent(pair[1]);\n\t\t}\n\t}\n}\n\nvar standalone = '__[STANDALONE]__';\nvar animationData = '__[ANIMATIONDATA]__';\n\nvar renderer = '';\nif (standalone) {\n\tvar scripts = document.getElementsByTagName('script');\n\tvar index = scripts.length - 1;\n\tvar myScript = scripts[index];\n\tvar queryString = myScript.src.replace(/^[^\\?]+\\??/, '');\n\trenderer = getQueryVariable('renderer');\n}\n\nvar readyStateCheckInterval = setInterval(checkReady, 100);\n\nconsole.log('webpack2');\n\nwindow.bodymovin = bodymovin;\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// bodymovin.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 28);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 770de397d325c9404a64","export var subframeEnabled = true;\nexport var svgNS = \"http://www.w3.org/2000/svg\";\nexport var expressionsPlugin;\nexport var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\nexport var cachedColors = {};\nexport var bm_rounder = Math.round;\nexport var bm_rnd;\nexport var bm_pow = Math.pow;\nexport var bm_sqrt = Math.sqrt;\nexport var bm_abs = Math.abs;\nexport var bm_floor = Math.floor;\nexport var bm_max = Math.max;\nexport var bm_min = Math.min;\nexport var blitter = 10;\n\nvar BMMath = {};\n(function(){\n    var propertyNames = Object.getOwnPropertyNames(Math);\n    var i, len = propertyNames.length;\n    for(i=0;i<len;i+=1){\n        BMMath[propertyNames[i]] = Math[propertyNames[i]];\n    }\n}());\n\nexport function ProjectInterface(){return {}};\n\nBMMath.random = Math.random;\nBMMath.abs = function(val){\n    var tOfVal = typeof val;\n    if(tOfVal === 'object' && val.length){\n        var absArr = Array.apply(null,{length:val.length});\n        var i, len = val.length;\n        for(i=0;i<len;i+=1){\n            absArr[i] = Math.abs(val[i]);\n        }\n        return absArr;\n    }\n    return Math.abs(val);\n\n}\nexport var defaultCurveSegments = 150;\nexport var degToRads = Math.PI/180;\nexport var roundCorner = 0.5519;\n\nexport function roundValues(flag){\n    if(flag){\n        bm_rnd = Math.round;\n    }else{\n        bm_rnd = function(val){\n            return val;\n        };\n    }\n}\nroundValues(false);\n\nexport function roundTo2Decimals(val){\n    return Math.round(val*10000)/10000;\n}\n\nexport function roundTo3Decimals(val){\n    return Math.round(val*100)/100;\n}\n\nexport function styleDiv(element){\n    element.style.position = 'absolute';\n    element.style.top = 0;\n    element.style.left = 0;\n    element.style.display = 'block';\n    element.style.transformOrigin = element.style.webkitTransformOrigin = '0 0';\n    element.style.backfaceVisibility  = element.style.webkitBackfaceVisibility = 'visible';\n    element.style.transformStyle = element.style.webkitTransformStyle = element.style.mozTransformStyle = \"preserve-3d\";\n}\n\nexport function styleUnselectableDiv(element){\n    element.style.userSelect = 'none';\n    element.style.MozUserSelect = 'none';\n    element.style.webkitUserSelect = 'none';\n    element.style.oUserSelect = 'none';\n\n}\n\nexport function BMEnterFrameEvent(n,c,t,d){\n    this.type = n;\n    this.currentTime = c;\n    this.totalTime = t;\n    this.direction = d < 0 ? -1:1;\n}\n\nexport function BMCompleteEvent(n,d){\n    this.type = n;\n    this.direction = d < 0 ? -1:1;\n}\n\nexport function BMCompleteLoopEvent(n,c,t,d){\n    this.type = n;\n    this.currentLoop = c;\n    this.totalLoops = t;\n    this.direction = d < 0 ? -1:1;\n}\n\nexport function BMSegmentStartEvent(n,f,t){\n    this.type = n;\n    this.firstFrame = f;\n    this.totalFrames = t;\n}\n\nexport function BMDestroyEvent(n,t){\n    this.type = n;\n    this.target = t;\n}\n\nexport function _addEventListener(eventName, callback){\n\n    if (!this._cbs[eventName]){\n        this._cbs[eventName] = [];\n    }\n    this._cbs[eventName].push(callback);\n\n}\n\nexport function _removeEventListener(eventName,callback){\n\n    if (!callback){\n        this._cbs[eventName] = null;\n    }else if(this._cbs[eventName]){\n        var i = 0, len = this._cbs[eventName].length;\n        while(i<len){\n            if(this._cbs[eventName][i] === callback){\n                this._cbs[eventName].splice(i,1);\n                i -=1;\n                len -= 1;\n            }\n            i += 1;\n        }\n        if(!this._cbs[eventName].length){\n            this._cbs[eventName] = null;\n        }\n    }\n\n}\n\nexport function _triggerEvent(eventName, args){\n    if (this._cbs[eventName]) {\n        var len = this._cbs[eventName].length;\n        for (var i = 0; i < len; i++){\n            this._cbs[eventName][i](args);\n        }\n    }\n}\n\nexport function randomString(length, chars){\n    if(chars === undefined){\n        chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890';\n    }\n    var i;\n    var result = '';\n    for (i = length; i > 0; --i) result += chars[Math.round(Math.random() * (chars.length - 1))];\n    return result;\n}\n\nexport function HSVtoRGB(h, s, v) {\n    var r, g, b, i, f, p, q, t;\n    if (arguments.length === 1) {\n        s = h.s, v = h.v, h = h.h;\n    }\n    i = Math.floor(h * 6);\n    f = h * 6 - i;\n    p = v * (1 - s);\n    q = v * (1 - f * s);\n    t = v * (1 - (1 - f) * s);\n    switch (i % 6) {\n        case 0: r = v, g = t, b = p; break;\n        case 1: r = q, g = v, b = p; break;\n        case 2: r = p, g = v, b = t; break;\n        case 3: r = p, g = q, b = v; break;\n        case 4: r = t, g = p, b = v; break;\n        case 5: r = v, g = p, b = q; break;\n    }\n    return [ r,\n        g,\n         b ];\n}\n\nexport function RGBtoHSV(r, g, b) {\n    if (arguments.length === 1) {\n        g = r.g, b = r.b, r = r.r;\n    }\n    var max = Math.max(r, g, b), min = Math.min(r, g, b),\n        d = max - min,\n        h,\n        s = (max === 0 ? 0 : d / max),\n        v = max / 255;\n\n    switch (max) {\n        case min: h = 0; break;\n        case r: h = (g - b) + d * (g < b ? 6: 0); h /= 6 * d; break;\n        case g: h = (b - r) + d * 2; h /= 6 * d; break;\n        case b: h = (r - g) + d * 4; h /= 6 * d; break;\n    }\n\n    return [\n         h,\n         s,\n         v\n    ];\n}\n\nexport function addSaturationToRGB(color,offset){\n    var hsv = RGBtoHSV(color[0]*255,color[1]*255,color[2]*255);\n    hsv[1] += offset;\n    if (hsv[1] > 1) {\n        hsv[1] = 1;\n    }\n    else if (hsv[1] <= 0) {\n        hsv[1] = 0;\n    }\n    return HSVtoRGB(hsv[0],hsv[1],hsv[2]);\n}\n\nexport function addBrightnessToRGB(color,offset){\n    var hsv = RGBtoHSV(color[0]*255,color[1]*255,color[2]*255);\n    hsv[2] += offset;\n    if (hsv[2] > 1) {\n        hsv[2] = 1;\n    }\n    else if (hsv[2] < 0) {\n        hsv[2] = 0;\n    }\n    return HSVtoRGB(hsv[0],hsv[1],hsv[2]);\n}\n\nexport function addHueToRGB(color,offset) {\n    var hsv = RGBtoHSV(color[0]*255,color[1]*255,color[2]*255);\n    hsv[0] += offset/360;\n    if (hsv[0] > 1) {\n        hsv[0] -= 1;\n    }\n    else if (hsv[0] < 0) {\n        hsv[0] += 1;\n    }\n    return HSVtoRGB(hsv[0],hsv[1],hsv[2]);\n}\n\nexport function componentToHex(c) {\n    var hex = c.toString(16);\n    return hex.length == 1 ? '0' + hex : hex;\n}\n\nvar rgbToHex = (function(){\n    var colorMap = [];\n    var i;\n    var hex;\n    for(i=0;i<256;i+=1){\n        hex = i.toString(16);\n        colorMap[i] = hex.length == 1 ? '0' + hex : hex;\n    }\n\n    return function(r, g, b) {\n        if(r<0){\n            r = 0;\n        }\n        if(g<0){\n            g = 0;\n        }\n        if(b<0){\n            b = 0;\n        }\n        return '#' + colorMap[r] + colorMap[g] + colorMap[b];\n    };\n}());\n\nexport function fillToRgba(hex,alpha){\n    if(!cachedColors[hex]){\n        var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n        cachedColors[hex] = parseInt(result[1], 16)+','+parseInt(result[2], 16)+','+parseInt(result[3], 16);\n    }\n    return 'rgba('+cachedColors[hex]+','+alpha+')';\n}\n\nvar fillColorToString = (function(){\n\n    var colorMap = [];\n    return function(colorArr,alpha){\n        if(alpha !== undefined){\n            colorArr[3] = alpha;\n        }\n        if(!colorMap[colorArr[0]]){\n            colorMap[colorArr[0]] = {};\n        }\n        if(!colorMap[colorArr[0]][colorArr[1]]){\n            colorMap[colorArr[0]][colorArr[1]] = {};\n        }\n        if(!colorMap[colorArr[0]][colorArr[1]][colorArr[2]]){\n            colorMap[colorArr[0]][colorArr[1]][colorArr[2]] = {};\n        }\n        if(!colorMap[colorArr[0]][colorArr[1]][colorArr[2]][colorArr[3]]){\n            colorMap[colorArr[0]][colorArr[1]][colorArr[2]][colorArr[3]] = 'rgba(' + colorArr.join(',')+')';\n        }\n        return colorMap[colorArr[0]][colorArr[1]][colorArr[2]][colorArr[3]];\n    };\n}());\n\nexport function RenderedFrame(tr,o) {\n    this.tr = tr;\n    this.o = o;\n}\n\nexport function LetterProps(o,sw,sc,fc,m,p){\n    this.o = o;\n    this.sw = sw;\n    this.sc = sc;\n    this.fc = fc;\n    this.m = m;\n    this.props = p;\n}\n\nexport function iterateDynamicProperties(num){\n    var i, len = this.dynamicProperties;\n    for(i=0;i<len;i+=1){\n        this.dynamicProperties[i].getValue(num);\n    }\n}\n\nexport function reversePath(paths){\n    var newI = [], newO = [], newV = [];\n    var i, len, newPaths = {};\n    var init = 0;\n    if (paths.c) {\n        newI[0] = paths.o[0];\n        newO[0] = paths.i[0];\n        newV[0] = paths.v[0];\n        init = 1;\n    }\n    len = paths.i.length;\n    var cnt = len - 1;\n\n    for (i = init; i < len; i += 1) {\n        newI.push(paths.o[cnt]);\n        newO.push(paths.i[cnt]);\n        newV.push(paths.v[cnt]);\n        cnt -= 1;\n    }\n\n    newPaths.i = newI;\n    newPaths.o = newO;\n    newPaths.v = newV;\n\n    return newPaths;\n}\n\nexport function createElement(parent,child,params){\n\tif(child){\n\t\tchild.prototype = Object.create(parent.prototype);\n\t\tchild.prototype.constructor = child;\n\t\tchild.prototype._parent = parent.prototype;\n\t}else{\n\t\tvar instance = Object.create(parent.prototype,params);\n\t\tvar getType = {};\n\t\tif(instance && getType.toString.call(instance.init) === '[object Function]'){\n\t\t\tinstance.init();\n\t\t}\n\t\treturn instance;\n\t}\n}\n\nexport function extendPrototype(source,destination){\n\tfor (var attr in source.prototype) {\n\t\tif (source.prototype.hasOwnProperty(attr)) destination.prototype[attr] = source.prototype[attr];\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./js/utils/common.js","import {createElement, randomString, svgNS} from \"../../utils/common\";\nimport BaseElement from \"../BaseElement\";\nimport MaskElement from \"../MaskElement\";\nfunction SVGBaseElement(data, parentContainer, globalData, comp, placeholder){\n    this.globalData = globalData;\n    this.comp = comp;\n    this.data = data;\n    this.matteElement = null;\n    this.transformedElement = null;\n    this.parentContainer = parentContainer;\n    this.layerId = placeholder ? placeholder.layerId : 'ly_'+randomString(10);\n    this.placeholder = placeholder;\n    this.init();\n};\n\ncreateElement(BaseElement, SVGBaseElement);\n\nSVGBaseElement.prototype.createElements = function(){\n    this.layerElement = document.createElementNS(svgNS,'g');\n    this.transformedElement = this.layerElement;\n    if(this.data.hasMask){\n        this.maskedElement = this.layerElement;\n    }\n    var layerElementParent = null;\n    if(this.data.td){\n        if(this.data.td == 3 || this.data.td == 1){\n            var masker = document.createElementNS(svgNS,'mask');\n            masker.setAttribute('id',this.layerId);\n            masker.setAttribute('mask-type',this.data.td == 3 ? 'luminance':'alpha');\n            masker.appendChild(this.layerElement);\n            layerElementParent = masker;\n            this.globalData.defs.appendChild(masker);\n            ////// This is only for IE and Edge when mask if of type alpha\n            if(!featureSupport.maskType && this.data.td == 1){\n                masker.setAttribute('mask-type','luminance');\n                var filId = randomString(10);\n                var fil = filtersFactory.createFilter(filId);\n                this.globalData.defs.appendChild(fil);\n                fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\n                var gg = document.createElementNS(svgNS,'g');\n                gg.appendChild(this.layerElement);\n                layerElementParent = gg;\n                masker.appendChild(gg);\n                gg.setAttribute('filter','url(#'+filId+')');\n            }\n        }else if(this.data.td == 2){\n            var maskGroup = document.createElementNS(svgNS,'mask');\n            maskGroup.setAttribute('id',this.layerId);\n            maskGroup.setAttribute('mask-type','alpha');\n            var maskGrouper = document.createElementNS(svgNS,'g');\n            maskGroup.appendChild(maskGrouper);\n            var filId = randomString(10);\n            var fil = filtersFactory.createFilter(filId);\n            ////\n\n            var feColorMatrix = document.createElementNS(svgNS,'feColorMatrix');\n            feColorMatrix.setAttribute('type','matrix');\n            feColorMatrix.setAttribute('color-interpolation-filters','sRGB');\n            feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 -1 1');\n            fil.appendChild(feColorMatrix);\n\n            ////\n            /*var feCTr = document.createElementNS(svgNS,'feComponentTransfer');\n            feCTr.setAttribute('in','SourceGraphic');\n            fil.appendChild(feCTr);\n            var feFunc = document.createElementNS(svgNS,'feFuncA');\n            feFunc.setAttribute('type','table');\n            feFunc.setAttribute('tableValues','1.0 0.0');\n            feCTr.appendChild(feFunc);*/\n            this.globalData.defs.appendChild(fil);\n            var alphaRect = document.createElementNS(svgNS,'rect');\n            alphaRect.setAttribute('width',this.comp.data.w);\n            alphaRect.setAttribute('height',this.comp.data.h);\n            alphaRect.setAttribute('x','0');\n            alphaRect.setAttribute('y','0');\n            alphaRect.setAttribute('fill','#ffffff');\n            alphaRect.setAttribute('opacity','0');\n            maskGrouper.setAttribute('filter','url(#'+filId+')');\n            maskGrouper.appendChild(alphaRect);\n            maskGrouper.appendChild(this.layerElement);\n            layerElementParent = maskGrouper;\n            if(!featureSupport.maskType){\n                maskGroup.setAttribute('mask-type','luminance');\n                fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\n                var gg = document.createElementNS(svgNS,'g');\n                maskGrouper.appendChild(alphaRect);\n                gg.appendChild(this.layerElement);\n                layerElementParent = gg;\n                maskGrouper.appendChild(gg);\n            }\n            this.globalData.defs.appendChild(maskGroup);\n        }\n    }else if(this.data.hasMask || this.data.tt){\n        if(this.data.tt){\n            this.matteElement = document.createElementNS(svgNS,'g');\n            this.matteElement.appendChild(this.layerElement);\n            layerElementParent = this.matteElement;\n            this.baseElement = this.matteElement;\n        }else{\n            this.baseElement = this.layerElement;\n        }\n    }else{\n        this.baseElement = this.layerElement;\n    }\n    if((this.data.ln || this.data.cl) && (this.data.ty === 4 || this.data.ty === 0)){\n        if(this.data.ln){\n            this.layerElement.setAttribute('id',this.data.ln);\n        }\n        if(this.data.cl){\n            this.layerElement.setAttribute('class',this.data.cl);\n        }\n    }\n    if(this.data.ty === 0){\n            var cp = document.createElementNS(svgNS, 'clipPath');\n            var pt = document.createElementNS(svgNS,'path');\n            pt.setAttribute('d','M0,0 L'+this.data.w+',0'+' L'+this.data.w+','+this.data.h+' L0,'+this.data.h+'z');\n            var clipId = 'cp_'+randomString(8);\n            cp.setAttribute('id',clipId);\n            cp.appendChild(pt);\n            this.globalData.defs.appendChild(cp);\n        if(this.checkMasks()){\n            var cpGroup = document.createElementNS(svgNS,'g');\n            cpGroup.setAttribute('clip-path','url(#'+clipId+')');\n            cpGroup.appendChild(this.layerElement);\n            this.transformedElement = cpGroup;\n            if(layerElementParent){\n                layerElementParent.appendChild(this.transformedElement);\n            } else {\n                this.baseElement = this.transformedElement;\n            }\n        } else {\n            this.layerElement.setAttribute('clip-path','url(#'+clipId+')');\n        }\n        \n    }\n    if(this.data.bm !== 0){\n        this.setBlendMode();\n    }\n    if(this.layerElement !== this.parentContainer){\n        this.placeholder = null;\n    }\n    /* Todo performance killer\n    if(this.data.sy){\n        var filterID = 'st_'+randomString(10);\n        var c = this.data.sy[0].c.k;\n        var r = this.data.sy[0].s.k;\n        var expansor = document.createElementNS(svgNS,'filter');\n        expansor.setAttribute('id',filterID);\n        var feFlood = document.createElementNS(svgNS,'feFlood');\n        this.feFlood = feFlood;\n        if(!c[0].e){\n            feFlood.setAttribute('flood-color','rgb('+c[0]+','+c[1]+','+c[2]+')');\n        }\n        feFlood.setAttribute('result','base');\n        expansor.appendChild(feFlood);\n        var feMorph = document.createElementNS(svgNS,'feMorphology');\n        feMorph.setAttribute('operator','dilate');\n        feMorph.setAttribute('in','SourceGraphic');\n        feMorph.setAttribute('result','bigger');\n        this.feMorph = feMorph;\n        if(!r.length){\n            feMorph.setAttribute('radius',this.data.sy[0].s.k);\n        }\n        expansor.appendChild(feMorph);\n        var feColorMatrix = document.createElementNS(svgNS,'feColorMatrix');\n        feColorMatrix.setAttribute('result','mask');\n        feColorMatrix.setAttribute('in','bigger');\n        feColorMatrix.setAttribute('type','matrix');\n        feColorMatrix.setAttribute('values','0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0');\n        expansor.appendChild(feColorMatrix);\n        var feComposite = document.createElementNS(svgNS,'feComposite');\n        feComposite.setAttribute('result','drop');\n        feComposite.setAttribute('in','base');\n        feComposite.setAttribute('in2','mask');\n        feComposite.setAttribute('operator','in');\n        expansor.appendChild(feComposite);\n        var feBlend = document.createElementNS(svgNS,'feBlend');\n        feBlend.setAttribute('in','SourceGraphic');\n        feBlend.setAttribute('in2','drop');\n        feBlend.setAttribute('mode','normal');\n        expansor.appendChild(feBlend);\n        this.globalData.defs.appendChild(expansor);\n        var cont = document.createElementNS(svgNS,'g');\n        if(this.layerElement === this.parentContainer){\n            this.layerElement = cont;\n        }else{\n            cont.appendChild(this.layerElement);\n        }\n        cont.setAttribute('filter','url(#'+filterID+')');\n        if(this.data.td){\n            cont.setAttribute('data-td',this.data.td);\n        }\n        if(this.data.td == 3){\n            this.globalData.defs.appendChild(cont);\n        }else if(this.data.td == 2){\n            maskGrouper.appendChild(cont);\n        }else if(this.data.td == 1){\n            masker.appendChild(cont);\n        }else{\n            if(this.data.hasMask && this.data.tt){\n                this.matteElement.appendChild(cont);\n            }else{\n                this.appendNodeToParent(cont);\n            }\n        }\n    }*/\n    if(this.data.ef){\n        this.effectsManager = new SVGEffects(this);\n    }\n    this.checkParenting();\n};\n\n\nSVGBaseElement.prototype.setBlendMode = BaseElement.prototype.setBlendMode;\n\nSVGBaseElement.prototype.renderFrame = function(parentTransform){\n    if(this.data.ty === 3 || this.data.hd){\n        return false;\n    }\n\n    if(!this.isVisible){\n        return this.isVisible;\n    }\n    this.lastNum = this.currentFrameNum;\n    this.finalTransform.opMdf = this.finalTransform.op.mdf;\n    this.finalTransform.matMdf = this.finalTransform.mProp.mdf;\n    this.finalTransform.opacity = this.finalTransform.op.v;\n    if(this.firstFrame){\n        this.finalTransform.opMdf = true;\n        this.finalTransform.matMdf = true;\n    }\n\n    var mat;\n    var finalMat = this.finalTransform.mat;\n\n    if(this.hierarchy){\n        var i, len = this.hierarchy.length;\n\n        mat = this.finalTransform.mProp.v.props;\n        finalMat.cloneFromProps(mat);\n        for(i=0;i<len;i+=1){\n            this.finalTransform.matMdf = this.hierarchy[i].finalTransform.mProp.mdf ? true : this.finalTransform.matMdf;\n            mat = this.hierarchy[i].finalTransform.mProp.v.props;\n            finalMat.transform(mat[0],mat[1],mat[2],mat[3],mat[4],mat[5],mat[6],mat[7],mat[8],mat[9],mat[10],mat[11],mat[12],mat[13],mat[14],mat[15]);\n        }\n    }else{\n        if(this.isVisible){\n            finalMat.cloneFromProps(this.finalTransform.mProp.v.props);\n        }\n    }\n    if(parentTransform){\n        mat = parentTransform.mat.props;\n        finalMat.transform(mat[0],mat[1],mat[2],mat[3],mat[4],mat[5],mat[6],mat[7],mat[8],mat[9],mat[10],mat[11],mat[12],mat[13],mat[14],mat[15]);\n        this.finalTransform.opacity *= parentTransform.opacity;\n        this.finalTransform.opMdf = parentTransform.opMdf ? true : this.finalTransform.opMdf;\n        this.finalTransform.matMdf = parentTransform.matMdf ? true : this.finalTransform.matMdf;\n    }\n    if(this.finalTransform.matMdf && this.layerElement){\n        this.transformedElement.setAttribute('transform',finalMat.to2dCSS());\n    }\n    if(this.finalTransform.opMdf && this.layerElement){\n        this.transformedElement.setAttribute('opacity',this.finalTransform.opacity);\n    }\n\n    if(this.data.hasMask){\n        this.maskManager.renderFrame(finalMat);\n    }\n    if(this.effectsManager){\n        this.effectsManager.renderFrame(this.firstFrame);\n    }\n    return this.isVisible;\n};\n\nSVGBaseElement.prototype.destroy = function(){\n    this.layerElement = null;\n    this.parentContainer = null;\n    if(this.matteElement) {\n        this.matteElement = null;\n    }\n    if(this.maskManager) {\n        this.maskManager.destroy();\n    }\n};\n\nSVGBaseElement.prototype.getBaseElement = function(){\n    return this.baseElement;\n};\nSVGBaseElement.prototype.addMasks = function(data){\n    this.maskManager = new MaskElement(data,this,this.globalData);\n};\n\nSVGBaseElement.prototype.setMatte = function(id){\n    if(!this.matteElement){\n        return;\n    }\n    this.matteElement.setAttribute(\"mask\", \"url(#\" + id + \")\");\n};\n\nSVGBaseElement.prototype.setMatte = function(id){\n    if(!this.matteElement){\n        return;\n    }\n    this.matteElement.setAttribute(\"mask\", \"url(#\" + id + \")\");\n};\n\nSVGBaseElement.prototype.hide = function(){\n\n};\n\n\nexport default SVGBaseElement;\n\n\n// WEBPACK FOOTER //\n// ./js/elements/svgElements/SVGBaseElement.js","import Matrix from \"../3rd_party/Matrix\";\nimport {degToRads} from \"./common\";\nimport bez from \"./bez\";\nimport BezierFactory from \"../3rd_party/BezierFactory\";\n\n\nvar initFrame = -999999;\n\nfunction getValue ()\n{\n\tif (this.elem.globalData.frameId === this.frameId)\n\t{\n\t\treturn;\n\t}\n\tthis.mdf = false;\n\tvar frameNum = this.comp.renderedFrame - this.offsetTime;\n\tif (frameNum === this.lastFrame || (this.lastFrame !== initFrame && ((this.lastFrame >= this.keyframes[this.keyframes.length - 1].t - this.offsetTime && frameNum >= this.keyframes[this.keyframes.length - 1].t - this.offsetTime) || (this.lastFrame < this.keyframes[0].t - this.offsetTime && frameNum < this.keyframes[0].t - this.offsetTime))))\n\t{\n\n\t}\n\telse\n\t{\n\t\tvar i = 0, len = this.keyframes.length - 1, dir = 1, flag = true;\n\t\tvar keyData, nextKeyData;\n\n\t\twhile (flag)\n\t\t{\n\t\t\tkeyData = this.keyframes[i];\n\t\t\tnextKeyData = this.keyframes[i + 1];\n\t\t\tif (i == len - 1 && frameNum >= nextKeyData.t - this.offsetTime)\n\t\t\t{\n\t\t\t\tif (keyData.h)\n\t\t\t\t{\n\t\t\t\t\tkeyData = nextKeyData;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ((nextKeyData.t - this.offsetTime) > frameNum)\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (i < len - 1)\n\t\t\t{\n\t\t\t\ti += dir;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tflag = false;\n\t\t\t}\n\t\t}\n\n\t\tvar k, kLen, perc, jLen, j = 0, fnc;\n\t\tif (keyData.to)\n\t\t{\n\n\t\t\tif (!keyData.bezierData)\n\t\t\t{\n\t\t\t\tbez.buildBezierData(keyData);\n\t\t\t}\n\t\t\tvar bezierData = keyData.bezierData;\n\t\t\tif (frameNum >= nextKeyData.t - this.offsetTime || frameNum < keyData.t - this.offsetTime)\n\t\t\t{\n\t\t\t\tvar ind = frameNum >= nextKeyData.t - this.offsetTime ? bezierData.points.length - 1 : 0;\n\t\t\t\tkLen = bezierData.points[ind].point.length;\n\t\t\t\tfor (k = 0; k < kLen; k += 1)\n\t\t\t\t{\n\t\t\t\t\tthis.v[k] = this.mult ? bezierData.points[ind].point[k] * this.mult : bezierData.points[ind].point[k];\n\t\t\t\t\tthis.pv[k] = bezierData.points[ind].point[k];\n\t\t\t\t\tif (this.lastPValue[k] !== this.pv[k])\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.mdf = true;\n\t\t\t\t\t\tthis.lastPValue[k] = this.pv[k];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (keyData.__fnct)\n\t\t\t\t{\n\t\t\t\t\tfnc = keyData.__fnct;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tfnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y, keyData.n).get;\n\t\t\t\t\tkeyData.__fnct = fnc;\n\t\t\t\t}\n\t\t\t\tperc = fnc((frameNum - (keyData.t - this.offsetTime)) / ((nextKeyData.t - this.offsetTime) - (keyData.t - this.offsetTime)));\n\t\t\t\tvar distanceInLine = bezierData.segmentLength * perc;\n\n\t\t\t\tvar segmentPerc;\n\t\t\t\tvar addedLength = 0;\n\t\t\t\tdir = 1;\n\t\t\t\tflag = true;\n\t\t\t\tjLen = bezierData.points.length;\n\t\t\t\twhile (flag)\n\t\t\t\t{\n\t\t\t\t\taddedLength += bezierData.points[j].partialLength * dir;\n\t\t\t\t\tif (distanceInLine === 0 || perc === 0 || j == bezierData.points.length - 1)\n\t\t\t\t\t{\n\t\t\t\t\t\tkLen = bezierData.points[j].point.length;\n\t\t\t\t\t\tfor (k = 0; k < kLen; k += 1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.v[k] = this.mult ? bezierData.points[j].point[k] * this.mult : bezierData.points[j].point[k];\n\t\t\t\t\t\t\tthis.pv[k] = bezierData.points[j].point[k];\n\t\t\t\t\t\t\tif (this.lastPValue[k] !== this.pv[k])\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.mdf = true;\n\t\t\t\t\t\t\t\tthis.lastPValue[k] = this.pv[k];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\telse if (distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j + 1].partialLength)\n\t\t\t\t\t{\n\t\t\t\t\t\tsegmentPerc = (distanceInLine - addedLength) / (bezierData.points[j + 1].partialLength);\n\t\t\t\t\t\tkLen = bezierData.points[j].point.length;\n\t\t\t\t\t\tfor (k = 0; k < kLen; k += 1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.v[k] = this.mult ? (bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc) * this.mult : bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc;\n\t\t\t\t\t\t\tthis.pv[k] = bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc;\n\n\t\t\t\t\t\t\tif (this.lastPValue[k] !== this.pv[k])\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.mdf = true;\n\t\t\t\t\t\t\t\tthis.lastPValue[k] = this.pv[k];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (j < jLen - 1 && dir == 1 || j > 0 && dir == -1)\n\t\t\t\t\t{\n\t\t\t\t\t\tj += dir;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tflag = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tvar outX, outY, inX, inY, isArray = false, keyValue;\n\t\t\tlen = keyData.s.length;\n\t\t\tfor (i = 0; i < len; i += 1)\n\t\t\t{\n\t\t\t\tif (keyData.h !== 1)\n\t\t\t\t{\n\t\t\t\t\tif (keyData.o.x instanceof Array)\n\t\t\t\t\t{\n\t\t\t\t\t\tisArray = true;\n\t\t\t\t\t\tif (!keyData.__fnct)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tkeyData.__fnct = [];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!keyData.__fnct[i])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\toutX = keyData.o.x[i] || keyData.o.x[0];\n\t\t\t\t\t\t\toutY = keyData.o.y[i] || keyData.o.y[0];\n\t\t\t\t\t\t\tinX = keyData.i.x[i] || keyData.i.x[0];\n\t\t\t\t\t\t\tinY = keyData.i.y[i] || keyData.i.y[0];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tisArray = false;\n\t\t\t\t\t\tif (!keyData.__fnct)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\toutX = keyData.o.x;\n\t\t\t\t\t\t\toutY = keyData.o.y;\n\t\t\t\t\t\t\tinX = keyData.i.x;\n\t\t\t\t\t\t\tinY = keyData.i.y;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (isArray)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (keyData.__fnct[i])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfnc = keyData.__fnct[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t//fnc = bez.getEasingCurve(outX,outY,inX,inY);\n\t\t\t\t\t\t\tfnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\n\t\t\t\t\t\t\tkeyData.__fnct[i] = fnc;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tif (keyData.__fnct)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfnc = keyData.__fnct;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t//fnc = bez.getEasingCurve(outX,outY,inX,inY);\n\t\t\t\t\t\t\tfnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\n\t\t\t\t\t\t\tkeyData.__fnct = fnc;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (frameNum >= nextKeyData.t - this.offsetTime)\n\t\t\t\t\t{\n\t\t\t\t\t\tperc = 1;\n\t\t\t\t\t}\n\t\t\t\t\telse if (frameNum < keyData.t - this.offsetTime)\n\t\t\t\t\t{\n\t\t\t\t\t\tperc = 0;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tperc = fnc((frameNum - (keyData.t - this.offsetTime)) / ((nextKeyData.t - this.offsetTime) - (keyData.t - this.offsetTime)));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.sh && keyData.h !== 1)\n\t\t\t\t{\n\t\t\t\t\tvar initP = keyData.s[i];\n\t\t\t\t\tvar endP = keyData.e[i];\n\t\t\t\t\tif (initP - endP < -180)\n\t\t\t\t\t{\n\t\t\t\t\t\tinitP += 360;\n\t\t\t\t\t}\n\t\t\t\t\telse if (initP - endP > 180)\n\t\t\t\t\t{\n\t\t\t\t\t\tinitP -= 360;\n\t\t\t\t\t}\n\t\t\t\t\tkeyValue = initP + (endP - initP) * perc;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tkeyValue = keyData.h === 1 ? keyData.s[i] : keyData.s[i] + (keyData.e[i] - keyData.s[i]) * perc;\n\t\t\t\t}\n\t\t\t\tif (len === 1)\n\t\t\t\t{\n\t\t\t\t\tthis.v = this.mult ? keyValue * this.mult : keyValue;\n\t\t\t\t\tthis.pv = keyValue;\n\t\t\t\t\tif (this.lastPValue != this.pv)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.mdf = true;\n\t\t\t\t\t\tthis.lastPValue = this.pv;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.v[i] = this.mult ? keyValue * this.mult : keyValue;\n\t\t\t\t\tthis.pv[i] = keyValue;\n\t\t\t\t\tif (this.lastPValue[i] !== this.pv[i])\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.mdf = true;\n\t\t\t\t\t\tthis.lastPValue[i] = this.pv[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tthis.lastFrame = frameNum;\n\tthis.frameId = this.elem.globalData.frameId;\n}\n\nfunction getNoValue ()\n{\n}\n\nfunction ValueProperty (elem, data, mult)\n{\n\tthis.mult = mult;\n\tthis.v = mult ? data.k * mult : data.k;\n\tthis.pv = data.k;\n\tthis.mdf = false;\n\tthis.comp = elem.comp;\n\tthis.k = false;\n\tthis.kf = false;\n\tthis.vel = 0;\n\tthis.getValue = getNoValue;\n}\n\nfunction MultiDimensionalProperty (elem, data, mult)\n{\n\tthis.mult = mult;\n\tthis.data = data;\n\tthis.mdf = false;\n\tthis.comp = elem.comp;\n\tthis.k = false;\n\tthis.kf = false;\n\tthis.frameId = -1;\n\tthis.v = new Array(data.k.length);\n\tthis.pv = new Array(data.k.length);\n\tthis.lastValue = new Array(data.k.length);\n\tvar arr = Array.apply(null, {length: data.k.length});\n\tthis.vel = arr.map(function ()\n\t{\n\t\treturn 0\n\t});\n\tvar i, len = data.k.length;\n\tfor (i = 0; i < len; i += 1)\n\t{\n\t\tthis.v[i] = mult ? data.k[i] * mult : data.k[i];\n\t\tthis.pv[i] = data.k[i];\n\t}\n\tthis.getValue = getNoValue;\n}\n\nfunction KeyframedValueProperty (elem, data, mult)\n{\n\tthis.keyframes = data.k;\n\tthis.offsetTime = elem.data.st;\n\tthis.lastValue = -99999;\n\tthis.lastPValue = -99999;\n\tthis.frameId = -1;\n\tthis.k = true;\n\tthis.kf = true;\n\tthis.data = data;\n\tthis.mult = mult;\n\tthis.elem = elem;\n\tthis.comp = elem.comp;\n\tthis.lastFrame = initFrame;\n\tthis.v = mult ? data.k[0].s[0] * mult : data.k[0].s[0];\n\tthis.pv = data.k[0].s[0];\n\tthis.getValue = getValue;\n}\n\nfunction KeyframedMultidimensionalProperty (elem, data, mult)\n{\n\tvar i, len = data.k.length;\n\tvar s, e, to, ti;\n\tfor (i = 0; i < len - 1; i += 1)\n\t{\n\t\tif (data.k[i].to && data.k[i].s && data.k[i].e)\n\t\t{\n\t\t\ts = data.k[i].s;\n\t\t\te = data.k[i].e;\n\t\t\tto = data.k[i].to;\n\t\t\tti = data.k[i].ti;\n\t\t\tif ((s.length === 2 && !(s[0] === e[0] && s[1] === e[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], s[0] + to[0], s[1] + to[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], e[0] + ti[0], e[1] + ti[1])) || (s.length === 3 && !(s[0] === e[0] && s[1] === e[1] && s[2] === e[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], s[0] + to[0], s[1] + to[1], s[2] + to[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], e[0] + ti[0], e[1] + ti[1], e[2] + ti[2])))\n\t\t\t{\n\t\t\t\tdata.k[i].to = null;\n\t\t\t\tdata.k[i].ti = null;\n\t\t\t}\n\t\t}\n\t}\n\tthis.keyframes = data.k;\n\tthis.offsetTime = elem.data.st;\n\tthis.k = true;\n\tthis.kf = true;\n\tthis.mult = mult;\n\tthis.elem = elem;\n\tthis.comp = elem.comp;\n\tthis.getValue = getValue;\n\tthis.frameId = -1;\n\tthis.v = new Array(data.k[0].s.length);\n\tthis.pv = new Array(data.k[0].s.length);\n\tthis.lastValue = new Array(data.k[0].s.length);\n\tthis.lastPValue = new Array(data.k[0].s.length);\n\tthis.lastFrame = initFrame;\n}\n\nvar TransformProperty = (function ()\n{\n\tfunction positionGetter ()\n\t{\n\t\treturn ExpressionValue(this.p);\n\t}\n\n\tfunction xPositionGetter ()\n\t{\n\t\treturn ExpressionValue(this.px);\n\t}\n\n\tfunction yPositionGetter ()\n\t{\n\t\treturn ExpressionValue(this.py);\n\t}\n\n\tfunction zPositionGetter ()\n\t{\n\t\treturn ExpressionValue(this.pz);\n\t}\n\n\tfunction anchorGetter ()\n\t{\n\t\treturn ExpressionValue(this.a);\n\t}\n\n\tfunction orientationGetter ()\n\t{\n\t\treturn ExpressionValue(this.or);\n\t}\n\n\tfunction rotationGetter ()\n\t{\n\t\treturn ExpressionValue(this.r, 1 / degToRads);\n\t}\n\n\tfunction scaleGetter ()\n\t{\n\t\treturn ExpressionValue(this.s, 100);\n\t}\n\n\tfunction opacityGetter ()\n\t{\n\t\treturn ExpressionValue(this.o, 100);\n\t}\n\n\tfunction skewGetter ()\n\t{\n\t\treturn ExpressionValue(this.sk);\n\t}\n\n\tfunction skewAxisGetter ()\n\t{\n\t\treturn ExpressionValue(this.sa);\n\t}\n\n\tfunction applyToMatrix (mat)\n\t{\n\t\tvar i, len = this.dynamicProperties.length;\n\t\tfor (i = 0; i < len; i += 1)\n\t\t{\n\t\t\tthis.dynamicProperties[i].getValue();\n\t\t\tif (this.dynamicProperties[i].mdf)\n\t\t\t{\n\t\t\t\tthis.mdf = true;\n\t\t\t}\n\t\t}\n\t\tif (this.a)\n\t\t{\n\t\t\tmat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n\t\t}\n\t\tif (this.s)\n\t\t{\n\t\t\tmat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n\t\t}\n\t\tif (this.r)\n\t\t{\n\t\t\tmat.rotate(-this.r.v);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tmat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n\t\t}\n\t\tif (this.data.p.s)\n\t\t{\n\t\t\tif (this.data.p.z)\n\t\t\t{\n\t\t\t\tmat.translate(this.px.v, this.py.v, -this.pz.v);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tmat.translate(this.px.v, this.py.v, 0);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tmat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n\t\t}\n\t}\n\n\tfunction processKeys ()\n\t{\n\t\tif (this.elem.globalData.frameId === this.frameId)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.mdf = false;\n\t\tvar i, len = this.dynamicProperties.length;\n\n\t\tfor (i = 0; i < len; i += 1)\n\t\t{\n\t\t\tthis.dynamicProperties[i].getValue();\n\t\t\tif (this.dynamicProperties[i].mdf)\n\t\t\t{\n\t\t\t\tthis.mdf = true;\n\t\t\t}\n\t\t}\n\t\tif (this.mdf)\n\t\t{\n\t\t\tthis.v.reset();\n\t\t\tif (this.a)\n\t\t\t{\n\t\t\t\tthis.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n\t\t\t}\n\t\t\tif (this.s)\n\t\t\t{\n\t\t\t\tthis.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n\t\t\t}\n\t\t\tif (this.sk)\n\t\t\t{\n\t\t\t\tthis.v.skewFromAxis(-this.sk.v, this.sa.v);\n\t\t\t}\n\t\t\tif (this.r)\n\t\t\t{\n\t\t\t\tthis.v.rotate(-this.r.v);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n\t\t\t}\n\t\t\tif (this.autoOriented && this.p.keyframes && this.p.getValueAtTime)\n\t\t\t{\n\t\t\t\tvar v1, v2;\n\t\t\t\tif (this.p.lastFrame + this.p.offsetTime <= this.p.keyframes[0].t)\n\t\t\t\t{\n\t\t\t\t\tv1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / this.elem.globalData.frameRate, 0);\n\t\t\t\t\tv2 = this.p.getValueAtTime(this.p.keyframes[0].t / this.elem.globalData.frameRate, 0);\n\t\t\t\t}\n\t\t\t\telse if (this.p.lastFrame + this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t)\n\t\t\t\t{\n\t\t\t\t\tv1 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t / this.elem.globalData.frameRate), 0);\n\t\t\t\t\tv2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.01) / this.elem.globalData.frameRate, 0);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tv1 = this.p.pv;\n\t\t\t\t\tv2 = this.p.getValueAtTime((this.p.lastFrame + this.p.offsetTime - 0.01) / this.elem.globalData.frameRate, this.p.offsetTime);\n\t\t\t\t}\n\t\t\t\tthis.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));\n\t\t\t}\n\t\t\tif (this.data.p.s)\n\t\t\t{\n\t\t\t\tif (this.data.p.z)\n\t\t\t\t{\n\t\t\t\t\tthis.v.translate(this.px.v, this.py.v, -this.pz.v);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.v.translate(this.px.v, this.py.v, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n\t\t\t}\n\t\t}\n\t\t//console.log(this.v.to2dCSS())\n\t\tthis.frameId = this.elem.globalData.frameId;\n\t}\n\n\tfunction setInverted ()\n\t{\n\t\tthis.inverted = true;\n\t\tthis.iv = new Matrix();\n\t\tif (!this.k)\n\t\t{\n\t\t\tif (this.data.p.s)\n\t\t\t{\n\t\t\t\tthis.iv.translate(this.px.v, this.py.v, -this.pz.v);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.iv.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n\t\t\t}\n\t\t\tif (this.r)\n\t\t\t{\n\t\t\t\tthis.iv.rotate(-this.r.v);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.iv.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v);\n\t\t\t}\n\t\t\tif (this.s)\n\t\t\t{\n\t\t\t\tthis.iv.scale(this.s.v[0], this.s.v[1], 1);\n\t\t\t}\n\t\t\tif (this.a)\n\t\t\t{\n\t\t\t\tthis.iv.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction autoOrient ()\n\t{\n\t\t//\n\t\t//var prevP = this.getValueAtTime();\n\t}\n\n\treturn function TransformProperty (elem, data, arr)\n\t{\n\t\tthis.elem = elem;\n\t\tthis.frameId = -1;\n\t\tthis.type = 'transform';\n\t\tthis.dynamicProperties = [];\n\t\tthis.mdf = false;\n\t\tthis.data = data;\n\t\tthis.getValue = processKeys;\n\t\tthis.applyToMatrix = applyToMatrix;\n\t\tthis.setInverted = setInverted;\n\t\tthis.autoOrient = autoOrient;\n\t\tthis.v = new Matrix();\n\t\tif (data.p.s)\n\t\t{\n\t\t\tthis.px = PropertyFactory.getProp(elem, data.p.x, 0, 0, this.dynamicProperties);\n\t\t\tthis.py = PropertyFactory.getProp(elem, data.p.y, 0, 0, this.dynamicProperties);\n\t\t\tif (data.p.z)\n\t\t\t{\n\t\t\t\tthis.pz = PropertyFactory.getProp(elem, data.p.z, 0, 0, this.dynamicProperties);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.p = PropertyFactory.getProp(elem, data.p, 1, 0, this.dynamicProperties);\n\t\t}\n\t\tif (data.r)\n\t\t{\n\t\t\tthis.r = PropertyFactory.getProp(elem, data.r, 0, degToRads, this.dynamicProperties);\n\t\t}\n\t\telse if (data.rx)\n\t\t{\n\t\t\tthis.rx = PropertyFactory.getProp(elem, data.rx, 0, degToRads, this.dynamicProperties);\n\t\t\tthis.ry = PropertyFactory.getProp(elem, data.ry, 0, degToRads, this.dynamicProperties);\n\t\t\tthis.rz = PropertyFactory.getProp(elem, data.rz, 0, degToRads, this.dynamicProperties);\n\t\t\tthis.or = PropertyFactory.getProp(elem, data.or, 0, degToRads, this.dynamicProperties);\n\t\t}\n\t\tif (data.sk)\n\t\t{\n\t\t\tthis.sk = PropertyFactory.getProp(elem, data.sk, 0, degToRads, this.dynamicProperties);\n\t\t\tthis.sa = PropertyFactory.getProp(elem, data.sa, 0, degToRads, this.dynamicProperties);\n\t\t}\n\t\tif (data.a)\n\t\t{\n\t\t\tthis.a = PropertyFactory.getProp(elem, data.a, 1, 0, this.dynamicProperties);\n\t\t}\n\t\tif (data.s)\n\t\t{\n\t\t\tthis.s = PropertyFactory.getProp(elem, data.s, 1, 0.01, this.dynamicProperties);\n\t\t}\n\t\tif (data.o)\n\t\t{\n\t\t\tthis.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, arr);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.o = {mdf: false, v: 1};\n\t\t}\n\t\tif (this.dynamicProperties.length)\n\t\t{\n\t\t\tarr.push(this);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (this.a)\n\t\t\t{\n\t\t\t\tthis.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n\t\t\t}\n\t\t\tif (this.s)\n\t\t\t{\n\t\t\t\tthis.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n\t\t\t}\n\t\t\tif (this.sk)\n\t\t\t{\n\t\t\t\tthis.v.skewFromAxis(-this.sk.v, this.sa.v);\n\t\t\t}\n\t\t\tif (this.r)\n\t\t\t{\n\t\t\t\tthis.v.rotate(-this.r.v);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n\t\t\t}\n\t\t\tif (this.data.p.s)\n\t\t\t{\n\t\t\t\tif (data.p.z)\n\t\t\t\t{\n\t\t\t\t\tthis.v.translate(this.px.v, this.py.v, -this.pz.v);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.v.translate(this.px.v, this.py.v, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n\t\t\t}\n\t\t}\n\t\tObject.defineProperty(this, \"position\", {get: positionGetter});\n\t\tObject.defineProperty(this, \"xPosition\", {get: xPositionGetter});\n\t\tObject.defineProperty(this, \"yPosition\", {get: yPositionGetter});\n\t\tObject.defineProperty(this, \"orientation\", {get: orientationGetter});\n\t\tObject.defineProperty(this, \"anchorPoint\", {get: anchorGetter});\n\t\tObject.defineProperty(this, \"rotation\", {get: rotationGetter});\n\t\tObject.defineProperty(this, \"scale\", {get: scaleGetter});\n\t\tObject.defineProperty(this, \"opacity\", {get: opacityGetter});\n\t\tObject.defineProperty(this, \"skew\", {get: skewGetter});\n\t\tObject.defineProperty(this, \"skewAxis\", {get: skewAxisGetter});\n\t}\n}());\n\nfunction getProp (elem, data, type, mult, arr)\n{\n\tvar p;\n\tif (type === 2)\n\t{\n\t\tp = new TransformProperty(elem, data, arr);\n\t}\n\telse if (data.a === 0)\n\t{\n\t\tif (type === 0)\n\t\t{\n\t\t\tp = new ValueProperty(elem, data, mult);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tp = new MultiDimensionalProperty(elem, data, mult);\n\t\t}\n\t}\n\telse if (data.a === 1)\n\t{\n\t\tif (type === 0)\n\t\t{\n\t\t\tp = new KeyframedValueProperty(elem, data, mult);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tp = new KeyframedMultidimensionalProperty(elem, data, mult);\n\t\t}\n\t}\n\telse if (!data.k.length)\n\t{\n\t\tp = new ValueProperty(elem, data, mult);\n\t}\n\telse if (typeof(data.k[0]) === 'number')\n\t{\n\t\tp = new MultiDimensionalProperty(elem, data, mult);\n\t}\n\telse\n\t{\n\t\tswitch (type)\n\t\t{\n\t\t\tcase 0:\n\t\t\t\tp = new KeyframedValueProperty(elem, data, mult);\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tp = new KeyframedMultidimensionalProperty(elem, data, mult);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\tif (p.k)\n\t{\n\t\tarr.push(p);\n\t}\n\treturn p;\n}\n\nvar getGradientProp = (function ()\n{\n\n\tfunction getValue (forceRender)\n\t{\n\t\tthis.prop.getValue();\n\t\tthis.cmdf = false;\n\t\tthis.omdf = false;\n\t\tif (this.prop.mdf || forceRender)\n\t\t{\n\t\t\tvar i, len = this.data.p * 4;\n\t\t\tvar mult, val;\n\t\t\tfor (i = 0; i < len; i += 1)\n\t\t\t{\n\t\t\t\tmult = i % 4 === 0 ? 100 : 255;\n\t\t\t\tval = Math.round(this.prop.v[i] * mult);\n\t\t\t\tif (this.c[i] !== val)\n\t\t\t\t{\n\t\t\t\t\tthis.c[i] = val;\n\t\t\t\t\tthis.cmdf = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.o.length)\n\t\t\t{\n\t\t\t\tlen = this.prop.v.length;\n\t\t\t\tfor (i = this.data.p * 4; i < len; i += 1)\n\t\t\t\t{\n\t\t\t\t\tmult = i % 2 === 0 ? 100 : 1;\n\t\t\t\t\tval = i % 2 === 0 ? Math.round(this.prop.v[i] * 100) : this.prop.v[i];\n\t\t\t\t\tif (this.o[i - this.data.p * 4] !== val)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.o[i - this.data.p * 4] = val;\n\t\t\t\t\t\tthis.omdf = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}\n\n\tfunction gradientProp (elem, data, arr)\n\t{\n\t\tthis.prop = getProp(elem, data.k, 1, null, []);\n\t\tthis.data = data;\n\t\tthis.k = this.prop.k;\n\t\tthis.c = Array.apply(null, {length: data.p * 4});\n\t\tvar cLength = data.k.k[0].s ? (data.k.k[0].s.length - data.p * 4) : data.k.k.length - data.p * 4;\n\t\tthis.o = Array.apply(null, {length: cLength});\n\t\tthis.cmdf = false;\n\t\tthis.omdf = false;\n\t\tthis.getValue = getValue;\n\t\tif (this.prop.k)\n\t\t{\n\t\t\tarr.push(this);\n\t\t}\n\t\tthis.getValue(true);\n\t}\n\n\treturn function getGradientProp (elem, data, arr)\n\t{\n\t\treturn new gradientProp(elem, data, arr);\n\t}\n}());\n\n\nvar DashProperty = (function ()\n{\n\n\tfunction processKeys (forceRender)\n\t{\n\t\tvar i = 0, len = this.dataProps.length;\n\n\t\tif (this.elem.globalData.frameId === this.frameId && !forceRender)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tthis.mdf = false;\n\t\tthis.frameId = this.elem.globalData.frameId;\n\t\twhile (i < len)\n\t\t{\n\t\t\tif (this.dataProps[i].p.mdf)\n\t\t\t{\n\t\t\t\tthis.mdf = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\ti += 1;\n\t\t}\n\t\tif (this.mdf || forceRender)\n\t\t{\n\t\t\tif (this.renderer === 'svg')\n\t\t\t{\n\t\t\t\tthis.dasharray = '';\n\t\t\t}\n\t\t\tfor (i = 0; i < len; i += 1)\n\t\t\t{\n\t\t\t\tif (this.dataProps[i].n != 'o')\n\t\t\t\t{\n\t\t\t\t\tif (this.renderer === 'svg')\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.dasharray += ' ' + this.dataProps[i].p.v;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.dasharray[i] = this.dataProps[i].p.v;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.dashoffset = this.dataProps[i].p.v;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn function (elem, data, renderer, dynamicProperties)\n\t{\n\t\tthis.elem = elem;\n\t\tthis.frameId = -1;\n\t\tthis.dataProps = new Array(data.length);\n\t\tthis.renderer = renderer;\n\t\tthis.mdf = false;\n\t\tthis.k = false;\n\t\tif (this.renderer === 'svg')\n\t\t{\n\t\t\tthis.dasharray = '';\n\t\t}\n\t\telse\n\t\t{\n\n\t\t\tthis.dasharray = new Array(data.length - 1);\n\t\t}\n\t\tthis.dashoffset = 0;\n\t\tvar i, len = data.length, prop;\n\t\tfor (i = 0; i < len; i += 1)\n\t\t{\n\t\t\tprop = PropertyFactory.getProp(elem, data[i].v, 0, 0, dynamicProperties);\n\t\t\tthis.k = prop.k ? true : this.k;\n\t\t\tthis.dataProps[i] = {n: data[i].n, p: prop};\n\t\t}\n\t\tthis.getValue = processKeys;\n\t\tif (this.k)\n\t\t{\n\t\t\tdynamicProperties.push(this);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.getValue(true);\n\t\t}\n\n\t}\n}());\n\nfunction getDashProp (elem, data, renderer, dynamicProperties)\n{\n\treturn new DashProperty(elem, data, renderer, dynamicProperties);\n};\n\nvar TextSelectorProp = (function ()\n{\n\tvar max = Math.max;\n\tvar min = Math.min;\n\tvar floor = Math.floor;\n\n\tfunction updateRange ()\n\t{\n\t\tif (this.dynamicProperties.length)\n\t\t{\n\t\t\tvar i, len = this.dynamicProperties.length;\n\t\t\tfor (i = 0; i < len; i += 1)\n\t\t\t{\n\t\t\t\tthis.dynamicProperties[i].getValue();\n\t\t\t\tif (this.dynamicProperties[i].mdf)\n\t\t\t\t{\n\t\t\t\t\tthis.mdf = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tvar totalChars = this.data.totalChars;\n\t\tvar divisor = this.data.r === 2 ? 1 : 100 / totalChars;\n\t\tvar o = this.o.v / divisor;\n\t\tvar s = this.s.v / divisor + o;\n\t\tvar e = (this.e.v / divisor) + o;\n\t\tif (s > e)\n\t\t{\n\t\t\tvar _s = s;\n\t\t\ts = e;\n\t\t\te = _s;\n\t\t}\n\t\tthis.finalS = s;\n\t\tthis.finalE = e;\n\t}\n\n\tfunction getMult (ind)\n\t{\n\t\t//var easer = bez.getEasingCurve(this.ne.v/100,0,1-this.xe.v/100,1);\n\t\tvar easer = BezierFactory.getBezierEasing(this.ne.v / 100, 0, 1 - this.xe.v / 100, 1).get;\n\t\tvar mult = 0;\n\t\tvar s = this.finalS;\n\t\tvar e = this.finalE;\n\t\tvar type = this.data.sh;\n\t\tif (type == 2)\n\t\t{\n\t\t\tif (e === s)\n\t\t\t{\n\t\t\t\tmult = ind >= e ? 1 : 0;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tmult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n\t\t\t}\n\t\t\tmult = easer(mult);\n\t\t}\n\t\telse if (type == 3)\n\t\t{\n\t\t\tif (e === s)\n\t\t\t{\n\t\t\t\tmult = ind >= e ? 0 : 1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tmult = 1 - max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n\t\t\t}\n\n\t\t\tmult = easer(mult);\n\t\t}\n\t\telse if (type == 4)\n\t\t{\n\t\t\tif (e === s)\n\t\t\t{\n\t\t\t\tmult = 0;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tmult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n\t\t\t\tif (mult < .5)\n\t\t\t\t{\n\t\t\t\t\tmult *= 2;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tmult = 1 - 2 * (mult - 0.5);\n\t\t\t\t}\n\t\t\t}\n\t\t\tmult = easer(mult);\n\t\t}\n\t\telse if (type == 5)\n\t\t{\n\t\t\tif (e === s)\n\t\t\t{\n\t\t\t\tmult = 0;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tvar tot = e - s;\n\t\t\t\t/*ind += 0.5;\n\t\t\t\t mult = -4/(tot*tot)*(ind*ind)+(4/tot)*ind;*/\n\t\t\t\tind = min(max(0, ind + 0.5 - s), e - s);\n\t\t\t\tvar x = -tot / 2 + ind;\n\t\t\t\tvar a = tot / 2;\n\t\t\t\tmult = Math.sqrt(1 - (x * x) / (a * a));\n\t\t\t}\n\t\t\tmult = easer(mult);\n\t\t}\n\t\telse if (type == 6)\n\t\t{\n\t\t\tif (e === s)\n\t\t\t{\n\t\t\t\tmult = 0;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tind = min(max(0, ind + 0.5 - s), e - s);\n\t\t\t\tmult = (1 + (Math.cos((Math.PI + Math.PI * 2 * (ind) / (e - s))))) / 2;\n\t\t\t\t/*\n\t\t\t\t ind = Math.min(Math.max(s,ind),e-1);\n\t\t\t\t mult = (1+(Math.cos((Math.PI+Math.PI*2*(ind-s)/(e-1-s)))))/2;\n\t\t\t\t mult = Math.max(mult,(1/(e-1-s))/(e-1-s));*/\n\t\t\t}\n\t\t\tmult = easer(mult);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (ind >= floor(s))\n\t\t\t{\n\t\t\t\tif (ind - s < 0)\n\t\t\t\t{\n\t\t\t\t\tmult = 1 - (s - ind);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tmult = max(0, min(e - ind, 1));\n\t\t\t\t}\n\t\t\t}\n\t\t\tmult = easer(mult);\n\t\t}\n\t\treturn mult * this.a.v;\n\t}\n\n\treturn function TextSelectorProp (elem, data, arr)\n\t{\n\t\tthis.mdf = false;\n\t\tthis.k = false;\n\t\tthis.data = data;\n\t\tthis.dynamicProperties = [];\n\t\tthis.getValue = updateRange;\n\t\tthis.getMult = getMult;\n\t\tthis.comp = elem.comp;\n\t\tthis.finalS = 0;\n\t\tthis.finalE = 0;\n\t\tthis.s = PropertyFactory.getProp(elem, data.s || {k: 0}, 0, 0, this.dynamicProperties);\n\t\tif ('e' in data)\n\t\t{\n\t\t\tthis.e = PropertyFactory.getProp(elem, data.e, 0, 0, this.dynamicProperties);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.e = {v: data.r === 2 ? data.totalChars : 100};\n\t\t}\n\t\tthis.o = PropertyFactory.getProp(elem, data.o || {k: 0}, 0, 0, this.dynamicProperties);\n\t\tthis.xe = PropertyFactory.getProp(elem, data.xe || {k: 0}, 0, 0, this.dynamicProperties);\n\t\tthis.ne = PropertyFactory.getProp(elem, data.ne || {k: 0}, 0, 0, this.dynamicProperties);\n\t\tthis.a = PropertyFactory.getProp(elem, data.a, 0, 0.01, this.dynamicProperties);\n\t\tif (this.dynamicProperties.length)\n\t\t{\n\t\t\tarr.push(this);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.getValue();\n\t\t}\n\t}\n}());\n\nfunction getTextSelectorProp (elem, data, arr)\n{\n\treturn new TextSelectorProp(elem, data, arr);\n}\n\n\nexport default function PropertyFactory()\n{\n\tthrow new Error('this can not be newed');\n}\n\nPropertyFactory.getProp = getProp;\nPropertyFactory.getDashProp = getDashProp;\nPropertyFactory.getTextSelectorProp = getTextSelectorProp;\nPropertyFactory.getGradientProp = getGradientProp;\n\n\n// WEBPACK FOOTER //\n// ./js/utils/PropertyFactory.js","var ShapeModifiers = (function(){\n    var ob = {};\n    var modifiers = {};\n\n\n    let registerModifier = function(nm,factory){\n        if(!modifiers[nm]){\n            modifiers[nm] = factory;\n        }\n    }\n\n    let getModifier = function(nm,elem, data, dynamicProperties){\n        return new modifiers[nm](elem, data, dynamicProperties);\n    }\n\n\tob.registerModifier = registerModifier;\n\tob.getModifier = getModifier;\n\n    return ob;\n}());\n\nfunction ShapeModifier(){}\nShapeModifier.prototype.initModifierProperties = function(){};\nShapeModifier.prototype.addShapeToModifier = function(){};\nShapeModifier.prototype.addShape = function(shape){\n    if(!this.closed){\n        this.shapes.push({shape:shape,last:[]});\n        this.addShapeToModifier(shape);\n    }\n}\nShapeModifier.prototype.init = function(elem,data,dynamicProperties){\n    this.elem = elem;\n    this.frameId = -1;\n    this.shapes = [];\n    this.dynamicProperties = [];\n    this.mdf = false;\n    this.closed = false;\n    this.k = false;\n    this.isTrimming = false;\n    this.comp = elem.comp;\n    this.initModifierProperties(elem,data);\n    if(this.dynamicProperties.length){\n        this.k = true;\n        dynamicProperties.push(this);\n    }else{\n        this.getValue(true);\n    }\n}\n\nexport {\n\tShapeModifier,\n\tShapeModifiers\n}\n\n\n// WEBPACK FOOTER //\n// ./js/utils/shapes/ShapeModifiers.js","import TrimModifier from \"../utils/shapes/TrimModifier\";\nimport MouseModifier from \"../utils/shapes/MouseModifier\";\nimport RoundCornersModifier from \"../utils/shapes/RoundCornersModifier\";\n\nexport default class BaseRenderer {\n\tconstructor ()\n\t{\n\t}\n\n\tcheckLayers (num)\n\t{\n\t\tvar i, len = this.layers.length, data;\n\t\tthis.completeLayers = true;\n\t\tfor (i = len - 1; i >= 0; i--)\n\t\t{\n\t\t\tif (!this.elements[i])\n\t\t\t{\n\t\t\t\tdata = this.layers[i];\n\t\t\t\tif (data.ip - data.st <= (num - this.layers[i].st) && data.op - data.st > (num - this.layers[i].st))\n\t\t\t\t{\n\t\t\t\t\tthis.buildItem(i);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.completeLayers = this.elements[i] ? this.completeLayers : false;\n\t\t}\n\t\tthis.checkPendingElements();\n\t}\n\n\tcreateItem (layer)\n\t{\n\t\tswitch (layer.ty)\n\t\t{\n\t\t\tcase 2:\n\t\t\t\treturn this.createImage(layer);\n\t\t\tcase 0:\n\t\t\t\treturn this.createComp(layer);\n\t\t\tcase 1:\n\t\t\t\treturn this.createSolid(layer);\n\t\t\tcase 4:\n\t\t\t\treturn this.createShape(layer);\n\t\t\tcase 5:\n\t\t\t\treturn this.createText(layer);\n\t\t\tcase 99:\n\t\t\t\treturn null;\n\t\t}\n\t\treturn this.createBase(layer);\n\t}\n\n\tbuildAllItems ()\n\t{\n\t\tvar i, len = this.layers.length;\n\t\tfor (i = 0; i < len; i += 1)\n\t\t{\n\t\t\tthis.buildItem(i);\n\t\t}\n\t\tthis.checkPendingElements();\n\t}\n\n\tincludeLayers (newLayers)\n\t{\n\t\tthis.completeLayers = false;\n\t\tvar i, len = newLayers.length;\n\t\tvar j, jLen = this.layers.length;\n\t\tfor (i = 0; i < len; i += 1)\n\t\t{\n\t\t\tj = 0;\n\t\t\twhile (j < jLen)\n\t\t\t{\n\t\t\t\tif (this.layers[j].id == newLayers[i].id)\n\t\t\t\t{\n\t\t\t\t\tthis.layers[j] = newLayers[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tj += 1;\n\t\t\t}\n\t\t}\n\t}\n\n\tsetProjectInterface (pInterface)\n\t{\n\t\tthis.globalData.projectInterface = pInterface;\n\t}\n\n\tinitItems ()\n\t{\n\t\tif (!this.globalData.progressiveLoad)\n\t\t{\n\t\t\tthis.buildAllItems();\n\t\t}\n\t}\n\n\tbuildElementParenting (element, parentName, hierarchy)\n\t{\n\t\thierarchy = hierarchy || [];\n\t\tvar elements = this.elements;\n\t\tvar layers = this.layers;\n\t\tvar i = 0, len = layers.length;\n\t\twhile (i < len)\n\t\t{\n\t\t\tif (layers[i].ind == parentName)\n\t\t\t{\n\t\t\t\tif (!elements[i] || elements[i] === true)\n\t\t\t\t{\n\t\t\t\t\tthis.buildItem(i);\n\t\t\t\t\tthis.addPendingElement(element);\n\t\t\t\t}\n\t\t\t\telse if (layers[i].parent !== undefined)\n\t\t\t\t{\n\t\t\t\t\thierarchy.push(elements[i]);\n\t\t\t\t\telements[i]._isParent = true;\n\t\t\t\t\tthis.buildElementParenting(element, layers[i].parent, hierarchy);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\thierarchy.push(elements[i]);\n\t\t\t\t\telements[i]._isParent = true;\n\t\t\t\t\telement.setHierarchy(hierarchy);\n\t\t\t\t}\n\n\n\t\t\t}\n\t\t\ti += 1;\n\t\t}\n\t}\n\n\taddPendingElement (element)\n\t{\n\t\tthis.pendingElements.push(element);\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./js/renderers/BaseRenderer.js","import {expressionsPlugin, randomString, svgNS} from \"../utils/common\";\nimport BaseRenderer from \"./BaseRenderer\";\nimport FontManager from \"../utils/FontManager\";\nimport SVGBaseElement from \"../elements/svgElements/SVGBaseElement\";\nimport ShapeElement from \"../elements/ShapeElement\";\nimport SVGTextElement from \"../elements/svgElements/SVGTextElement\";\nimport ImageElement from \"../elements/ImageElement\";\nimport CompElement from \"../elements/CompElement\";\nimport SolidElement from \"../elements/SolidElement\";\n\n\nexport default class SVGRenderer extends BaseRenderer\n{\n\tconstructor (animationItem, config)\n\t{\n\t\tsuper();\n\t\tthis.animationItem = animationItem;\n\t\tthis.layers = null;\n\t\tthis.renderedFrame = -1;\n\t\tthis.globalData = {\n\t\t\tframeNum: -1\n\t\t};\n\t\tthis.renderConfig = {\n\t\t\tpreserveAspectRatio: (config && config.preserveAspectRatio) || 'xMidYMid meet',\n\t\t\tprogressiveLoad: (config && config.progressiveLoad) || false\n\t\t};\n\t\tthis.elements = [];\n\t\tthis.pendingElements = [];\n\t\tthis.destroyed = false;\n\n\t}\n\n\tcreateBase (data)\n\t{\n\t\treturn new SVGBaseElement(data, this.layerElement, this.globalData, this);\n\t}\n\n\tcreateShape (data)\n\t{\n\t\treturn new ShapeElement(data, this.layerElement, this.globalData, this);\n\t}\n\n\tcreateText (data)\n\t{\n\t\treturn new SVGTextElement(data, this.layerElement, this.globalData, this);\n\n\t}\n\n\tcreateImage (data)\n\t{\n\t\treturn new ImageElement(data, this.layerElement, this.globalData, this);\n\t}\n\n\tcreateComp (data)\n\t{\n\t\treturn new CompElement(data, this.layerElement, this.globalData, this);\n\n\t}\n\n\tcreateSolid (data)\n\t{\n\t\treturn new SolidElement(data, this.layerElement, this.globalData, this);\n\t}\n\n\tconfigAnimation (animData)\n\t{\n\t\tthis.layerElement = document.createElementNS(svgNS, 'svg');\n\t\tthis.layerElement.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n\t\tthis.layerElement.setAttribute('width', animData.w);\n\t\tthis.layerElement.setAttribute('height', animData.h);\n\t\tthis.layerElement.setAttribute('viewBox', '0 0 ' + animData.w + ' ' + animData.h);\n\t\tthis.layerElement.setAttribute('preserveAspectRatio', this.renderConfig.preserveAspectRatio);\n\t\tthis.layerElement.style.width = '100%';\n\t\tthis.layerElement.style.height = '100%';\n\t\t//this.layerElement.style.transform = 'translate3d(0,0,0)';\n\t\t//this.layerElement.style.transformOrigin = this.layerElement.style.mozTransformOrigin = this.layerElement.style.webkitTransformOrigin = this.layerElement.style['-webkit-transform'] = \"0px 0px 0px\";\n\t\tthis.animationItem.wrapper.appendChild(this.layerElement);\n\t\t//Mask animation\n\t\tvar defs = document.createElementNS(svgNS, 'defs');\n\t\tthis.globalData.defs = defs;\n\t\tthis.layerElement.appendChild(defs);\n\t\tthis.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\n\t\tthis.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\n\t\tthis.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\n\t\tthis.globalData.frameId = 0;\n\t\tthis.globalData.nm = animData.nm;\n\t\tthis.globalData.compSize = {\n\t\t\tw: animData.w,\n\t\t\th: animData.h\n\t\t}\n\t\tthis.data = animData;\n\t\tthis.globalData.frameRate = animData.fr;\n\t\tvar maskElement = document.createElementNS(svgNS, 'clipPath');\n\t\tvar rect = document.createElementNS(svgNS, 'rect');\n\t\trect.setAttribute('width', animData.w);\n\t\trect.setAttribute('height', animData.h);\n\t\trect.setAttribute('x', 0);\n\t\trect.setAttribute('y', 0);\n\t\tvar maskId = 'animationMask_' + randomString(10);\n\t\tmaskElement.setAttribute('id', maskId);\n\t\tmaskElement.appendChild(rect);\n\t\tvar maskedElement = document.createElementNS(svgNS, 'g');\n\t\tmaskedElement.setAttribute(\"clip-path\", \"url(#\" + maskId + \")\");\n\t\tthis.layerElement.appendChild(maskedElement);\n\t\tdefs.appendChild(maskElement);\n\t\tthis.layerElement = maskedElement;\n\t\tthis.layers = animData.layers;\n\t\tthis.globalData.fontManager = new FontManager();\n\t\tthis.globalData.fontManager.addChars(animData.chars);\n\t\tthis.globalData.fontManager.addFonts(animData.fonts, defs);\n\t\tthis.elements = Array.apply(null, {length: animData.layers.length});\n\t}\n\n\n\tdestroy ()\n\t{\n\t\tthis.animationItem.wrapper.innerHTML = '';\n\t\tthis.layerElement = null;\n\t\tthis.globalData.defs = null;\n\t\tvar i, len = this.layers ? this.layers.length : 0;\n\t\tfor (i = 0; i < len; i++)\n\t\t{\n\t\t\tif (this.elements[i])\n\t\t\t{\n\t\t\t\tthis.elements[i].destroy();\n\t\t\t}\n\t\t}\n\t\tthis.elements.length = 0;\n\t\tthis.destroyed = true;\n\t\tthis.animationItem = null;\n\t}\n\n\tupdateContainerSize ()\n\t{\n\t}\n\n\tbuildItem (pos)\n\t{\n\t\tvar elements = this.elements;\n\t\tif (elements[pos] || this.layers[pos].ty == 99)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\telements[pos] = true;\n\t\tvar element = this.createItem(this.layers[pos]);\n\n\t\telements[pos] = element;\n\t\tif (expressionsPlugin)\n\t\t{\n\t\t\tif (this.layers[pos].ty === 0)\n\t\t\t{\n\t\t\t\tthis.globalData.projectInterface.registerComposition(element);\n\t\t\t}\n\t\t\telement.initExpressions();\n\t\t}\n\t\tthis.appendElementInPos(element, pos);\n\t\tif (this.layers[pos].tt)\n\t\t{\n\t\t\tif (!this.elements[pos - 1] || this.elements[pos - 1] === true)\n\t\t\t{\n\t\t\t\tthis.buildItem(pos - 1);\n\t\t\t\tthis.addPendingElement(element);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\telement.setMatte(elements[pos - 1].layerId);\n\t\t\t}\n\t\t}\n\t}\n\n\tcheckPendingElements ()\n\t{\n\t\twhile (this.pendingElements.length)\n\t\t{\n\t\t\tvar element = this.pendingElements.pop();\n\t\t\telement.checkParenting();\n\t\t\tif (element.data.tt)\n\t\t\t{\n\t\t\t\tvar i = 0, len = this.elements.length;\n\t\t\t\twhile (i < len)\n\t\t\t\t{\n\t\t\t\t\tif (this.elements[i] === element)\n\t\t\t\t\t{\n\t\t\t\t\t\telement.setMatte(this.elements[i - 1].layerId);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\ti += 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\trenderFrame (num)\n\t{\n\t\tif (this.renderedFrame == num || this.destroyed)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tif (num === null)\n\t\t{\n\t\t\tnum = this.renderedFrame;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.renderedFrame = num;\n\t\t}\n\t\t//clearPoints();\n\t\t/*console.log('-------');\n\t\t console.log('FRAME ',num);*/\n\t\tthis.globalData.frameNum = num;\n\t\tthis.globalData.frameId += 1;\n\t\tthis.globalData.projectInterface.currentFrame = num;\n\t\tvar i, len = this.layers.length;\n\t\tif (!this.completeLayers)\n\t\t{\n\t\t\tthis.checkLayers(num);\n\t\t}\n\t\tfor (i = len - 1; i >= 0; i--)\n\t\t{\n\t\t\tif (this.completeLayers || this.elements[i])\n\t\t\t{\n\t\t\t\tthis.elements[i].prepareFrame(num - this.layers[i].st);\n\t\t\t}\n\t\t}\n\t\tfor (i = len - 1; i >= 0; i--)\n\t\t{\n\t\t\tif (this.completeLayers || this.elements[i])\n\t\t\t{\n\t\t\t\tthis.elements[i].renderFrame();\n\t\t\t}\n\t\t}\n\t}\n\n\tappendElementInPos (element, pos)\n\t{\n\t\tvar newElement = element.getBaseElement();\n\t\tif (!newElement)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tvar i = 0;\n\t\tvar nextElement;\n\t\twhile (i < pos)\n\t\t{\n\t\t\tif (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement())\n\t\t\t{\n\t\t\t\tnextElement = this.elements[i].getBaseElement();\n\t\t\t}\n\t\t\ti += 1;\n\t\t}\n\t\tif (nextElement)\n\t\t{\n\t\t\tthis.layerElement.insertBefore(newElement, nextElement);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.layerElement.appendChild(newElement);\n\t\t}\n\t}\n\n\thide ()\n\t{\n\t\tthis.layerElement.style.display = 'none';\n\t}\n\n\tshow ()\n\t{\n\t\tthis.layerElement.style.display = 'block';\n\t}\n\n\tsearchExtraCompositions (assets)\n\t{\n\t\tvar i, len = assets.length;\n\t\tvar floatingContainer = document.createElementNS(svgNS, 'g');\n\t\tfor (i = 0; i < len; i += 1)\n\t\t{\n\t\t\tif (assets[i].xt)\n\t\t\t{\n\t\t\t\tvar comp = this.createComp(assets[i], floatingContainer, this.globalData.comp, null);\n\t\t\t\tcomp.initExpressions();\n\t\t\t\t//comp.compInterface = CompExpressionInterface(comp);\n\t\t\t\t//Expressions.addLayersInterface(comp.elements, this.globalData.projectInterface);\n\t\t\t\tthis.globalData.projectInterface.registerComposition(comp);\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./js/renderers/SVGRenderer.js","var BezierFactory = (function(){\n    /**\n     * BezierEasing - use bezier curve for transition easing function\n     * by Gaëtan Renaudeau 2014 - 2015 – MIT License\n     *\n     * Credits: is based on Firefox's nsSMILKeySpline.cpp\n     * Usage:\n     * var spline = BezierEasing([ 0.25, 0.1, 0.25, 1.0 ])\n     * spline.get(x) => returns the easing value | x must be in [0, 1] range\n     *\n     */\n\n        var ob = {};\n    ob.getBezierEasing = getBezierEasing;\n    var beziers = {};\n\n    function getBezierEasing(a,b,c,d,nm){\n        var str = nm || ('bez_' + a+'_'+b+'_'+c+'_'+d).replace(/\\./g, 'p');\n        if(beziers[str]){\n            return beziers[str];\n        }\n        var bezEasing = new BezierEasing([a,b,c,d]);\n        beziers[str] = bezEasing;\n        return bezEasing;\n    }\n\n// These values are established by empiricism with tests (tradeoff: performance VS precision)\n    var NEWTON_ITERATIONS = 4;\n    var NEWTON_MIN_SLOPE = 0.001;\n    var SUBDIVISION_PRECISION = 0.0000001;\n    var SUBDIVISION_MAX_ITERATIONS = 10;\n\n    var kSplineTableSize = 11;\n    var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\n    var float32ArraySupported = typeof Float32Array === \"function\";\n\n    function A (aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }\n    function B (aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }\n    function C (aA1)      { return 3.0 * aA1; }\n\n// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\n    function calcBezier (aT, aA1, aA2) {\n        return ((A(aA1, aA2)*aT + B(aA1, aA2))*aT + C(aA1))*aT;\n    }\n\n// Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\n    function getSlope (aT, aA1, aA2) {\n        return 3.0 * A(aA1, aA2)*aT*aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\n    }\n\n    function binarySubdivide (aX, aA, aB, mX1, mX2) {\n        var currentX, currentT, i = 0;\n        do {\n            currentT = aA + (aB - aA) / 2.0;\n            currentX = calcBezier(currentT, mX1, mX2) - aX;\n            if (currentX > 0.0) {\n                aB = currentT;\n            } else {\n                aA = currentT;\n            }\n        } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n        return currentT;\n    }\n\n    function newtonRaphsonIterate (aX, aGuessT, mX1, mX2) {\n        for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\n            var currentSlope = getSlope(aGuessT, mX1, mX2);\n            if (currentSlope === 0.0) return aGuessT;\n            var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n            aGuessT -= currentX / currentSlope;\n        }\n        return aGuessT;\n    }\n\n    /**\n     * points is an array of [ mX1, mY1, mX2, mY2 ]\n     */\n    function BezierEasing (points) {\n        this._p = points;\n        this._mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n        this._precomputed = false;\n\n        this.get = this.get.bind(this);\n    }\n\n    BezierEasing.prototype = {\n\n        get: function (x) {\n            var mX1 = this._p[0],\n                mY1 = this._p[1],\n                mX2 = this._p[2],\n                mY2 = this._p[3];\n            if (!this._precomputed) this._precompute();\n            if (mX1 === mY1 && mX2 === mY2) return x; // linear\n            // Because JavaScript number are imprecise, we should guarantee the extremes are right.\n            if (x === 0) return 0;\n            if (x === 1) return 1;\n            return calcBezier(this._getTForX(x), mY1, mY2);\n        },\n\n        // Private part\n\n        _precompute: function () {\n            var mX1 = this._p[0],\n                mY1 = this._p[1],\n                mX2 = this._p[2],\n                mY2 = this._p[3];\n            this._precomputed = true;\n            if (mX1 !== mY1 || mX2 !== mY2)\n                this._calcSampleValues();\n        },\n\n        _calcSampleValues: function () {\n            var mX1 = this._p[0],\n                mX2 = this._p[2];\n            for (var i = 0; i < kSplineTableSize; ++i) {\n                this._mSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n            }\n        },\n\n        /**\n         * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.\n         */\n        _getTForX: function (aX) {\n            var mX1 = this._p[0],\n                mX2 = this._p[2],\n                mSampleValues = this._mSampleValues;\n\n            var intervalStart = 0.0;\n            var currentSample = 1;\n            var lastSample = kSplineTableSize - 1;\n\n            for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\n                intervalStart += kSampleStepSize;\n            }\n            --currentSample;\n\n            // Interpolate to provide an initial guess for t\n            var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample+1] - mSampleValues[currentSample]);\n            var guessForT = intervalStart + dist * kSampleStepSize;\n\n            var initialSlope = getSlope(guessForT, mX1, mX2);\n            if (initialSlope >= NEWTON_MIN_SLOPE) {\n                return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n            } else if (initialSlope === 0.0) {\n                return guessForT;\n            } else {\n                return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n            }\n        }\n    };\n\n    return ob;\n\n}());\n\nexport default BezierFactory;\n\n\n\n\n// WEBPACK FOOTER //\n// ./js/3rd_party/BezierFactory.js","/*!\n Transformation Matrix v2.0\n (c) Epistemex 2014-2015\n www.epistemex.com\n By Ken Fyrstenberg\n Contributions by leeoniya.\n License: MIT, header required.\n */\n\n/**\n * 2D transformation matrix object initialized with identity matrix.\n *\n * The matrix can synchronize a canvas context by supplying the context\n * as an argument, or later apply current absolute transform to an\n * existing context.\n *\n * All values are handled as floating point values.\n *\n * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\n * @prop {number} a - scale x\n * @prop {number} b - shear y\n * @prop {number} c - shear x\n * @prop {number} d - scale y\n * @prop {number} e - translate x\n * @prop {number} f - translate y\n * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\n * @constructor\n */\n\n\n\n    function reset(){\n        this.props[0] = 1;\n        this.props[1] = 0;\n        this.props[2] = 0;\n        this.props[3] = 0;\n        this.props[4] = 0;\n        this.props[5] = 1;\n        this.props[6] = 0;\n        this.props[7] = 0;\n        this.props[8] = 0;\n        this.props[9] = 0;\n        this.props[10] = 1;\n        this.props[11] = 0;\n        this.props[12] = 0;\n        this.props[13] = 0;\n        this.props[14] = 0;\n        this.props[15] = 1;\n        return this;\n    }\n\n    function rotate(angle) {\n        if(angle === 0){\n            return this;\n        }\n        var mCos = Math.cos(angle);\n        var mSin = Math.sin(angle);\n        return this._t(mCos, -mSin,  0, 0\n            , mSin,  mCos, 0, 0\n            , 0,  0,  1, 0\n            , 0, 0, 0, 1);\n    }\n\n    function rotateX(angle){\n        if(angle === 0){\n            return this;\n        }\n        var mCos = Math.cos(angle);\n        var mSin = Math.sin(angle);\n        return this._t(1, 0, 0, 0\n            , 0, mCos, -mSin, 0\n            , 0, mSin,  mCos, 0\n            , 0, 0, 0, 1);\n    }\n\n    function rotateY(angle){\n        if(angle === 0){\n            return this;\n        }\n        var mCos = Math.cos(angle);\n        var mSin = Math.sin(angle);\n        return this._t(mCos,  0,  mSin, 0\n            , 0, 1, 0, 0\n            , -mSin,  0,  mCos, 0\n            , 0, 0, 0, 1);\n    }\n\n    function rotateZ(angle){\n        if(angle === 0){\n            return this;\n        }\n        var mCos = Math.cos(angle);\n        var mSin = Math.sin(angle);\n        return this._t(mCos, -mSin,  0, 0\n            , mSin,  mCos, 0, 0\n            , 0,  0,  1, 0\n            , 0, 0, 0, 1);\n    }\n\n    function shear(sx,sy){\n        return this._t(1, sy, sx, 1, 0, 0);\n    }\n\n    function skew(ax, ay){\n        return this.shear(Math.tan(ax), Math.tan(ay));\n    }\n\n    function skewFromAxis(ax, angle){\n        var mCos = Math.cos(angle);\n        var mSin = Math.sin(angle);\n        return this._t(mCos, mSin,  0, 0\n            , -mSin,  mCos, 0, 0\n            , 0,  0,  1, 0\n            , 0, 0, 0, 1)\n            ._t(1, 0,  0, 0\n            , Math.tan(ax),  1, 0, 0\n            , 0,  0,  1, 0\n            , 0, 0, 0, 1)\n            ._t(mCos, -mSin,  0, 0\n            , mSin,  mCos, 0, 0\n            , 0,  0,  1, 0\n            , 0, 0, 0, 1);\n        //return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, Math.tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\n    }\n\n    function scale(sx, sy, sz) {\n        sz = isNaN(sz) ? 1 : sz;\n        if(sx == 1 && sy == 1 && sz == 1){\n            return this;\n        }\n        return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\n    }\n\n    function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\n        this.props[0] = a;\n        this.props[1] = b;\n        this.props[2] = c;\n        this.props[3] = d;\n        this.props[4] = e;\n        this.props[5] = f;\n        this.props[6] = g;\n        this.props[7] = h;\n        this.props[8] = i;\n        this.props[9] = j;\n        this.props[10] = k;\n        this.props[11] = l;\n        this.props[12] = m;\n        this.props[13] = n;\n        this.props[14] = o;\n        this.props[15] = p;\n        return this;\n    }\n\n    function translate(tx, ty, tz) {\n        tz = tz || 0;\n        if(tx !== 0 || ty !== 0 || tz !== 0){\n            return this._t(1,0,0,0,0,1,0,0,0,0,1,0,tx,ty,tz,1);\n        }\n        return this;\n    }\n\n    function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\n\n        if(a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0){\n            if(m2 !== 0 || n2 !== 0 || o2 !== 0){\n\n                this.props[12] = this.props[12] * a2 + this.props[13] * e2 + this.props[14] * i2 + this.props[15] * m2 ;\n                this.props[13] = this.props[12] * b2 + this.props[13] * f2 + this.props[14] * j2 + this.props[15] * n2 ;\n                this.props[14] = this.props[12] * c2 + this.props[13] * g2 + this.props[14] * k2 + this.props[15] * o2 ;\n                this.props[15] = this.props[12] * d2 + this.props[13] * h2 + this.props[14] * l2 + this.props[15] * p2 ;\n            }\n            return this;\n        }\n\n        var a1 = this.props[0];\n        var b1 = this.props[1];\n        var c1 = this.props[2];\n        var d1 = this.props[3];\n        var e1 = this.props[4];\n        var f1 = this.props[5];\n        var g1 = this.props[6];\n        var h1 = this.props[7];\n        var i1 = this.props[8];\n        var j1 = this.props[9];\n        var k1 = this.props[10];\n        var l1 = this.props[11];\n        var m1 = this.props[12];\n        var n1 = this.props[13];\n        var o1 = this.props[14];\n        var p1 = this.props[15];\n\n        /* matrix order (canvas compatible):\n         * ace\n         * bdf\n         * 001\n         */\n        this.props[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\n        this.props[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2 ;\n        this.props[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2 ;\n        this.props[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2 ;\n\n        this.props[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2 ;\n        this.props[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2 ;\n        this.props[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2 ;\n        this.props[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2 ;\n\n        this.props[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2 ;\n        this.props[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2 ;\n        this.props[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2 ;\n        this.props[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2 ;\n\n        this.props[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2 ;\n        this.props[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2 ;\n        this.props[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2 ;\n        this.props[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2 ;\n\n        return this;\n    }\n\n    function clone(matr){\n        var i;\n        for(i=0;i<16;i+=1){\n            matr.props[i] = this.props[i];\n        }\n    }\n\n    function cloneFromProps(props){\n        var i;\n        for(i=0;i<16;i+=1){\n            this.props[i] = props[i];\n        }\n    }\n\n    function applyToPoint(x, y, z) {\n\n        return {\n            x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\n            y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\n            z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]\n        };\n        /*return {\n         x: x * me.a + y * me.c + me.e,\n         y: x * me.b + y * me.d + me.f\n         };*/\n    }\n    function applyToX(x, y, z) {\n        return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\n    }\n    function applyToY(x, y, z) {\n        return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\n    }\n    function applyToZ(x, y, z) {\n        return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\n    }\n\n    function inversePoints(pts){\n        //var determinant = this.a * this.d - this.b * this.c;\n        var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\n        var a = this.props[5]/determinant;\n        var b = - this.props[1]/determinant;\n        var c = - this.props[4]/determinant;\n        var d = this.props[0]/determinant;\n        var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12])/determinant;\n        var f = - (this.props[0] * this.props[13] - this.props[1] * this.props[12])/determinant;\n        var i, len = pts.length, retPts = [];\n        for(i=0;i<len;i+=1){\n            retPts[i] = [pts[i][0] * a + pts[i][1] * c + e, pts[i][0] * b + pts[i][1] * d + f, 0]\n        }\n        return retPts;\n    }\n\n    function applyToPointArray(x,y,z){\n        return [x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]];\n    }\n    function applyToPointStringified(x, y) {\n        return (bm_rnd(x * this.props[0] + y * this.props[4] + this.props[12]))+','+(bm_rnd(x * this.props[1] + y * this.props[5] + this.props[13]));\n    }\n\n    function toArray() {\n        return [this.props[0],this.props[1],this.props[2],this.props[3],this.props[4],this.props[5],this.props[6],this.props[7],this.props[8],this.props[9],this.props[10],this.props[11],this.props[12],this.props[13],this.props[14],this.props[15]];\n    }\n\n    function toCSS() {\n        if(isSafari){\n            return \"matrix3d(\" + roundTo2Decimals(this.props[0]) + ',' + roundTo2Decimals(this.props[1]) + ',' + roundTo2Decimals(this.props[2]) + ',' + roundTo2Decimals(this.props[3]) + ',' + roundTo2Decimals(this.props[4]) + ',' + roundTo2Decimals(this.props[5]) + ',' + roundTo2Decimals(this.props[6]) + ',' + roundTo2Decimals(this.props[7]) + ',' + roundTo2Decimals(this.props[8]) + ',' + roundTo2Decimals(this.props[9]) + ',' + roundTo2Decimals(this.props[10]) + ',' + roundTo2Decimals(this.props[11]) + ',' + roundTo2Decimals(this.props[12]) + ',' + roundTo2Decimals(this.props[13]) + ',' + roundTo2Decimals(this.props[14]) + ',' + roundTo2Decimals(this.props[15]) + ')';\n        } else {\n            this.cssParts[1] = this.props.join(',');\n            return this.cssParts.join('');\n        }\n    }\n\n    function to2dCSS() {\n        return \"matrix(\" + this.props[0] + ',' + this.props[1] + ',' + this.props[4] + ',' + this.props[5] + ',' + this.props[12] + ',' + this.props[13] + \")\";\n    }\n\n    function toString() {\n        return \"\" + this.toArray();\n    }\n\n    export default function Matrix() {\n        this.reset = reset;\n        this.rotate = rotate;\n        this.rotateX = rotateX;\n        this.rotateY = rotateY;\n        this.rotateZ = rotateZ;\n        this.skew = skew;\n        this.skewFromAxis = skewFromAxis;\n        this.shear = shear;\n        this.scale = scale;\n        this.setTransform = setTransform;\n        this.translate = translate;\n        this.transform = transform;\n        this.applyToPoint = applyToPoint;\n        this.applyToX = applyToX;\n        this.applyToY = applyToY;\n        this.applyToZ = applyToZ;\n        this.applyToPointArray = applyToPointArray;\n        this.applyToPointStringified = applyToPointStringified;\n        this.toArray = toArray;\n        this.toCSS = toCSS;\n        this.to2dCSS = to2dCSS;\n        this.toString = toString;\n        this.clone = clone;\n        this.cloneFromProps = cloneFromProps;\n        this.inversePoints = inversePoints;\n        this._t = this.transform;\n\n        this.props = [1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];\n\n        this.cssParts = ['matrix3d(','',')'];\n    }\n\n\n\n\n// WEBPACK FOOTER //\n// ./js/3rd_party/Matrix.js","import {createElement} from \"../utils/common\";\nimport SVGBaseElement from \"./svgElements/SVGBaseElement\";\nexport default function ImageElement(data, parentContainer, globalData, comp, placeholder){\n    this.assetData = globalData.getAssetData(data.refId);\n    this._parent.constructor.call(this,data,parentContainer,globalData,comp,placeholder);\n}\ncreateElement(SVGBaseElement, ImageElement);\n\nImageElement.prototype.createElements = function(){\n\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n\n    this._parent.createElements.call(this);\n\n    this.innerElem = document.createElementNS(svgNS,'image');\n    this.innerElem.setAttribute('width',this.assetData.w+\"px\");\n    this.innerElem.setAttribute('height',this.assetData.h+\"px\");\n    this.innerElem.setAttribute('preserveAspectRatio','xMidYMid slice');\n    this.innerElem.setAttributeNS('http://www.w3.org/1999/xlink','href',assetPath);\n    this.maskedElement = this.innerElem;\n    this.layerElement.appendChild(this.innerElem);\n    if(this.data.ln){\n        this.layerElement.setAttribute('id',this.data.ln);\n    }\n    if(this.data.cl){\n        this.layerElement.setAttribute('class',this.data.cl);\n    }\n\n};\n\nImageElement.prototype.hide = function(){\n    if(!this.hidden){\n        this.layerElement.style.display = 'none';\n        this.hidden = true;\n    }\n};\n\nImageElement.prototype.renderFrame = function(parentMatrix){\n    var renderParent = this._parent.renderFrame.call(this,parentMatrix);\n    if(renderParent===false){\n        this.hide();\n        return;\n    }\n    if(this.hidden){\n        this.hidden = false;\n        this.layerElement.style.display = 'block';\n    }\n    if(this.firstFrame){\n        this.firstFrame = false;\n    }\n};\n\nImageElement.prototype.destroy = function(){\n    this._parent.destroy.call(this._parent);\n    this.innerElem =  null;\n};\n\n\n// WEBPACK FOOTER //\n// ./js/elements/ImageElement.js","import {bm_floor, bm_pow, bm_sqrt, defaultCurveSegments} from \"./common\";\n\nfunction bezFunction(){\n\n    var easingFunctions = [];\n    var math = Math;\n\n    function pointOnLine2D(x1,y1, x2,y2, x3,y3){\n        var det1 = (x1*y2) + (y1*x3) + (x2*y3) - (x3*y2) - (y3*x1) - (x2*y1);\n        return det1 > -0.0001 && det1 < 0.0001;\n    }\n\n    function pointOnLine3D(x1,y1,z1, x2,y2,z2, x3,y3,z3){\n        return pointOnLine2D(x1,y1, x2,y2, x3,y3) && pointOnLine2D(x1,z1, x2,z2, x3,z3);\n    }\n\n    /*function getEasingCurve(aa,bb,cc,dd,encodedFuncName) {\n        if(!encodedFuncName){\n            encodedFuncName = ('bez_' + aa+'_'+bb+'_'+cc+'_'+dd).replace(/\\./g, 'p');\n        }\n        if(easingFunctions[encodedFuncName]){\n            return easingFunctions[encodedFuncName];\n        }\n        var A0, B0, C0;\n        var A1, B1, C1;\n        easingFunctions[encodedFuncName] = function(tt) {\n            var x = tt;\n            var i = 0, z;\n            while (++i < 20) {\n                C0 = 3 * aa;\n                B0 = 3 * (cc - aa) - C0;\n                A0 = 1 - C0 - B0;\n                z = (x * (C0 + x * (B0 + x * A0))) - tt;\n                if (bm_abs(z) < 1e-3) break;\n                x -= z / (C0 + x * (2 * B0 + 3 * A0 * x));\n            }\n            C1 = 3 * bb;\n            B1 = 3 * (dd - bb) - C1;\n            A1 = 1 - C1 - B1;\n            var polyB = x * (C1 + x * (B1 + x * A1));\n            //return c * polyB + b;\n            return polyB;\n        };\n        return easingFunctions[encodedFuncName];\n    }*/\n    var getBezierLength = (function(){\n\n        function Segment(l,p){\n            this.l = l;\n            this.p = p;\n        }\n\n        return function(pt1,pt2,pt3,pt4){\n            var curveSegments = defaultCurveSegments;\n            var k;\n            var i, len;\n            var ptCoord,perc,addedLength = 0;\n            var ptDistance;\n            var point = [],lastPoint = [];\n            var lengthData = {\n                addedLength: 0,\n                segments: []\n            };\n            len = pt3.length;\n            for(k=0;k<curveSegments;k+=1){\n                perc = k/(curveSegments-1);\n                ptDistance = 0;\n                for(i=0;i<len;i+=1){\n                    ptCoord = bm_pow(1-perc,3)*pt1[i]+3*bm_pow(1-perc,2)*perc*pt3[i]+3*(1-perc)*bm_pow(perc,2)*pt4[i]+bm_pow(perc,3)*pt2[i];\n                    point[i] = ptCoord;\n                    if(lastPoint[i] !== null){\n                        ptDistance += bm_pow(point[i] - lastPoint[i],2);\n                    }\n                    lastPoint[i] = point[i];\n                }\n                if(ptDistance){\n                    ptDistance = bm_sqrt(ptDistance);\n                    addedLength += ptDistance;\n                }\n                lengthData.segments.push(new Segment(addedLength,perc));\n            }\n            lengthData.addedLength = addedLength;\n            return lengthData;\n        };\n    }());\n\n    function BezierData(length){\n        this.segmentLength = 0;\n        this.points = new Array(length);\n    }\n\n    function PointData(partial,point){\n        this.partialLength = partial;\n        this.point = point;\n    }\n\n    var buildBezierData = (function(){\n\n        var storedData = {};\n\n        return function (keyData){\n            var pt1 = keyData.s;\n            var pt2 = keyData.e;\n            var pt3 = keyData.to;\n            var pt4 = keyData.ti;\n            var bezierName = (pt1.join('_')+'_'+pt2.join('_')+'_'+pt3.join('_')+'_'+pt4.join('_')).replace(/\\./g, 'p');\n            if(storedData[bezierName]){\n                keyData.bezierData = storedData[bezierName];\n                return;\n            }\n        var curveSegments = defaultCurveSegments;\n        var k, i, len;\n            var ptCoord,perc,addedLength = 0;\n            var ptDistance;\n            var point,lastPoint = null;\n            if(pt1.length === 2 && (pt1[0] != pt2[0] || pt1[1] != pt2[1]) && pointOnLine2D(pt1[0],pt1[1],pt2[0],pt2[1],pt1[0]+pt3[0],pt1[1]+pt3[1]) && pointOnLine2D(pt1[0],pt1[1],pt2[0],pt2[1],pt2[0]+pt4[0],pt2[1]+pt4[1])){\n                curveSegments = 2;\n            }\n            var bezierData = new BezierData(curveSegments);\n            len = pt3.length;\n            for(k=0;k<curveSegments;k+=1){\n            point = new Array(len);\n                perc = k/(curveSegments-1);\n                ptDistance = 0;\n                for(i=0;i<len;i+=1){\n                ptCoord = bm_pow(1-perc,3)*pt1[i]+3*bm_pow(1-perc,2)*perc*(pt1[i] + pt3[i])+3*(1-perc)*bm_pow(perc,2)*(pt2[i] + pt4[i])+bm_pow(perc,3)*pt2[i];\n                point[i] = ptCoord;\n                    if(lastPoint !== null){\n                    ptDistance += bm_pow(point[i] - lastPoint[i],2);\n                    }\n                }\n            ptDistance = bm_sqrt(ptDistance);\n                addedLength += ptDistance;\n                bezierData.points[k] = new PointData(ptDistance,point);\n                lastPoint = point;\n            }\n            bezierData.segmentLength = addedLength;\n            keyData.bezierData = bezierData;\n            storedData[bezierName] = bezierData;\n\n        }\n    }());\n\n    function getDistancePerc(perc,bezierData){\n        var segments = bezierData.segments;\n        var len = segments.length;\n        var initPos = bm_floor((len-1)*perc);\n        var lengthPos = perc*bezierData.addedLength;\n        var lPerc = 0;\n        if(lengthPos == segments[initPos].l){\n            return segments[initPos].p;\n        }else{\n            var dir = segments[initPos].l > lengthPos ? -1 : 1;\n            var flag = true;\n            while(flag){\n                if(segments[initPos].l <= lengthPos && segments[initPos+1].l > lengthPos){\n                    lPerc = (lengthPos - segments[initPos].l)/(segments[initPos+1].l-segments[initPos].l);\n                    flag = false;\n                }else{\n                    initPos += dir;\n                }\n                if(initPos < 0 || initPos >= len - 1){\n                    flag = false;\n                }\n            }\n            return segments[initPos].p + (segments[initPos+1].p - segments[initPos].p)*lPerc;\n        }\n    }\n\n    function SegmentPoints(){\n        this.pt1 = new Array(2);\n        this.pt2 = new Array(2);\n        this.pt3 = new Array(2);\n        this.pt4 = new Array(2);\n    }\n\n    function getNewSegment(pt1,pt2,pt3,pt4,startPerc,endPerc, bezierData){\n\n        var pts = new SegmentPoints();\n        startPerc = startPerc < 0 ? 0 : startPerc > 1 ? 1 : startPerc;\n        var t0 = getDistancePerc(startPerc,bezierData);\n        endPerc = endPerc > 1 ? 1 : endPerc;\n        var t1 = getDistancePerc(endPerc,bezierData);\n        var i, len = pt1.length;\n        var u0 = 1 - t0;\n        var u1 = 1 - t1;\n        //Math.round(num * 100) / 100\n        for(i=0;i<len;i+=1){\n            pts.pt1[i] =  Math.round((u0*u0*u0* pt1[i] + (t0*u0*u0 + u0*t0*u0 + u0*u0*t0) * pt3[i] + (t0*t0*u0 + u0*t0*t0 + t0*u0*t0)* pt4[i] + t0*t0*t0* pt2[i])* 1000) / 1000;\n            pts.pt3[i] = Math.round((u0*u0*u1*pt1[i] + (t0*u0*u1 + u0*t0*u1 + u0*u0*t1)* pt3[i] + (t0*t0*u1 + u0*t0*t1 + t0*u0*t1)* pt4[i] + t0*t0*t1* pt2[i])* 1000) / 1000;\n            pts.pt4[i] = Math.round((u0*u1*u1* pt1[i] + (t0*u1*u1 + u0*t1*u1 + u0*u1*t1)* pt3[i] + (t0*t1*u1 + u0*t1*t1 + t0*u1*t1)* pt4[i] + t0*t1*t1* pt2[i])* 1000) / 1000;\n            pts.pt2[i] = Math.round((u1*u1*u1* pt1[i] + (t1*u1*u1 + u1*t1*u1 + u1*u1*t1)* pt3[i] + (t1*t1*u1 + u1*t1*t1 + t1*u1*t1)*pt4[i] + t1*t1*t1* pt2[i])* 1000) / 1000;\n        }\n        return pts;\n    }\n\n    return {\n        //getEasingCurve : getEasingCurve,\n        getBezierLength : getBezierLength,\n        getNewSegment : getNewSegment,\n        buildBezierData : buildBezierData,\n        pointOnLine2D : pointOnLine2D,\n        pointOnLine3D : pointOnLine3D\n    };\n}\n\nvar bez = bezFunction();\n\nexport default bez;\n\n\n// WEBPACK FOOTER //\n// ./js/utils/bez.js","import {roundCorner} from \"../common\";\nimport PropertyFactory from \"../PropertyFactory\";\nimport BezierFactory from \"../../3rd_party/BezierFactory\";\n\nvar ShapePropertyFactory = (function(){\n\n    var initFrame = -999999;\n\n    function interpolateShape() {\n        if(this.elem.globalData.frameId === this.frameId){\n            return;\n        }\n        this.mdf = false;\n        var frameNum = this.comp.renderedFrame - this.offsetTime;\n        if(this.lastFrame !== initFrame && ((this.lastFrame < this.keyframes[0].t-this.offsetTime && frameNum < this.keyframes[0].t-this.offsetTime) || (this.lastFrame > this.keyframes[this.keyframes.length - 1].t-this.offsetTime && frameNum > this.keyframes[this.keyframes.length - 1].t-this.offsetTime))){\n        }else{\n            var keyPropS,keyPropE,isHold;\n            if(frameNum < this.keyframes[0].t-this.offsetTime){\n                keyPropS = this.keyframes[0].s[0];\n                isHold = true;\n            }else if(frameNum >= this.keyframes[this.keyframes.length - 1].t-this.offsetTime){\n                if(this.keyframes[this.keyframes.length - 2].h === 1){\n                    //keyPropS = this.keyframes[this.keyframes.length - 1].s ? this.keyframes[this.keyframes.length - 1].s[0] : this.keyframes[this.keyframes.length - 2].s[0];\n                    keyPropS = this.keyframes[this.keyframes.length - 1].s[0];\n                }else{\n                    keyPropS = this.keyframes[this.keyframes.length - 2].e[0];\n                }\n                isHold = true;\n            }else{\n                var i = 0,len = this.keyframes.length- 1,flag = true,keyData,nextKeyData, j, jLen, k, kLen;\n                while(flag){\n                    keyData = this.keyframes[i];\n                    nextKeyData = this.keyframes[i+1];\n                    if((nextKeyData.t - this.offsetTime) > frameNum){\n                        break;\n                    }\n                    if(i < len - 1){\n                        i += 1;\n                    }else{\n                        flag = false;\n                    }\n                }\n                isHold = keyData.h === 1;\n                if(isHold && i === len){\n                    keyData = nextKeyData;\n                }\n\n                var perc;\n                if(!isHold){\n                    var fnc;\n                    if(keyData.__fnct){\n                        fnc = keyData.__fnct;\n                    }else{\n                        //fnc = bez.getEasingCurve(keyData.o.x,keyData.o.y,keyData.i.x,keyData.i.y);\n                        fnc = BezierFactory.getBezierEasing(keyData.o.x,keyData.o.y,keyData.i.x,keyData.i.y).get;\n                        keyData.__fnct = fnc;\n                    }\n                    if(frameNum >= nextKeyData.t-this.offsetTime){\n                        perc = 1;\n                    }else if(frameNum < keyData.t-this.offsetTime){\n                        perc = 0;\n                    }else{\n                        perc = fnc((frameNum-(keyData.t-this.offsetTime))/((nextKeyData.t-this.offsetTime)-(keyData.t-this.offsetTime)));\n                    }\n                    keyPropE = keyData.e[0];\n                }\n                keyPropS = keyData.s[0];\n            }\n            jLen = this.v.i.length;\n            kLen = keyPropS.i[0].length;\n            var hasModified = false;\n            var vertexValue;\n            for(j=0;j<jLen;j+=1){\n                for(k=0;k<kLen;k+=1){\n                    if(isHold){\n                        vertexValue = keyPropS.i[j][k];\n                        if(this.v.i[j][k] !== vertexValue){\n                            this.v.i[j][k] = vertexValue;\n                            this.pv.i[j][k] = vertexValue;\n                            hasModified = true;\n                        }\n                        vertexValue = keyPropS.o[j][k];\n                        if(this.v.o[j][k] !== vertexValue){\n                            this.v.o[j][k] = vertexValue;\n                            this.pv.o[j][k] = vertexValue;\n                            hasModified = true;\n                        }\n                        vertexValue = keyPropS.v[j][k];\n                        if(this.v.v[j][k] !== vertexValue){\n                            this.v.v[j][k] = vertexValue;\n                            this.pv.v[j][k] = vertexValue;\n                            hasModified = true;\n                        }\n                    }else{\n                        vertexValue = keyPropS.i[j][k]+(keyPropE.i[j][k]-keyPropS.i[j][k])*perc;\n                        if(this.v.i[j][k] !== vertexValue){\n                            this.v.i[j][k] = vertexValue;\n                            this.pv.i[j][k] = vertexValue;\n                            hasModified = true;\n                        }\n                        vertexValue = keyPropS.o[j][k]+(keyPropE.o[j][k]-keyPropS.o[j][k])*perc;\n                        if(this.v.o[j][k] !== vertexValue){\n                            this.v.o[j][k] = vertexValue;\n                            this.pv.o[j][k] = vertexValue;\n                            hasModified = true;\n                        }\n                        vertexValue = keyPropS.v[j][k]+(keyPropE.v[j][k]-keyPropS.v[j][k])*perc;\n                        if(this.v.v[j][k] !== vertexValue){\n                            this.v.v[j][k] = vertexValue;\n                            this.pv.v[j][k] = vertexValue;\n                            hasModified = true;\n                        }\n                    }\n                }\n            }\n            this.mdf = hasModified;\n            this.paths.length = 0;\n            this.v.c = keyPropS.c;\n            this.paths[0] = this.v;\n        }\n\n        this.lastFrame = frameNum;\n        this.frameId = this.elem.globalData.frameId;\n    }\n\n    function getShapeValue(){\n        return this.v;\n    }\n\n    function resetShape(){\n        this.resetPaths.length = 1;\n        this.resetPaths[0] = this.v;\n        this.paths = this.resetPaths;\n        if(!this.k){\n            this.mdf = false;\n        }\n    }\n\n    function ShapeProperty(elem, data, type){\n        this.resetPaths = [];\n        this.comp = elem.comp;\n        this.k = false;\n        this.mdf = false;\n        this.numNodes = type === 3 ? data.pt.k.v.length : data.ks.k.v.length;\n        this.v = type === 3 ? data.pt.k : data.ks.k;\n        this.getValue = getShapeValue;\n        this.pv = this.v;\n        this.paths = [this.v];\n        this.reset = resetShape;\n    }\n\n    function KeyframedShapeProperty(elem,data,type){\n        this.resetPaths = [];\n        this.comp = elem.comp;\n        this.elem = elem;\n        this.offsetTime = elem.data.st;\n        this.getValue = interpolateShape;\n        this.keyframes = type === 3 ? data.pt.k : data.ks.k;\n        this.k = true;\n        var i, len = this.keyframes[0].s[0].i.length;\n        var jLen = this.keyframes[0].s[0].i[0].length;\n        this.numNodes = len;\n        this.v = {\n            i: Array.apply(null,{length:len}),\n            o: Array.apply(null,{length:len}),\n            v: Array.apply(null,{length:len}),\n            c: this.keyframes[0].s[0].c\n        };\n        this.pv = {\n            i: Array.apply(null,{length:len}),\n            o: Array.apply(null,{length:len}),\n            v: Array.apply(null,{length:len}),\n            c: this.keyframes[0].s[0].c\n        };\n        for(i=0;i<len;i+=1){\n            this.v.i[i] = Array.apply(null,{length:jLen});\n            this.v.o[i] = Array.apply(null,{length:jLen});\n            this.v.v[i] = Array.apply(null,{length:jLen});\n            this.pv.i[i] = Array.apply(null,{length:jLen});\n            this.pv.o[i] = Array.apply(null,{length:jLen});\n            this.pv.v[i] = Array.apply(null,{length:jLen});\n        }\n        this.paths = [];\n        this.lastFrame = initFrame;\n        this.reset = resetShape;\n    }\n\n    var EllShapeProperty = (function(){\n\n        var cPoint = roundCorner;\n\n        function convertEllToPath(){\n            var p0 = this.p.v[0], p1 = this.p.v[1], s0 = this.s.v[0]/2, s1 = this.s.v[1]/2;\n            if(this.d !== 2 && this.d !== 3){\n                this.v.v[0] = [p0,p1-s1];\n                this.v.i[0] = [p0 - s0*cPoint,p1 - s1];\n                this.v.o[0] = [p0 + s0*cPoint,p1 - s1];\n                this.v.v[1] = [p0 + s0,p1];\n                this.v.i[1] = [p0 + s0,p1 - s1*cPoint];\n                this.v.o[1] = [p0 + s0,p1 + s1*cPoint];\n                this.v.v[2] = [p0,p1+s1];\n                this.v.i[2] = [p0 + s0*cPoint,p1 + s1];\n                this.v.o[2] = [p0 - s0*cPoint,p1 + s1];\n                this.v.v[3] = [p0 - s0,p1];\n                this.v.i[3] = [p0 - s0,p1 + s1*cPoint];\n                this.v.o[3] = [p0 - s0,p1 - s1*cPoint];\n            }else{\n                this.v.v[0] = [p0,p1-s1];\n                this.v.o[0] = [p0 - s0*cPoint,p1 - s1];\n                this.v.i[0] = [p0 + s0*cPoint,p1 - s1];\n                this.v.v[1] = [p0 - s0,p1];\n                this.v.o[1] = [p0 - s0,p1 + s1*cPoint];\n                this.v.i[1] = [p0 - s0,p1 - s1*cPoint];\n                this.v.v[2] = [p0,p1+s1];\n                this.v.o[2] = [p0 + s0*cPoint,p1 + s1];\n                this.v.i[2] = [p0 - s0*cPoint,p1 + s1];\n                this.v.v[3] = [p0 + s0,p1];\n                this.v.o[3] = [p0 + s0,p1 - s1*cPoint];\n                this.v.i[3] = [p0 + s0,p1 + s1*cPoint];\n            }\n            this.paths.length = 0;\n            this.paths[0] = this.v;\n        }\n\n        function processKeys(frameNum){\n            var i, len = this.dynamicProperties.length;\n            if(this.elem.globalData.frameId === this.frameId){\n                return;\n            }\n            this.mdf = false;\n            this.frameId = this.elem.globalData.frameId;\n\n            for(i=0;i<len;i+=1){\n                this.dynamicProperties[i].getValue(frameNum);\n                if(this.dynamicProperties[i].mdf){\n                    this.mdf = true;\n                }\n            }\n            if(this.mdf){\n                this.convertEllToPath();\n                this.paths.length = 0;\n                this.paths[0] = this.v;\n            }\n        }\n\n        return function EllShapeProperty(elem,data) {\n            this.v = {\n                v: Array.apply(null,{length:4}),\n                i: Array.apply(null,{length:4}),\n                o: Array.apply(null,{length:4}),\n                c: true\n            };\n            this.numNodes = 4;\n            this.d = data.d;\n            this.dynamicProperties = [];\n            this.resetPaths = [];\n            this.paths = [];\n            this.elem = elem;\n            this.comp = elem.comp;\n            this.frameId = -1;\n            this.mdf = false;\n            this.getValue = processKeys;\n            this.convertEllToPath = convertEllToPath;\n            this.reset = resetShape;\n            this.p = PropertyFactory.getProp(elem,data.p,1,0,this.dynamicProperties);\n            this.s = PropertyFactory.getProp(elem,data.s,1,0,this.dynamicProperties);\n            if(this.dynamicProperties.length){\n                this.k = true;\n            }else{\n                this.convertEllToPath();\n            }\n        }\n    }());\n\n    var StarShapeProperty = (function() {\n\n        function convertPolygonToPath(){\n            var numPts = Math.floor(this.pt.v);\n            var angle = Math.PI*2/numPts;\n            this.v.v.length = numPts;\n            this.v.i.length = numPts;\n            this.v.o.length = numPts;\n            var rad = this.or.v;\n            var roundness = this.os.v;\n            var perimSegment = 2*Math.PI*rad/(numPts*4);\n            var i, currentAng = -Math.PI/ 2;\n            var dir = this.data.d === 3 ? -1 : 1;\n            currentAng += this.r.v;\n            for(i=0;i<numPts;i+=1){\n                var x = rad * Math.cos(currentAng);\n                var y = rad * Math.sin(currentAng);\n                var ox = x === 0 && y === 0 ? 0 : y/Math.sqrt(x*x + y*y);\n                var oy = x === 0 && y === 0 ? 0 : -x/Math.sqrt(x*x + y*y);\n                x +=  + this.p.v[0];\n                y +=  + this.p.v[1];\n                this.v.v[i] = [x,y];\n                this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\n                this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\n                currentAng += angle*dir;\n            }\n            this.numNodes = numPts;\n            this.paths.length = 0;\n            this.paths[0] = this.v;\n        }\n\n        function convertStarToPath() {\n            var numPts = Math.floor(this.pt.v)*2;\n            var angle = Math.PI*2/numPts;\n            this.v.v.length = numPts;\n            this.v.i.length = numPts;\n            this.v.o.length = numPts;\n            var longFlag = true;\n            var longRad = this.or.v;\n            var shortRad = this.ir.v;\n            var longRound = this.os.v;\n            var shortRound = this.is.v;\n            var longPerimSegment = 2*Math.PI*longRad/(numPts*2);\n            var shortPerimSegment = 2*Math.PI*shortRad/(numPts*2);\n            var i, rad,roundness,perimSegment, currentAng = -Math.PI/ 2;\n            currentAng += this.r.v;\n            var dir = this.data.d === 3 ? -1 : 1;\n            for(i=0;i<numPts;i+=1){\n                rad = longFlag ? longRad : shortRad;\n                roundness = longFlag ? longRound : shortRound;\n                perimSegment = longFlag ? longPerimSegment : shortPerimSegment;\n                var x = rad * Math.cos(currentAng);\n                var y = rad * Math.sin(currentAng);\n                var ox = x === 0 && y === 0 ? 0 : y/Math.sqrt(x*x + y*y);\n                var oy = x === 0 && y === 0 ? 0 : -x/Math.sqrt(x*x + y*y);\n                x +=  + this.p.v[0];\n                y +=  + this.p.v[1];\n                this.v.v[i] = [x,y];\n                this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\n                this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\n                longFlag = !longFlag;\n                currentAng += angle*dir;\n            }\n            this.numNodes = numPts;\n            this.paths.length = 0;\n            this.paths[0] = this.v;\n        }\n\n        function processKeys() {\n            if(this.elem.globalData.frameId === this.frameId){\n                return;\n            }\n            this.mdf = false;\n            this.frameId = this.elem.globalData.frameId;\n            var i, len = this.dynamicProperties.length;\n\n            for(i=0;i<len;i+=1){\n                this.dynamicProperties[i].getValue();\n                if(this.dynamicProperties[i].mdf){\n                    this.mdf = true;\n                }\n            }\n            if(this.mdf){\n                this.convertToPath();\n            }\n        }\n\n        return function StarShapeProperty(elem,data) {\n            this.v = {\n                v: [],\n                i: [],\n                o: [],\n                c: true\n            };\n            this.resetPaths = [];\n            this.elem = elem;\n            this.comp = elem.comp;\n            this.data = data;\n            this.frameId = -1;\n            this.d = data.d;\n            this.dynamicProperties = [];\n            this.mdf = false;\n            this.getValue = processKeys;\n            this.reset = resetShape;\n            if(data.sy === 1){\n                this.ir = PropertyFactory.getProp(elem,data.ir,0,0,this.dynamicProperties);\n                this.is = PropertyFactory.getProp(elem,data.is,0,0.01,this.dynamicProperties);\n                this.convertToPath = convertStarToPath;\n            } else {\n                this.convertToPath = convertPolygonToPath;\n            }\n            this.pt = PropertyFactory.getProp(elem,data.pt,0,0,this.dynamicProperties);\n            this.p = PropertyFactory.getProp(elem,data.p,1,0,this.dynamicProperties);\n            this.r = PropertyFactory.getProp(elem,data.r,0,degToRads,this.dynamicProperties);\n            this.or = PropertyFactory.getProp(elem,data.or,0,0,this.dynamicProperties);\n            this.os = PropertyFactory.getProp(elem,data.os,0,0.01,this.dynamicProperties);\n            this.paths = [];\n            if(this.dynamicProperties.length){\n                this.k = true;\n            }else{\n                this.convertToPath();\n            }\n        }\n    }());\n\n    var RectShapeProperty = (function() {\n        function processKeys(frameNum){\n            if(this.elem.globalData.frameId === this.frameId){\n                return;\n            }\n            this.mdf = false;\n            this.frameId = this.elem.globalData.frameId;\n            var i, len = this.dynamicProperties.length;\n\n            for(i=0;i<len;i+=1){\n                this.dynamicProperties[i].getValue(frameNum);\n                if(this.dynamicProperties[i].mdf){\n                    this.mdf = true;\n                }\n            }\n            if(this.mdf){\n                this.convertRectToPath();\n            }\n\n        }\n\n        function convertRectToPath(){\n            var p0 = this.p.v[0], p1 = this.p.v[1], v0 = this.s.v[0]/2, v1 = this.s.v[1]/2;\n            var round = bm_min(v0,v1,this.r.v);\n            var cPoint = round*(1-roundCorner);\n            if(round === 0){\n                this.v.v.length = 4;\n                this.v.i.length = 4;\n                this.v.o.length = 4;\n            } else {\n                this.v.v.length = 8;\n                this.v.i.length = 8;\n                this.v.o.length = 8;\n            }\n\n            if(this.d === 2 || this.d === 1) {\n\n                this.v.v[0] = [p0+v0,p1-v1+round];\n                this.v.o[0] = this.v.v[0];\n                this.v.i[0] = [p0+v0,p1-v1+cPoint];\n\n                this.v.v[1] = [p0+v0,p1+v1-round];\n                this.v.o[1] = [p0+v0,p1+v1-cPoint];\n                this.v.i[1] = this.v.v[1];\n\n                if(round!== 0){\n                    this.v.v[2] = [p0+v0-round,p1+v1];\n                    this.v.o[2] = this.v.v[2];\n                    this.v.i[2] = [p0+v0-cPoint,p1+v1];\n                    this.v.v[3] = [p0-v0+round,p1+v1];\n                    this.v.o[3] = [p0-v0+cPoint,p1+v1];\n                    this.v.i[3] = this.v.v[3];\n                    this.v.v[4] = [p0-v0,p1+v1-round];\n                    this.v.o[4] = this.v.v[4];\n                    this.v.i[4] = [p0-v0,p1+v1-cPoint];\n                    this.v.v[5] = [p0-v0,p1-v1+round];\n                    this.v.o[5] = [p0-v0,p1-v1+cPoint];\n                    this.v.i[5] = this.v.v[5];\n                    this.v.v[6] = [p0-v0+round,p1-v1];\n                    this.v.o[6] = this.v.v[6];\n                    this.v.i[6] = [p0-v0+cPoint,p1-v1];\n                    this.v.v[7] = [p0+v0-round,p1-v1];\n                    this.v.o[7] = [p0+v0-cPoint,p1-v1];\n                    this.v.i[7] = this.v.v[7];\n                } else {\n                    this.v.v[2] = [p0-v0+round,p1+v1];\n                    this.v.o[2] = [p0-v0+cPoint,p1+v1];\n                    this.v.i[2] = this.v.v[2];\n                    this.v.v[3] = [p0-v0,p1-v1+round];\n                    this.v.o[3] = [p0-v0,p1-v1+cPoint];\n                    this.v.i[3] = this.v.v[3];\n                }\n            }else{\n                this.v.v[0] = [p0+v0,p1-v1+round];\n                this.v.o[0] = [p0+v0,p1-v1+cPoint];\n                this.v.i[0] = this.v.v[0];\n\n                if(round!== 0){\n                    this.v.v[1] = [p0+v0-round,p1-v1];\n                    this.v.o[1] = this.v.v[1];\n                    this.v.i[1] = [p0+v0-cPoint,p1-v1];\n\n                    this.v.v[2] = [p0-v0+round,p1-v1];\n                    this.v.o[2] = [p0-v0+cPoint,p1-v1];\n                    this.v.i[2] = this.v.v[2];\n\n                    this.v.v[3] = [p0-v0,p1-v1+round];\n                    this.v.o[3] = this.v.v[3];\n                    this.v.i[3] = [p0-v0,p1-v1+cPoint];\n\n                    this.v.v[4] = [p0-v0,p1+v1-round];\n                    this.v.o[4] = [p0-v0,p1+v1-cPoint];\n                    this.v.i[4] = this.v.v[4];\n\n                    this.v.v[5] = [p0-v0+round,p1+v1];\n                    this.v.o[5] = this.v.v[5];\n                    this.v.i[5] = [p0-v0+cPoint,p1+v1];\n\n                    this.v.v[6] = [p0+v0-round,p1+v1];\n                    this.v.o[6] = [p0+v0-cPoint,p1+v1];\n                    this.v.i[6] = this.v.v[6];\n\n                    this.v.v[7] = [p0+v0,p1+v1-round];\n                    this.v.o[7] = this.v.v[7];\n                    this.v.i[7] = [p0+v0,p1+v1-cPoint];\n                } else {\n                    this.v.v[1] = [p0-v0+round,p1-v1];\n                    this.v.o[1] = [p0-v0+cPoint,p1-v1];\n                    this.v.i[1] = this.v.v[1];\n                    this.v.v[2] = [p0-v0,p1+v1-round];\n                    this.v.o[2] = [p0-v0,p1+v1-cPoint];\n                    this.v.i[2] = this.v.v[2];\n                    this.v.v[3] = [p0+v0-round,p1+v1];\n                    this.v.o[3] = [p0+v0-cPoint,p1+v1];\n                    this.v.i[3] = this.v.v[3];\n\n                }\n            }\n            this.paths.length = 0;\n            this.paths[0] = this.v;\n        }\n\n        return function RectShapeProperty(elem,data) {\n            this.v = {\n                v: Array.apply(null,{length:8}),\n                i: Array.apply(null,{length:8}),\n                o: Array.apply(null,{length:8}),\n                c: true\n            };\n            this.resetPaths = [];\n            this.paths = [];\n            this.numNodes = 8;\n            this.elem = elem;\n            this.comp = elem.comp;\n            this.frameId = -1;\n            this.d = data.d;\n            this.dynamicProperties = [];\n            this.mdf = false;\n            this.getValue = processKeys;\n            this.convertRectToPath = convertRectToPath;\n            this.reset = resetShape;\n            this.p = PropertyFactory.getProp(elem,data.p,1,0,this.dynamicProperties);\n            this.s = PropertyFactory.getProp(elem,data.s,1,0,this.dynamicProperties);\n            this.r = PropertyFactory.getProp(elem,data.r,0,0,this.dynamicProperties);\n            if(this.dynamicProperties.length){\n                this.k = true;\n            }else{\n                this.convertRectToPath();\n            }\n        }\n    }());\n\n    function getShapeProp(elem,data,type, arr){\n        var prop;\n        if(type === 3 || type === 4){\n            var dataProp = type === 3 ? data.pt : data.ks;\n            var keys = dataProp.k;\n            if(dataProp.a === 1 || keys.length){\n                prop = new KeyframedShapeProperty(elem, data, type);\n            }else{\n                prop = new ShapeProperty(elem, data, type);\n            }\n        }else if(type === 5){\n            prop = new RectShapeProperty(elem, data);\n        }else if(type === 6){\n            prop = new EllShapeProperty(elem, data);\n        }else if(type === 7){\n            prop = new StarShapeProperty(elem, data);\n        }\n        if(prop.k){\n            arr.push(prop);\n        }\n        return prop;\n    }\n\n    var ob = {};\n    ob.getShapeProp = getShapeProp;\n    return ob;\n}());\n\nexport default ShapePropertyFactory;\n\n\n// WEBPACK FOOTER //\n// ./js/utils/shapes/ShapePropertyFactory.js","import AnimationItem from \"./AnimationItem\";\nvar AnimationManager = {};\nvar registeredAnimations = [];\nvar initTime = 0;\nvar len = 0;\nvar idled = true;\nvar playingAnimationsNum = 0;\n\nfunction removeElement(ev){\n    var i = 0;\n    var animItem = ev.target;\n    while(i<len) {\n        if (registeredAnimations[i].animation === animItem) {\n            registeredAnimations.splice(i, 1);\n            i -= 1;\n            len -= 1;\n            if(!animItem.isPaused){\n                subtractPlayingCount();\n            }\n        }\n        i += 1;\n    }\n}\n\nfunction registerAnimation(element, animationData){\n    if(!element){\n        return null;\n    }\n    var i=0;\n    while(i<len){\n        if(registeredAnimations[i].elem == element && registeredAnimations[i].elem !== null ){\n            return registeredAnimations[i].animation;\n        }\n        i+=1;\n    }\n    var animItem = new AnimationItem();\n    setupAnimation(animItem, element);\n    animItem.setData(element, animationData);\n    return animItem;\n}\n\nfunction addPlayingCount(){\n    playingAnimationsNum += 1;\n    activate();\n}\n\nfunction subtractPlayingCount(){\n    playingAnimationsNum -= 1;\n    if(playingAnimationsNum === 0){\n        idled = true;\n    }\n}\n\nfunction setupAnimation(animItem, element){\n    animItem.addEventListener('destroy',removeElement);\n    animItem.addEventListener('_active',addPlayingCount);\n    animItem.addEventListener('_idle',subtractPlayingCount);\n    registeredAnimations.push({elem: element,animation:animItem});\n    len += 1;\n}\n\nfunction loadAnimation(params){\n    var animItem = new AnimationItem();\n    setupAnimation(animItem, null);\n    animItem.setParams(params);\n    return animItem;\n}\n\n\nfunction setSpeed(val,animation){\n    var i;\n    for(i=0;i<len;i+=1){\n        registeredAnimations[i].animation.setSpeed(val, animation);\n    }\n}\n\nfunction setDirection(val, animation){\n    var i;\n    for(i=0;i<len;i+=1){\n        registeredAnimations[i].animation.setDirection(val, animation);\n    }\n}\n\nfunction play(animation){\n    var i;\n    for(i=0;i<len;i+=1){\n        registeredAnimations[i].animation.play(animation);\n    }\n}\n\nfunction moveFrame (value, animation) {\n    initTime = Date.now();\n    var i;\n    for(i=0;i<len;i+=1){\n        registeredAnimations[i].animation.moveFrame(value,animation);\n    }\n}\n\nfunction resume(nowTime) {\n\n    var elapsedTime = nowTime - initTime;\n    var i;\n    for(i=0;i<len;i+=1){\n        registeredAnimations[i].animation.advanceTime(elapsedTime);\n    }\n    initTime = nowTime;\n    if(!idled) {\n        requestAnimationFrame(resume);\n    }\n}\n\nfunction first(nowTime){\n    initTime = nowTime;\n    requestAnimationFrame(resume);\n}\n\nfunction pause(animation) {\n    var i;\n    for(i=0;i<len;i+=1){\n        registeredAnimations[i].animation.pause(animation);\n    }\n}\n\nfunction goToAndStop(value,isFrame,animation) {\n    var i;\n    for(i=0;i<len;i+=1){\n        registeredAnimations[i].animation.goToAndStop(value,isFrame,animation);\n    }\n}\n\nfunction stop(animation) {\n    var i;\n    for(i=0;i<len;i+=1){\n        registeredAnimations[i].animation.stop(animation);\n    }\n}\n\nfunction togglePause(animation) {\n    var i;\n    for(i=0;i<len;i+=1){\n        registeredAnimations[i].animation.togglePause(animation);\n    }\n}\n\nfunction destroy(animation) {\n    var i;\n    for(i=(len-1);i>=0;i-=1){\n        registeredAnimations[i].animation.destroy(animation);\n    }\n}\n\nfunction searchAnimations(animationData, standalone, renderer){\n    var animElements = document.getElementsByClassName('bodymovin');\n    var i, len = animElements.length;\n    for(i=0;i<len;i+=1){\n        if(renderer){\n            animElements[i].setAttribute('data-bm-type',renderer);\n        }\n        registerAnimation(animElements[i], animationData);\n    }\n    if(standalone && len === 0){\n        if(!renderer){\n            renderer = 'svg';\n        }\n        var body = document.getElementsByTagName('body')[0];\n        body.innerHTML = '';\n        var div = document.createElement('div');\n        div.style.width = '100%';\n        div.style.height = '100%';\n        div.setAttribute('data-bm-type',renderer);\n        body.appendChild(div);\n        registerAnimation(div, animationData);\n    }\n}\n\nfunction resize(){\n    var i;\n    for(i=0;i<len;i+=1){\n        registeredAnimations[i].animation.resize();\n    }\n}\n\nfunction start(){\n    requestAnimationFrame(first);\n}\n\nfunction activate(){\n    if(idled){\n        idled = false;\n        requestAnimationFrame(first);\n    }\n}\n\n//start();\n\nsetTimeout(start,0);\n\nAnimationManager.registerAnimation = registerAnimation;\nAnimationManager.loadAnimation = loadAnimation;\nAnimationManager.setSpeed = setSpeed;\nAnimationManager.setDirection = setDirection;\nAnimationManager.play = play;\nAnimationManager.moveFrame = moveFrame;\nAnimationManager.pause = pause;\nAnimationManager.stop = stop;\nAnimationManager.togglePause = togglePause;\nAnimationManager.searchAnimations = searchAnimations;\nAnimationManager.resize = resize;\nAnimationManager.start = start;\nAnimationManager.goToAndStop = goToAndStop;\nAnimationManager.destroy = destroy;\n\nexport default AnimationManager;\n\n\n// WEBPACK FOOTER //\n// ./js/animation/AnimationManager.js","import {\n\t_addEventListener, _removeEventListener, _triggerEvent, expressionsPlugin, ProjectInterface, randomString,\n\tsubframeEnabled\n} from \"../utils/common\";\nimport CanvasRenderer from \"../renderers/CanvasRenderer\";\nimport SVGRenderer from \"../renderers/SVGRenderer\";\nimport HybridRenderer from \"../renderers/HybridRenderer\";\nimport ImagePreloader from \"../utils/ImagePreloader\";\nimport DataManager from \"../utils/DataManager\";\n\n\nexport default function AnimationItem() {\n    this._cbs = [];\n    this.name = '';\n    this.path = '';\n    this.isLoaded = false;\n    this.currentFrame = 0;\n    this.currentRawFrame = 0;\n    this.totalFrames = 0;\n    this.frameRate = 0;\n    this.frameMult = 0;\n    this.playSpeed = 1;\n    this.playDirection = 1;\n    this.pendingElements = 0;\n    this.playCount = 0;\n    this.prerenderFramesFlag = true;\n    this.animationData = {};\n    this.layers = [];\n    this.assets = [];\n    this.isPaused = true;\n    this.autoplay = false;\n    this.loop = true;\n    this.renderer = null;\n    this.animationID = randomString(10);\n    this.scaleMode = 'fit';\n    this.assetsPath = '';\n    this.timeCompleted = 0;\n    this.segmentPos = 0;\n    this.subframeEnabled = subframeEnabled;\n    this.segments = [];\n    this.pendingSegment = false;\n    this._idle = true;\n    this.projectInterface = ProjectInterface();\n};\n\nAnimationItem.prototype.setParams = function(params) {\n    var self = this;\n    if(params.context){\n        this.context = params.context;\n    }\n    if(params.wrapper || params.container){\n        this.wrapper = params.wrapper || params.container;\n    }\n    var animType = params.animType ? params.animType : params.renderer ? params.renderer : 'svg';\n    switch(animType){\n        case 'canvas':\n            this.renderer = new CanvasRenderer(this, params.rendererSettings);\n            break;\n        case 'svg':\n            this.renderer = new SVGRenderer(this, params.rendererSettings);\n            break;\n        case 'hybrid':\n        case 'html':\n        default:\n            this.renderer = new HybridRenderer(this, params.rendererSettings);\n            break;\n    }\n    this.renderer.setProjectInterface(this.projectInterface);\n    this.animType = animType;\n\n    if(params.loop === '' || params.loop === null){\n    }else if(params.loop === false){\n        this.loop = false;\n    }else if(params.loop === true){\n        this.loop = true;\n    }else{\n        this.loop = parseInt(params.loop);\n    }\n    this.autoplay = 'autoplay' in params ? params.autoplay : true;\n    this.name = params.name ? params.name :  '';\n    this.prerenderFramesFlag = 'prerender' in params ? params.prerender : true;\n    this.autoloadSegments = params.hasOwnProperty('autoloadSegments') ? params.autoloadSegments :  true;\n    if(params.animationData){\n        self.configAnimation(params.animationData);\n    }else if(params.path){\n        if(params.path.substr(-4) != 'json'){\n            if (params.path.substr(-1, 1) != '/') {\n                params.path += '/';\n            }\n            params.path += 'data.json';\n        }\n\n        var xhr = new XMLHttpRequest();\n        if(params.path.lastIndexOf('\\\\') != -1){\n            this.path = params.path.substr(0,params.path.lastIndexOf('\\\\')+1);\n        }else{\n            this.path = params.path.substr(0,params.path.lastIndexOf('/')+1);\n        }\n        this.assetsPath = params.assetsPath;\n        this.fileName = params.path.substr(params.path.lastIndexOf('/')+1);\n        this.fileName = this.fileName.substr(0,this.fileName.lastIndexOf('.json'));\n        xhr.open('GET', params.path, true);\n        xhr.send();\n        xhr.onreadystatechange = function () {\n            if (xhr.readyState == 4) {\n                if(xhr.status == 200){\n                    self.configAnimation(JSON.parse(xhr.responseText));\n                }else{\n                    try{\n                        var response = JSON.parse(xhr.responseText);\n                        self.configAnimation(response);\n                    }catch(err){\n                    }\n                }\n            }\n        };\n    }\n};\n\nAnimationItem.prototype.setData = function (wrapper, animationData) {\n    var params = {\n        wrapper: wrapper,\n        animationData: animationData ? (typeof animationData  === \"object\") ? animationData : JSON.parse(animationData) : null\n    };\n    var wrapperAttributes = wrapper.attributes;\n\n    params.path = wrapperAttributes.getNamedItem('data-animation-path') ? wrapperAttributes.getNamedItem('data-animation-path').value : wrapperAttributes.getNamedItem('data-bm-path') ? wrapperAttributes.getNamedItem('data-bm-path').value :  wrapperAttributes.getNamedItem('bm-path') ? wrapperAttributes.getNamedItem('bm-path').value : '';\n    params.animType = wrapperAttributes.getNamedItem('data-anim-type') ? wrapperAttributes.getNamedItem('data-anim-type').value : wrapperAttributes.getNamedItem('data-bm-type') ? wrapperAttributes.getNamedItem('data-bm-type').value : wrapperAttributes.getNamedItem('bm-type') ? wrapperAttributes.getNamedItem('bm-type').value :  wrapperAttributes.getNamedItem('data-bm-renderer') ? wrapperAttributes.getNamedItem('data-bm-renderer').value : wrapperAttributes.getNamedItem('bm-renderer') ? wrapperAttributes.getNamedItem('bm-renderer').value : 'canvas';\n\n    var loop = wrapperAttributes.getNamedItem('data-anim-loop') ? wrapperAttributes.getNamedItem('data-anim-loop').value :  wrapperAttributes.getNamedItem('data-bm-loop') ? wrapperAttributes.getNamedItem('data-bm-loop').value :  wrapperAttributes.getNamedItem('bm-loop') ? wrapperAttributes.getNamedItem('bm-loop').value : '';\n    if(loop === ''){\n    }else if(loop === 'false'){\n        params.loop = false;\n    }else if(loop === 'true'){\n        params.loop = true;\n    }else{\n        params.loop = parseInt(loop);\n    }\n    var autoplay = wrapperAttributes.getNamedItem('data-anim-autoplay') ? wrapperAttributes.getNamedItem('data-anim-autoplay').value :  wrapperAttributes.getNamedItem('data-bm-autoplay') ? wrapperAttributes.getNamedItem('data-bm-autoplay').value :  wrapperAttributes.getNamedItem('bm-autoplay') ? wrapperAttributes.getNamedItem('bm-autoplay').value : true;\n    params.autoplay = autoplay !== \"false\";\n\n    params.name = wrapperAttributes.getNamedItem('data-name') ? wrapperAttributes.getNamedItem('data-name').value :  wrapperAttributes.getNamedItem('data-bm-name') ? wrapperAttributes.getNamedItem('data-bm-name').value : wrapperAttributes.getNamedItem('bm-name') ? wrapperAttributes.getNamedItem('bm-name').value :  '';\n    var prerender = wrapperAttributes.getNamedItem('data-anim-prerender') ? wrapperAttributes.getNamedItem('data-anim-prerender').value :  wrapperAttributes.getNamedItem('data-bm-prerender') ? wrapperAttributes.getNamedItem('data-bm-prerender').value :  wrapperAttributes.getNamedItem('bm-prerender') ? wrapperAttributes.getNamedItem('bm-prerender').value : '';\n\n    if(prerender === 'false'){\n        params.prerender = false;\n    }\n    this.setParams(params);\n};\n\nAnimationItem.prototype.includeLayers = function(data) {\n    if(data.op > this.animationData.op){\n        this.animationData.op = data.op;\n        this.totalFrames = Math.floor(data.op - this.animationData.ip);\n        this.animationData.tf = this.totalFrames;\n    }\n    var layers = this.animationData.layers;\n    var i, len = layers.length;\n    var newLayers = data.layers;\n    var j, jLen = newLayers.length;\n    for(j=0;j<jLen;j+=1){\n        i = 0;\n        while(i<len){\n            if(layers[i].id == newLayers[j].id){\n                layers[i] = newLayers[j];\n                break;\n            }\n            i += 1;\n        }\n    }\n    if(data.chars || data.fonts){\n        this.renderer.globalData.fontManager.addChars(data.chars);\n        this.renderer.globalData.fontManager.addFonts(data.fonts, this.renderer.globalData.defs);\n    }\n    if(data.assets){\n        len = data.assets.length;\n        for(i = 0; i < len; i += 1){\n            this.animationData.assets.push(data.assets[i]);\n        }\n    }\n    //this.totalFrames = 50;\n    //this.animationData.tf = 50;\n    this.animationData.__complete = false;\n    DataManager.completeData(this.animationData,this.renderer.globalData.fontManager);\n    this.renderer.includeLayers(data.layers);\n    if(expressionsPlugin){\n        expressionsPlugin.initExpressions(this);\n    }\n    this.renderer.renderFrame(null);\n    this.loadNextSegment();\n};\n\nAnimationItem.prototype.loadNextSegment = function() {\n    var segments = this.animationData.segments;\n    if(!segments || segments.length === 0 || !this.autoloadSegments){\n        this.trigger('data_ready');\n        this.timeCompleted = this.animationData.tf;\n        return;\n    }\n    var segment = segments.shift();\n    this.timeCompleted = segment.time * this.frameRate;\n    var xhr = new XMLHttpRequest();\n    var self = this;\n    var segmentPath = this.path+this.fileName+'_' + this.segmentPos + '.json';\n    this.segmentPos += 1;\n    xhr.open('GET', segmentPath, true);\n    xhr.send();\n    xhr.onreadystatechange = function () {\n        if (xhr.readyState == 4) {\n            if(xhr.status == 200){\n                self.includeLayers(JSON.parse(xhr.responseText));\n            }else{\n                try{\n                    var response = JSON.parse(xhr.responseText);\n                    self.includeLayers(response);\n                }catch(err){\n                }\n            }\n        }\n    };\n};\n\nAnimationItem.prototype.loadSegments = function() {\n    var segments = this.animationData.segments;\n    if(!segments) {\n        this.timeCompleted = this.animationData.tf;\n    }\n    this.loadNextSegment();\n};\n\nAnimationItem.prototype.configAnimation = function (animData) {\n    if(this.renderer && this.renderer.destroyed){\n        return;\n    }\n    //console.log(JSON.parse(JSON.stringify(animData)));\n    //animData.w = Math.round(animData.w/blitter);\n    //animData.h = Math.round(animData.h/blitter);\n    this.animationData = animData;\n    this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip);\n    this.animationData.tf = this.totalFrames;\n    this.renderer.configAnimation(animData);\n    if(!animData.assets){\n        animData.assets = [];\n    }\n    if(animData.comps) {\n        animData.assets = animData.assets.concat(animData.comps);\n        animData.comps = null;\n    }\n    this.renderer.searchExtraCompositions(animData.assets);\n\n    this.layers = this.animationData.layers;\n    this.assets = this.animationData.assets;\n    this.frameRate = this.animationData.fr;\n    this.firstFrame = Math.round(this.animationData.ip);\n    this.frameMult = this.animationData.fr / 1000;\n    this.trigger('config_ready');\n    this.imagePreloader = new ImagePreloader();\n    this.imagePreloader.setAssetsPath(this.assetsPath);\n    this.imagePreloader.setPath(this.path);\n    this.imagePreloader.loadAssets(animData.assets);\n    this.loadSegments();\n    this.updaFrameModifier();\n    if(this.renderer.globalData.fontManager){\n        this.waitForFontsLoaded();\n    }else{\n        DataManager.completeData(this.animationData,this.renderer.globalData.fontManager);\n        this.checkLoaded();\n    }\n};\n\nAnimationItem.prototype.waitForFontsLoaded = (function(){\n    function checkFontsLoaded(){\n        if(this.renderer.globalData.fontManager.loaded){\n            DataManager.completeData(this.animationData,this.renderer.globalData.fontManager);\n            //this.renderer.buildItems(this.animationData.layers);\n            this.checkLoaded();\n        }else{\n            setTimeout(checkFontsLoaded.bind(this),20);\n        }\n    }\n\n    return function(){\n        checkFontsLoaded.bind(this)();\n    }\n}());\n\nAnimationItem.prototype.addPendingElement = function () {\n    this.pendingElements += 1;\n}\n\nAnimationItem.prototype.elementLoaded = function () {\n    this.pendingElements--;\n    this.checkLoaded();\n};\n\nAnimationItem.prototype.checkLoaded = function () {\n    if (this.pendingElements === 0) {\n        if(expressionsPlugin){\n            expressionsPlugin.initExpressions(this);\n        }\n        this.renderer.initItems();\n        setTimeout(function(){\n            this.trigger('DOMLoaded');\n        }.bind(this),0);\n        this.isLoaded = true;\n        this.gotoFrame();\n        if(this.autoplay){\n            this.play();\n        }\n    }\n};\n\nAnimationItem.prototype.resize = function () {\n    this.renderer.updateContainerSize();\n};\n\nAnimationItem.prototype.setSubframe = function(flag){\n    this.subframeEnabled = flag ? true : false;\n}\n\nAnimationItem.prototype.gotoFrame = function () {\n    if(this.subframeEnabled){\n        this.currentFrame = this.currentRawFrame;\n    }else{\n        this.currentFrame = Math.floor(this.currentRawFrame);\n    }\n\n    if(this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted){\n        this.currentFrame = this.timeCompleted;\n    }\n    this.trigger('enterFrame');\n    this.renderFrame();\n};\n\nAnimationItem.prototype.renderFrame = function () {\n    if(this.isLoaded === false){\n        return;\n    }\n    //console.log('this.currentFrame:',this.currentFrame + this.firstFrame);\n    this.renderer.renderFrame(this.currentFrame + this.firstFrame);\n};\n\nAnimationItem.prototype.play = function (name) {\n    if(name && this.name != name){\n        return;\n    }\n    if(this.isPaused === true){\n        this.isPaused = false;\n        if(this._idle){\n            this._idle = false;\n            this.trigger('_active');\n        }\n    }\n};\n\nAnimationItem.prototype.pause = function (name) {\n    if(name && this.name != name){\n        return;\n    }\n    if(this.isPaused === false){\n        this.isPaused = true;\n        if(!this.pendingSegment){\n            this._idle = true;\n            this.trigger('_idle');\n        }\n    }\n};\n\nAnimationItem.prototype.togglePause = function (name) {\n    if(name && this.name != name){\n        return;\n    }\n    if(this.isPaused === true){\n        this.play();\n    }else{\n        this.pause();\n    }\n};\n\nAnimationItem.prototype.stop = function (name) {\n    if(name && this.name != name){\n        return;\n    }\n    this.pause();\n    this.currentFrame = this.currentRawFrame = 0;\n    this.playCount = 0;\n    this.gotoFrame();\n};\n\nAnimationItem.prototype.goToAndStop = function (value, isFrame, name) {\n    if(name && this.name != name){\n        return;\n    }\n    if(isFrame){\n        this.setCurrentRawFrameValue(value);\n    }else{\n        this.setCurrentRawFrameValue(value * this.frameModifier);\n    }\n    this.pause();\n};\n\nAnimationItem.prototype.goToAndPlay = function (value, isFrame, name) {\n    this.goToAndStop(value, isFrame, name);\n    this.play();\n};\n\nAnimationItem.prototype.advanceTime = function (value) {\n    if(this.pendingSegment){\n        this.pendingSegment = false;\n        this.adjustSegment(this.segments.shift());\n        if(this.isPaused){\n            this.play();\n        }\n        return;\n    }\n    if (this.isPaused === true || this.isLoaded === false) {\n        return;\n    }\n    this.setCurrentRawFrameValue(this.currentRawFrame + value * this.frameModifier);\n};\n\nAnimationItem.prototype.updateAnimation = function (perc) {\n    this.setCurrentRawFrameValue(this.totalFrames * perc);\n};\n\nAnimationItem.prototype.moveFrame = function (value, name) {\n    if(name && this.name != name){\n        return;\n    }\n    this.setCurrentRawFrameValue(this.currentRawFrame+value);\n};\n\nAnimationItem.prototype.adjustSegment = function(arr){\n    this.playCount = 0;\n    if(arr[1] < arr[0]){\n        if(this.frameModifier > 0){\n            if(this.playSpeed < 0){\n                this.setSpeed(-this.playSpeed);\n            } else {\n                this.setDirection(-1);\n            }\n        }\n        this.totalFrames = arr[0] - arr[1];\n        this.firstFrame = arr[1];\n        this.setCurrentRawFrameValue(this.totalFrames - 0.01);\n    } else if(arr[1] > arr[0]){\n        if(this.frameModifier < 0){\n            if(this.playSpeed < 0){\n                this.setSpeed(-this.playSpeed);\n            } else {\n                this.setDirection(1);\n            }\n        }\n        this.totalFrames = arr[1] - arr[0];\n        this.firstFrame = arr[0];\n        this.setCurrentRawFrameValue(0);\n    }\n    this.trigger('segmentStart');\n};\nAnimationItem.prototype.setSegment = function (init,end) {\n    var pendingFrame = -1;\n    if(this.isPaused) {\n        if (this.currentRawFrame + this.firstFrame < init) {\n            pendingFrame = init;\n        } else if (this.currentRawFrame + this.firstFrame > end) {\n            pendingFrame = end - init - 0.01;\n        }\n    }\n\n    this.firstFrame = init;\n    this.totalFrames = end - init;\n    if(pendingFrame !== -1) {\n        this.goToAndStop(pendingFrame,true);\n    }\n}\n\nAnimationItem.prototype.playSegments = function (arr,forceFlag) {\n    if(typeof arr[0] === 'object'){\n        var i, len = arr.length;\n        for(i=0;i<len;i+=1){\n            this.segments.push(arr[i]);\n        }\n    }else{\n        this.segments.push(arr);\n    }\n    if(forceFlag){\n        this.adjustSegment(this.segments.shift());\n    }\n    if(this.isPaused){\n        this.play();\n    }\n};\n\nAnimationItem.prototype.resetSegments = function (forceFlag) {\n    this.segments.length = 0;\n    this.segments.push([this.animationData.ip*this.frameRate,Math.floor(this.animationData.op - this.animationData.ip+this.animationData.ip*this.frameRate)]);\n    if(forceFlag){\n        this.adjustSegment(this.segments.shift());\n    }\n};\nAnimationItem.prototype.checkSegments = function(){\n    if(this.segments.length){\n        this.pendingSegment = true;\n    }\n}\n\nAnimationItem.prototype.remove = function (name) {\n    if(name && this.name != name){\n        return;\n    }\n    this.renderer.destroy();\n};\n\nAnimationItem.prototype.destroy = function (name) {\n    if((name && this.name != name) || (this.renderer && this.renderer.destroyed)){\n        return;\n    }\n    this.renderer.destroy();\n    this.trigger('destroy');\n    this._cbs = null;\n    this.onEnterFrame = this.onLoopComplete = this.onComplete = this.onSegmentStart = this.onDestroy = null;\n};\n\nAnimationItem.prototype.setCurrentRawFrameValue = function(value){\n    this.currentRawFrame = value;\n    //console.log(this.totalFrames);\n    if (this.currentRawFrame >= this.totalFrames) {\n        this.checkSegments();\n        if(this.loop === false){\n            this.currentRawFrame = this.totalFrames - 0.01;\n            this.gotoFrame();\n            this.pause();\n            this.trigger('complete');\n            return;\n        }else{\n            this.trigger('loopComplete');\n            this.playCount += 1;\n            if((this.loop !== true && this.playCount == this.loop) || this.pendingSegment){\n                this.currentRawFrame = this.totalFrames - 0.01;\n                this.gotoFrame();\n                this.pause();\n                this.trigger('complete');\n                return;\n            } else {\n                this.currentRawFrame = this.currentRawFrame % this.totalFrames;\n            }\n        }\n    } else if (this.currentRawFrame < 0) {\n        this.checkSegments();\n        this.playCount -= 1;\n        if(this.playCount < 0){\n            this.playCount = 0;\n        }\n        if(this.loop === false  || this.pendingSegment){\n            this.currentRawFrame = 0;\n            this.gotoFrame();\n            this.pause();\n            this.trigger('complete');\n            return;\n        }else{\n            this.trigger('loopComplete');\n            this.currentRawFrame = (this.totalFrames + this.currentRawFrame) % this.totalFrames;\n            this.gotoFrame();\n            return;\n        }\n    }\n\n    this.gotoFrame();\n};\n\nAnimationItem.prototype.setSpeed = function (val) {\n    this.playSpeed = val;\n    this.updaFrameModifier();\n};\n\nAnimationItem.prototype.setDirection = function (val) {\n    this.playDirection = val < 0 ? -1 : 1;\n    this.updaFrameModifier();\n};\n\nAnimationItem.prototype.updaFrameModifier = function () {\n    this.frameModifier = this.frameMult * this.playSpeed * this.playDirection;\n};\n\nAnimationItem.prototype.getPath = function () {\n    return this.path;\n};\n\nAnimationItem.prototype.getAssetsPath = function (assetData) {\n    var path = '';\n    if(this.assetsPath){\n        var imagePath = assetData.p;\n        if(imagePath.indexOf('images/') !== -1){\n            imagePath = imagePath.split('/')[1];\n        }\n        path = this.assetsPath + imagePath;\n    } else {\n        path = this.path;\n        path += assetData.u ? assetData.u : '';\n        path += assetData.p;\n    }\n    return path;\n};\n\nAnimationItem.prototype.getAssetData = function (id) {\n    var i = 0, len = this.assets.length;\n    while (i < len) {\n        if(id == this.assets[i].id){\n            return this.assets[i];\n        }\n        i += 1;\n    }\n};\n\nAnimationItem.prototype.hide = function () {\n    this.renderer.hide();\n};\n\nAnimationItem.prototype.show = function () {\n    this.renderer.show();\n};\n\nAnimationItem.prototype.getAssets = function () {\n    return this.assets;\n};\n\nAnimationItem.prototype.trigger = function(name){\n    if(this._cbs && this._cbs[name]){\n        switch(name){\n            case 'enterFrame':\n                this.triggerEvent(name,new BMEnterFrameEvent(name,this.currentFrame,this.totalFrames,this.frameMult));\n                break;\n            case 'loopComplete':\n                this.triggerEvent(name,new BMCompleteLoopEvent(name,this.loop,this.playCount,this.frameMult));\n                break;\n            case 'complete':\n                this.triggerEvent(name,new BMCompleteEvent(name,this.frameMult));\n                break;\n            case 'segmentStart':\n                this.triggerEvent(name,new BMSegmentStartEvent(name,this.firstFrame,this.totalFrames));\n                break;\n            case 'destroy':\n                this.triggerEvent(name,new BMDestroyEvent(name,this));\n                break;\n            default:\n                this.triggerEvent(name);\n        }\n    }\n    if(name === 'enterFrame' && this.onEnterFrame){\n        this.onEnterFrame.call(this,new BMEnterFrameEvent(name,this.currentFrame,this.totalFrames,this.frameMult));\n    }\n    if(name === 'loopComplete' && this.onLoopComplete){\n        this.onLoopComplete.call(this,new BMCompleteLoopEvent(name,this.loop,this.playCount,this.frameMult));\n    }\n    if(name === 'complete' && this.onComplete){\n        this.onComplete.call(this,new BMCompleteEvent(name,this.frameMult));\n    }\n    if(name === 'segmentStart' && this.onSegmentStart){\n        this.onSegmentStart.call(this,new BMSegmentStartEvent(name,this.firstFrame,this.totalFrames));\n    }\n    if(name === 'destroy' && this.onDestroy){\n        this.onDestroy.call(this,new BMDestroyEvent(name,this));\n    }\n};\n\nAnimationItem.prototype.addEventListener = _addEventListener;\nAnimationItem.prototype.removeEventListener = _removeEventListener;\nAnimationItem.prototype.triggerEvent = _triggerEvent;\n\n\n\n// WEBPACK FOOTER //\n// ./js/animation/AnimationItem.js","import Matrix from \"../3rd_party/Matrix\";\nimport PropertyFactory from \"../utils/PropertyFactory\";\n\nexport default function BaseElement()\n{\n};\n\nBaseElement.prototype.checkMasks = function(){\n    if(!this.data.hasMask){\n        return false;\n    }\n    var i = 0, len = this.data.masksProperties.length;\n    while(i<len) {\n        if((this.data.masksProperties[i].mode !== 'n' && this.data.masksProperties[i].cl !== false)) {\n            return true;\n        }\n        i += 1;\n    }\n    return false;\n}\n\nBaseElement.prototype.checkParenting = function(){\n    if(this.data.parent !== undefined){\n        this.comp.buildElementParenting(this, this.data.parent);\n    }\n}\n\nBaseElement.prototype.prepareFrame = function(num){\n    if(this.data.ip - this.data.st <= num && this.data.op - this.data.st > num)\n    {\n        if(this.isVisible !== true){\n            this.elemMdf = true;\n            this.globalData.mdf = true;\n            this.isVisible = true;\n            this.firstFrame = true;\n            if(this.data.hasMask){\n                this.maskManager.firstFrame = true;\n            }\n        }\n    }else{\n        if(this.isVisible !== false){\n            this.elemMdf = true;\n            this.globalData.mdf = true;\n            this.isVisible = false;\n        }\n    }\n    var i, len = this.dynamicProperties.length;\n    for(i=0;i<len;i+=1){\n        if(this.isVisible || (this._isParent && this.dynamicProperties[i].type === 'transform')){\n            this.dynamicProperties[i].getValue();\n            if(this.dynamicProperties[i].mdf){\n                this.elemMdf = true;\n                this.globalData.mdf = true;\n            }\n        }\n    }\n    if(this.data.hasMask && this.isVisible){\n        this.maskManager.prepareFrame(num*this.data.sr);\n    }\n    \n    /* TODO check this\n    if(this.data.sy){\n        if(this.data.sy[0].renderedData[num]){\n            if(this.data.sy[0].renderedData[num].c){\n                this.feFlood.setAttribute('flood-color','rgb('+Math.round(this.data.sy[0].renderedData[num].c[0])+','+Math.round(this.data.sy[0].renderedData[num].c[1])+','+Math.round(this.data.sy[0].renderedData[num].c[2])+')');\n            }\n            if(this.data.sy[0].renderedData[num].s){\n                this.feMorph.setAttribute('radius',this.data.sy[0].renderedData[num].s);\n            }\n        }\n    }\n    */\n\n\n    this.currentFrameNum = num*this.data.sr;\n    return this.isVisible;\n};\n\nBaseElement.prototype.globalToLocal = function(pt){\n    var transforms = [];\n    transforms.push(this.finalTransform);\n    var flag = true;\n    var comp = this.comp;\n    while(flag){\n        if(comp.finalTransform){\n            if(comp.data.hasMask){\n                transforms.splice(0,0,comp.finalTransform);\n            }\n            comp = comp.comp;\n        } else {\n            flag = false;\n        }\n    }\n    var i, len = transforms.length,ptNew;\n    for(i=0;i<len;i+=1){\n        ptNew = transforms[i].mat.applyToPointArray(0,0,0);\n        //ptNew = transforms[i].mat.applyToPointArray(pt[0],pt[1],pt[2]);\n        pt = [pt[0] - ptNew[0],pt[1] - ptNew[1],0];\n    }\n    return pt;\n};\n\nBaseElement.prototype.initExpressions = function(){\n    this.layerInterface = LayerExpressionInterface(this);\n    //layers[i].layerInterface = LayerExpressionInterface(layers[i]);\n    //layers[i].layerInterface = LayerExpressionInterface(layers[i]);\n    if(this.data.hasMask){\n        this.layerInterface.registerMaskInterface(this.maskManager);\n    }\n    var effectsInterface = EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);\n    this.layerInterface.registerEffectsInterface(effectsInterface);\n\n    if(this.data.ty === 0 || this.data.xt){\n        this.compInterface = CompExpressionInterface(this);\n    } else if(this.data.ty === 4){\n        this.layerInterface.shapeInterface = ShapeExpressionInterface.createShapeInterface(this.shapesData,this.viewData,this.layerInterface);\n    } else if(this.data.ty === 5){\n        this.layerInterface.textInterface = TextExpressionInterface(this);\n    }\n}\n\nBaseElement.prototype.setBlendMode = function(){\n    var blendModeValue = '';\n    switch(this.data.bm){\n        case 1:\n            blendModeValue = 'multiply';\n            break;\n        case 2:\n            blendModeValue = 'screen';\n            break;\n        case 3:\n            blendModeValue = 'overlay';\n            break;\n        case 4:\n            blendModeValue = 'darken';\n            break;\n        case 5:\n            blendModeValue = 'lighten';\n            break;\n        case 6:\n            blendModeValue = 'color-dodge';\n            break;\n        case 7:\n            blendModeValue = 'color-burn';\n            break;\n        case 8:\n            blendModeValue = 'hard-light';\n            break;\n        case 9:\n            blendModeValue = 'soft-light';\n            break;\n        case 10:\n            blendModeValue = 'difference';\n            break;\n        case 11:\n            blendModeValue = 'exclusion';\n            break;\n        case 12:\n            blendModeValue = 'hue';\n            break;\n        case 13:\n            blendModeValue = 'saturation';\n            break;\n        case 14:\n            blendModeValue = 'color';\n            break;\n        case 15:\n            blendModeValue = 'luminosity';\n            break;\n    }\n    var elem = this.baseElement || this.layerElement;\n\n    elem.style['mix-blend-mode'] = blendModeValue;\n}\n\nBaseElement.prototype.init = function(){\n    if(!this.data.sr){\n        this.data.sr = 1;\n    }\n    this.dynamicProperties = [];\n    if(this.data.ef){\n        this.effects = new EffectsManager(this.data,this,this.dynamicProperties);\n        //this.effect = this.effectsManager.bind(this.effectsManager);\n    }\n    //this.elemInterface = buildLayerExpressionInterface(this);\n    this.hidden = false;\n    this.firstFrame = true;\n    this.isVisible = false;\n    this._isParent = false;\n    this.currentFrameNum = -99999;\n    this.lastNum = -99999;\n    if(this.data.ks){\n        this.finalTransform = {\n            mProp: PropertyFactory.getProp(this,this.data.ks,2,null,this.dynamicProperties),\n            matMdf: false,\n            opMdf: false,\n            mat: new Matrix(),\n            opacity: 1\n        };\n        if(this.data.ao){\n            this.finalTransform.mProp.autoOriented = true;\n        }\n        this.finalTransform.op = this.finalTransform.mProp.o;\n        this.transform = this.finalTransform.mProp;\n        if(this.data.ty !== 11){\n            this.createElements();\n        }\n        if(this.data.hasMask){\n            this.addMasks(this.data);\n        }\n    }\n    this.elemMdf = false;\n};\n\nBaseElement.prototype.getType = function(){\n    return this.type;\n};\n\nBaseElement.prototype.resetHierarchy = function(){\n    if(!this.hierarchy){\n        this.hierarchy = [];\n    }else{\n        this.hierarchy.length = 0;\n    }\n};\n\nBaseElement.prototype.getHierarchy = function(){\n    if(!this.hierarchy){\n        this.hierarchy = [];\n    }\n    return this.hierarchy;\n};\n\nBaseElement.prototype.setHierarchy = function(hierarchy){\n    this.hierarchy = hierarchy;\n};\n\nBaseElement.prototype.getLayerSize = function(){\n    if(this.data.ty === 5){\n        return {w:this.data.textData.width,h:this.data.textData.height};\n    }else{\n        return {w:this.data.width,h:this.data.height};\n    }\n};\n\nBaseElement.prototype.hide = function(){\n\n};\n\nBaseElement.prototype.mHelper = new Matrix();\n\n\n// WEBPACK FOOTER //\n// ./js/elements/BaseElement.js","import {createElement} from \"../utils/common\";\nimport SVGBaseElement from \"./svgElements/SVGBaseElement\";\nimport SVGRenderer from \"../renderers/SVGRenderer\";\n\n\nexport default class CompElement extends SVGBaseElement\n{\n\tconstructor (data, parentContainer, globalData, comp, placeholder)\n\t{\n\t\tsuper(data, parentContainer, globalData, comp, placeholder);\n\n\t\tthis.layers = data.layers;\n\t\tthis.supports3d = true;\n\t\tthis.completeLayers = false;\n\t\tthis.pendingElements = [];\n\t\tthis.elements = this.layers ? Array.apply(null, {length: this.layers.length}) : [];\n\n\t\tif (this.data.tm)\n\t\t{\n\t\t\tthis.tm = PropertyFactory.getProp(this, this.data.tm, 0, globalData.frameRate, this.dynamicProperties);\n\t\t}\n\t\tif (this.data.xt)\n\t\t{\n\t\t\tthis.layerElement = document.createElementNS(svgNS, 'g');\n\t\t\tthis.buildAllItems();\n\t\t}\n\t\telse if (!globalData.progressiveLoad)\n\t\t{\n\t\t\tthis.buildAllItems();\n\t\t}\n\t}\n\n\n\thide ()\n\t{\n\t\tif (!this.hidden)\n\t\t{\n\t\t\tvar i, len = this.elements.length;\n\t\t\tfor (i = 0; i < len; i += 1)\n\t\t\t{\n\t\t\t\tif (this.elements[i])\n\t\t\t\t{\n\t\t\t\t\tthis.elements[i].hide();\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.hidden = true;\n\t\t}\n\t};\n\n\tprepareFrame (num)\n\t{\n\t\tsuper.prepareFrame(num);\n\t\tif (this.isVisible === false && !this.data.xt)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.tm)\n\t\t{\n\t\t\tvar timeRemapped = this.tm.v;\n\t\t\tif (timeRemapped === this.data.op)\n\t\t\t{\n\t\t\t\ttimeRemapped = this.data.op - 1;\n\t\t\t}\n\t\t\tthis.renderedFrame = timeRemapped;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.renderedFrame = num / this.data.sr;\n\t\t}\n\t\tvar i, len = this.elements.length;\n\t\tif (!this.completeLayers)\n\t\t{\n\t\t\tthis.checkLayers(this.renderedFrame);\n\t\t}\n\t\tfor (i = 0; i < len; i += 1)\n\t\t{\n\t\t\tif (this.completeLayers || this.elements[i])\n\t\t\t{\n\t\t\t\tthis.elements[i].prepareFrame(this.renderedFrame - this.layers[i].st);\n\t\t\t}\n\t\t}\n\t};\n\n\trenderFrame (parentMatrix)\n\t{\n\t\tvar renderParent = super.renderFrame(parentMatrix);\n\t\tvar i, len = this.layers.length;\n\t\tif (renderParent === false)\n\t\t{\n\t\t\tthis.hide();\n\t\t\treturn;\n\t\t}\n\n\t\tthis.hidden = false;\n\t\tfor (i = 0; i < len; i += 1)\n\t\t{\n\t\t\tif (this.completeLayers || this.elements[i])\n\t\t\t{\n\t\t\t\tthis.elements[i].renderFrame();\n\t\t\t}\n\t\t}\n\t\tif (this.firstFrame)\n\t\t{\n\t\t\tthis.firstFrame = false;\n\t\t}\n\t};\n\n\tsetElements (elems)\n\t{\n\t\tthis.elements = elems;\n\t};\n\n\tgetElements ()\n\t{\n\t\treturn this.elements;\n\t};\n\n\tdestroy ()\n\t{\n\t\tsuper.destroy();\n\t\tvar i, len = this.layers.length;\n\t\tfor (i = 0; i < len; i += 1)\n\t\t{\n\t\t\tif (this.elements[i])\n\t\t\t{\n\t\t\t\tthis.elements[i].destroy();\n\t\t\t}\n\t\t}\n\t}\n\n\tcheckLayers (num)\n\t{\n\t\treturn SVGRenderer.prototype.checkLayers.call(this, num);\n\t}\n\n\tbuildItem (pos)\n\t{\n\t\treturn SVGRenderer.prototype.buildItem.call(this, pos);\n\t}\n\n\tbuildAllItems ()\n\t{\n\t\treturn SVGRenderer.prototype.buildAllItems.call(this);\n\t}\n\n\tbuildElementParenting (element, parentName, hierarchy)\n\t{\n\t\treturn SVGRenderer.prototype.buildElementParenting.call(this, element, parentName, hierarchy);\n\t}\n\n\tcreateItem (layer)\n\t{\n\t\treturn SVGRenderer.prototype.createItem.call(this, layer);\n\t}\n\n\tcreateImage (data)\n\t{\n\t\treturn SVGRenderer.prototype.createImage.call(this, data);\n\t}\n\n\tcreateComp (data)\n\t{\n\t\treturn SVGRenderer.prototype.createComp.call(this, data);\n\t}\n\n\tcreateSolid (data)\n\t{\n\t\treturn SVGRenderer.prototype.createSolid.call(this, data);\n\t}\n\n\tcreateShape (data)\n\t{\n\t\treturn SVGRenderer.prototype.createShape.call(this, data);\n\t}\n\n\tcreateText (data)\n\t{\n\t\treturn SVGRenderer.prototype.createText.call(this, data);\n\t}\n\n\tcreateBase (data)\n\t{\n\t\treturn SVGRenderer.prototype.createBase.call(this, data);\n\t}\n\n\tappendElementInPos (element, pos)\n\t{\n\t\treturn SVGRenderer.prototype.appendElementInPos.call(this, element, pos);\n\t}\n\n\tcheckPendingElements ()\n\t{\n\t\treturn SVGRenderer.prototype.checkPendingElements.call(this);\n\t}\n\n\taddPendingElement (element)\n\t{\n\t\treturn SVGRenderer.prototype.addPendingElement.call(this, element);\n\t}\n}\n\n// CompElement.prototype.checkLayers = SVGRenderer.prototype.checkLayers;\n// CompElement.prototype.buildItem = SVGRenderer.prototype.buildItem;\n// CompElement.prototype.buildAllItems = SVGRenderer.prototype.buildAllItems;\n// CompElement.prototype.buildElementParenting = SVGRenderer.prototype.buildElementParenting;\n// CompElement.prototype.createItem = SVGRenderer.prototype.createItem;\n// CompElement.prototype.createImage = SVGRenderer.prototype.createImage;\n// CompElement.prototype.createComp = SVGRenderer.prototype.createComp;\n// CompElement.prototype.createSolid = SVGRenderer.prototype.createSolid;\n// CompElement.prototype.createShape = SVGRenderer.prototype.createShape;\n// CompElement.prototype.createText = SVGRenderer.prototype.createText;\n// CompElement.prototype.createBase = SVGRenderer.prototype.createBase;\n// CompElement.prototype.appendElementInPos = SVGRenderer.prototype.appendElementInPos;\n// CompElement.prototype.checkPendingElements = SVGRenderer.prototype.checkPendingElements;\n// CompElement.prototype.addPendingElement = SVGRenderer.prototype.addPendingElement;\n\n\n// WEBPACK FOOTER //\n// ./js/elements/CompElement.js","import {bm_rnd, randomString, svgNS} from \"../utils/common\";\nimport PropertyFactory from \"../utils/PropertyFactory\";\nimport ShapePropertyFactory from \"../utils/shapes/ShapePropertyFactory\";\n\n\nexport default function MaskElement(data, element, globalData) {\n    this.dynamicProperties = [];\n    this.data = data;\n    this.element = element;\n    this.globalData = globalData;\n    this.paths = [];\n    this.storedData = [];\n    this.masksProperties = this.data.masksProperties;\n    this.viewData = new Array(this.masksProperties.length);\n    this.maskElement = null;\n    this.firstFrame = true;\n    var defs = this.globalData.defs;\n    var i, len = this.masksProperties.length;\n\n\n    var path, properties = this.masksProperties;\n    var count = 0;\n    var currentMasks = [];\n    var j, jLen;\n    var layerId = randomString(10);\n    var rect, expansor, feMorph,x;\n    var maskType = 'clipPath', maskRef = 'clip-path';\n    for (i = 0; i < len; i++) {\n\n        if((properties[i].mode !== 'a' && properties[i].mode !== 'n')|| properties[i].inv || properties[i].o.k !== 100){\n            maskType = 'mask';\n            maskRef = 'mask';\n        }\n\n        if((properties[i].mode == 's' || properties[i].mode == 'i') && count == 0){\n            rect = document.createElementNS(svgNS, 'rect');\n            rect.setAttribute('fill', '#ffffff');\n            rect.setAttribute('width', this.element.comp.data.w);\n            rect.setAttribute('height', this.element.comp.data.h);\n            currentMasks.push(rect);\n        } else {\n            rect = null;\n        }\n\n        path = document.createElementNS(svgNS, 'path');\n        if(properties[i].mode == 'n') {\n            this.viewData[i] = {\n                op: PropertyFactory.getProp(this.element,properties[i].o,0,0.01,this.dynamicProperties),\n                prop: ShapePropertyFactory.getShapeProp(this.element,properties[i],3,this.dynamicProperties,null),\n                elem: path\n            };\n            defs.appendChild(path);\n            continue;\n        }\n        count += 1;\n\n        if(properties[i].mode == 's'){\n            path.setAttribute('fill', '#000000');\n        }else{\n            path.setAttribute('fill', '#ffffff');\n        }\n        path.setAttribute('clip-rule','nonzero');\n\n        if(properties[i].x.k !== 0){\n            maskType = 'mask';\n            maskRef = 'mask';\n            x = PropertyFactory.getProp(this.element,properties[i].x,0,null,this.dynamicProperties);\n            var filterID = 'fi_'+randomString(10);\n            expansor = document.createElementNS(svgNS,'filter');\n            expansor.setAttribute('id',filterID);\n            feMorph = document.createElementNS(svgNS,'feMorphology');\n            feMorph.setAttribute('operator','dilate');\n            feMorph.setAttribute('in','SourceGraphic');\n            feMorph.setAttribute('radius','0');\n            expansor.appendChild(feMorph);\n            defs.appendChild(expansor);\n            if(properties[i].mode == 's'){\n                path.setAttribute('stroke', '#000000');\n            }else{\n                path.setAttribute('stroke', '#ffffff');\n            }\n        }else{\n            feMorph = null;\n            x = null;\n        }\n\n\n        this.storedData[i] = {\n             elem: path,\n             x: x,\n             expan: feMorph,\n            lastPath: '',\n            lastOperator:'',\n            filterId:filterID,\n            lastRadius:0\n        };\n        if(properties[i].mode == 'i'){\n            jLen = currentMasks.length;\n            var g = document.createElementNS(svgNS,'g');\n            for(j=0;j<jLen;j+=1){\n                g.appendChild(currentMasks[j]);\n            }\n            var mask = document.createElementNS(svgNS,'mask');\n            mask.setAttribute('mask-type','alpha');\n            mask.setAttribute('id',layerId+'_'+count);\n            mask.appendChild(path);\n            defs.appendChild(mask);\n            g.setAttribute('mask','url(#'+layerId+'_'+count+')');\n\n            currentMasks.length = 0;\n            currentMasks.push(g);\n        }else{\n            currentMasks.push(path);\n        }\n        if(properties[i].inv && !this.solidPath){\n            this.solidPath = this.createLayerSolidPath();\n        }\n        this.viewData[i] = {\n            elem: path,\n            lastPath: '',\n            op: PropertyFactory.getProp(this.element,properties[i].o,0,0.01,this.dynamicProperties),\n            prop:ShapePropertyFactory.getShapeProp(this.element,properties[i],3,this.dynamicProperties,null)\n        };\n        if(rect){\n            this.viewData[i].invRect = rect;\n        }\n        if(!this.viewData[i].prop.k){\n            this.drawPath(properties[i],this.viewData[i].prop.v,this.viewData[i]);\n        }\n    }\n\n    this.maskElement = document.createElementNS(svgNS, maskType);\n\n    len = currentMasks.length;\n    for(i=0;i<len;i+=1){\n        this.maskElement.appendChild(currentMasks[i]);\n    }\n\n    this.maskElement.setAttribute('id', layerId);\n    if(count > 0){\n        this.element.maskedElement.setAttribute(maskRef, \"url(#\" + layerId + \")\");\n    }\n\n    defs.appendChild(this.maskElement);\n};\n\nMaskElement.prototype.getMaskProperty = function(pos){\n    return this.viewData[pos].prop;\n};\n\nMaskElement.prototype.prepareFrame = function(){\n    var i, len = this.dynamicProperties.length;\n    for(i=0;i<len;i+=1){\n        this.dynamicProperties[i].getValue();\n\n    }\n};\n\nMaskElement.prototype.renderFrame = function (finalMat) {\n    var i, len = this.masksProperties.length;\n    for (i = 0; i < len; i++) {\n        if(this.viewData[i].prop.mdf || this.firstFrame){\n            this.drawPath(this.masksProperties[i],this.viewData[i].prop.v,this.viewData[i]);\n        }\n        if(this.viewData[i].op.mdf || this.firstFrame){\n            this.viewData[i].elem.setAttribute('fill-opacity',this.viewData[i].op.v);\n        }\n        if(this.masksProperties[i].mode !== 'n'){\n            if(this.viewData[i].invRect && (this.element.finalTransform.mProp.mdf || this.firstFrame)){\n                this.viewData[i].invRect.setAttribute('x', -finalMat.props[12]);\n                this.viewData[i].invRect.setAttribute('y', -finalMat.props[13]);\n            }\n            if(this.storedData[i].x && (this.storedData[i].x.mdf || this.firstFrame)){\n                var feMorph = this.storedData[i].expan;\n                if(this.storedData[i].x.v < 0){\n                    if(this.storedData[i].lastOperator !== 'erode'){\n                        this.storedData[i].lastOperator = 'erode';\n                        this.storedData[i].elem.setAttribute('filter','url(#'+this.storedData[i].filterId+')');\n                    }\n                    feMorph.setAttribute('radius',-this.storedData[i].x.v);\n                }else{\n                    if(this.storedData[i].lastOperator !== 'dilate'){\n                        this.storedData[i].lastOperator = 'dilate';\n                        this.storedData[i].elem.setAttribute('filter',null);\n                    }\n                    this.storedData[i].elem.setAttribute('stroke-width', this.storedData[i].x.v*2);\n\n                }\n            }\n        }\n    }\n    this.firstFrame = false;\n};\n\nMaskElement.prototype.getMaskelement = function () {\n    return this.maskElement;\n};\n\nMaskElement.prototype.createLayerSolidPath = function(){\n    var path = 'M0,0 ';\n    path += ' h' + this.globalData.compSize.w ;\n    path += ' v' + this.globalData.compSize.h ;\n    path += ' h-' + this.globalData.compSize.w ;\n    path += ' v-' + this.globalData.compSize.h + ' ';\n    return path;\n};\n\nMaskElement.prototype.drawPath = function(pathData,pathNodes,viewData){\n    var pathString = '';\n    var i, len;\n    len = pathNodes.v.length;\n    for(i=1;i<len;i+=1){\n        if(i==1){\n            //pathString += \" M\"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\n            pathString += \" M\"+bm_rnd(pathNodes.v[0][0])+','+bm_rnd(pathNodes.v[0][1]);\n        }\n        //pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\n        pathString += \" C\"+bm_rnd(pathNodes.o[i-1][0])+','+bm_rnd(pathNodes.o[i-1][1]) + \" \"+bm_rnd(pathNodes.i[i][0])+','+bm_rnd(pathNodes.i[i][1]) + \" \"+bm_rnd(pathNodes.v[i][0])+','+bm_rnd(pathNodes.v[i][1]);\n    }\n        //pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\n    if(pathNodes.c && len > 1){\n        pathString += \" C\"+bm_rnd(pathNodes.o[i-1][0])+','+bm_rnd(pathNodes.o[i-1][1]) + \" \"+bm_rnd(pathNodes.i[0][0])+','+bm_rnd(pathNodes.i[0][1]) + \" \"+bm_rnd(pathNodes.v[0][0])+','+bm_rnd(pathNodes.v[0][1]);\n    }\n    //pathNodes.__renderedString = pathString;\n\n\n    if(viewData.lastPath !== pathString){\n        if(viewData.elem){\n            if(!pathNodes.c){\n                viewData.elem.setAttribute('d','');\n            }else if(pathData.inv){\n                viewData.elem.setAttribute('d',this.solidPath + pathString);\n            }else{\n                viewData.elem.setAttribute('d',pathString);\n            }\n        }\n        viewData.lastPath = pathString;\n    }\n};\n\nMaskElement.prototype.getMask = function(nm){\n    var i = 0, len = this.masksProperties.length;\n    while(i<len){\n        if(this.masksProperties[i].nm === nm){\n            return {\n                maskPath: this.viewData[i].prop.pv\n            }\n        }\n        i += 1;\n    }\n};\n\nMaskElement.prototype.destroy = function(){\n    this.element = null;\n    this.globalData = null;\n    this.maskElement = null;\n    this.data = null;\n    this.paths = null;\n    this.masksProperties = null;\n};\n\n\n// WEBPACK FOOTER //\n// ./js/elements/MaskElement.js","import {bm_floor, createElement, randomString, styleUnselectableDiv, svgNS} from \"../utils/common\";\nimport PropertyFactory from \"../utils/PropertyFactory\";\nimport ShapePropertyFactory from \"../utils/shapes/ShapePropertyFactory\";\nimport {ShapeModifiers} from \"../utils/shapes/ShapeModifiers\";\nimport SVGBaseElement from \"./svgElements/SVGBaseElement\";\n\n\nexport default function ShapeElement(data, parentContainer, globalData, comp, placeholder){\n    this.shapes = [];\n    this.shapesData = data.shapes;\n    this.stylesList = [];\n    this.viewData = [];\n    this.shapeModifiers = [];\n    this._parent.constructor.call(this,data,parentContainer,globalData,comp, placeholder);\n}\ncreateElement(SVGBaseElement, ShapeElement);\n\nShapeElement.prototype.lcEnum = {\n    '1': 'butt',\n    '2': 'round',\n    '3': 'butt'\n}\n\nShapeElement.prototype.ljEnum = {\n    '1': 'miter',\n    '2': 'round',\n    '3': 'butt'\n}\n\nShapeElement.prototype.buildExpressionInterface = function(){};\n\nShapeElement.prototype.createElements = function(){\n    //TODO check if I can use symbol so i can set its viewBox\n    this._parent.createElements.call(this);\n    this.searchShapes(this.shapesData,this.viewData,this.layerElement,this.dynamicProperties, 0);\n    if(!this.data.hd || this.data.td){\n        styleUnselectableDiv(this.layerElement);\n    }\n    //this.elemInterface.registerShapeExpressionInterface(ShapeExpressionInterface.createShapeInterface(this.shapesData,this.viewData,this.elemInterface));\n};\n\nShapeElement.prototype.setGradientData = function(pathElement,arr,data){\n\n    var gradientId = 'gr_'+randomString(10);\n    var gfill;\n    if(arr.t === 1){\n        gfill = document.createElementNS(svgNS,'linearGradient');\n    } else {\n        gfill = document.createElementNS(svgNS,'radialGradient');\n    }\n    gfill.setAttribute('id',gradientId);\n    gfill.setAttribute('spreadMethod','pad');\n    gfill.setAttribute('gradientUnits','userSpaceOnUse');\n    var stops = [];\n    var stop, j, jLen;\n    jLen = arr.g.p*4;\n    for(j=0;j<jLen;j+=4){\n        stop = document.createElementNS(svgNS,'stop');\n        gfill.appendChild(stop);\n        stops.push(stop);\n    }\n    pathElement.setAttribute( arr.ty === 'gf' ? 'fill':'stroke','url(#'+gradientId+')');\n    this.globalData.defs.appendChild(gfill);\n    data.gf = gfill;\n    data.cst = stops;\n}\n\nShapeElement.prototype.setGradientOpacity = function(arr, data, styleOb){\n    if((arr.g.k.k[0].s && arr.g.k.k[0].s.length > arr.g.p*4) || arr.g.k.k.length > arr.g.p*4){\n        var opFill;\n        var stop, j, jLen;\n        var mask = document.createElementNS(svgNS,\"mask\");\n        var maskElement = document.createElementNS(svgNS, 'path');\n        mask.appendChild(maskElement);\n        var opacityId = 'op_'+randomString(10);\n        var maskId = 'mk_'+randomString(10);\n        mask.setAttribute('id',maskId);\n        if(arr.t === 1){\n            opFill = document.createElementNS(svgNS,'linearGradient');\n        } else {\n            opFill = document.createElementNS(svgNS,'radialGradient');\n        }\n        opFill.setAttribute('id',opacityId);\n        opFill.setAttribute('spreadMethod','pad');\n        opFill.setAttribute('gradientUnits','userSpaceOnUse');\n        jLen = arr.g.k.k[0].s ? arr.g.k.k[0].s.length : arr.g.k.k.length;\n        var stops = [];\n        for(j=arr.g.p*4;j<jLen;j+=2){\n            stop = document.createElementNS(svgNS,'stop');\n            stop.setAttribute('stop-color','rgb(255,255,255)');\n            //stop.setAttribute('offset',Math.round(arr.y[j][0]*100)+'%');\n            //stop.setAttribute('style','stop-color:rgb(255,255,255);stop-opacity:'+arr.y[j][1]);\n            opFill.appendChild(stop);\n            stops.push(stop);\n        }\n        maskElement.setAttribute( arr.ty === 'gf' ? 'fill':'stroke','url(#'+opacityId+')');\n        this.globalData.defs.appendChild(opFill);\n        this.globalData.defs.appendChild(mask);\n        data.of = opFill;\n        data.ost = stops;\n        styleOb.msElem = maskElement;\n        return maskId;\n    }\n};\n\nShapeElement.prototype.searchShapes = function(arr,data,container,dynamicProperties, level, transformers){\n    transformers = transformers || [];\n    var ownTransformers = [].concat(transformers);\n    var i, len = arr.length - 1;\n    var j, jLen;\n    var ownArrays = [], ownModifiers = [], styleOb, currentTransform;\n    for(i=len;i>=0;i-=1){\n        if(arr[i].ty == 'fl' || arr[i].ty == 'st' || arr[i].ty == 'gf' || arr[i].ty == 'gs'){\n            data[i] = {};\n            styleOb = {\n                type: arr[i].ty,\n                d: '',\n                ld: '',\n                lvl: level,\n                mdf: false\n            };\n            var pathElement = document.createElementNS(svgNS, \"path\");\n            data[i].o = PropertyFactory.getProp(this,arr[i].o,0,0.01,dynamicProperties);\n            if(arr[i].ty == 'st' || arr[i].ty == 'gs') {\n                pathElement.setAttribute('stroke-linecap', this.lcEnum[arr[i].lc] || 'round');\n                ////pathElement.style.strokeLinecap = this.lcEnum[arr[i].lc] || 'round';\n                pathElement.setAttribute('stroke-linejoin',this.ljEnum[arr[i].lj] || 'round');\n                ////pathElement.style.strokeLinejoin = this.ljEnum[arr[i].lj] || 'round';\n                pathElement.setAttribute('fill-opacity','0');\n                ////pathElement.style.fillOpacity = 0;\n                if(arr[i].lj == 1) {\n                    pathElement.setAttribute('stroke-miterlimit',arr[i].ml);\n                    ////pathElement.style.strokeMiterlimit = arr[i].ml;\n                }\n\n                data[i].w = PropertyFactory.getProp(this,arr[i].w,0,null,dynamicProperties);\n                if(arr[i].d){\n                    var d = PropertyFactory.getDashProp(this,arr[i].d,'svg',dynamicProperties);\n                    if(!d.k){\n                        pathElement.setAttribute('stroke-dasharray', d.dasharray);\n                        ////pathElement.style.strokeDasharray = d.dasharray;\n                        pathElement.setAttribute('stroke-dashoffset', d.dashoffset);\n                        ////pathElement.style.strokeDashoffset = d.dashoffset;\n                    }\n                    data[i].d = d;\n                }\n\n            }\n            if(arr[i].ty == 'fl' || arr[i].ty == 'st'){\n                data[i].c = PropertyFactory.getProp(this,arr[i].c,1,255,dynamicProperties);\n                container.appendChild(pathElement);\n            } else {\n                data[i].g = PropertyFactory.getGradientProp(this,arr[i].g,dynamicProperties);\n                if(arr[i].t == 2){\n                    data[i].h = PropertyFactory.getProp(this,arr[i].h,1,0.01,dynamicProperties);\n                    data[i].a = PropertyFactory.getProp(this,arr[i].a,1,degToRads,dynamicProperties);\n                }\n                data[i].s = PropertyFactory.getProp(this,arr[i].s,1,null,dynamicProperties);\n                data[i].e = PropertyFactory.getProp(this,arr[i].e,1,null,dynamicProperties);\n                this.setGradientData(pathElement,arr[i],data[i], styleOb);\n                var maskId = this.setGradientOpacity(arr[i],data[i], styleOb);\n                if(maskId){\n                    pathElement.setAttribute('mask','url(#'+maskId+')');\n                }\n                data[i].elem = pathElement;\n                container.appendChild(pathElement);\n            }\n            if(arr[i].r === 2) {\n                pathElement.setAttribute('fill-rule', 'evenodd');\n            }\n\n            if(arr[i].ln){\n                pathElement.setAttribute('id',arr[i].ln);\n            }\n            if(arr[i].cl){\n                pathElement.setAttribute('class',arr[i].cl);\n            }\n            styleOb.pElem = pathElement;\n            this.stylesList.push(styleOb);\n            data[i].style = styleOb;\n            ownArrays.push(styleOb);\n        }else if(arr[i].ty == 'gr'){\n            data[i] = {\n                it: []\n            };\n            var g = document.createElementNS(svgNS,'g');\n            container.appendChild(g);\n            data[i].gr = g;\n            this.searchShapes(arr[i].it,data[i].it,g,dynamicProperties, level + 1, ownTransformers);\n        }else if(arr[i].ty == 'tr'){\n            data[i] = {\n                transform : {\n                    op: PropertyFactory.getProp(this,arr[i].o,0,0.01,dynamicProperties),\n                    mProps: PropertyFactory.getProp(this,arr[i],2,null,dynamicProperties)\n                },\n                elements: []\n            };\n            currentTransform = data[i].transform;\n            ownTransformers.push(currentTransform);\n        }else if(arr[i].ty == 'sh' || arr[i].ty == 'rc' || arr[i].ty == 'el' || arr[i].ty == 'sr'){\n            data[i] = {\n                elements : [],\n                caches:[],\n                styles : [],\n                transformers: ownTransformers,\n                lStr: ''\n            };\n            var ty = 4;\n            if(arr[i].ty == 'rc'){\n                ty = 5;\n            }else if(arr[i].ty == 'el'){\n                ty = 6;\n            }else if(arr[i].ty == 'sr'){\n                ty = 7;\n            }\n            data[i].sh = ShapePropertyFactory.getShapeProp(this,arr[i],ty,dynamicProperties);\n            data[i].lvl = level;\n            this.shapes.push(data[i].sh);\n            this.addShapeToModifiers(data[i].sh);\n            jLen = this.stylesList.length;\n            for(j=0;j<jLen;j+=1){\n                if(!this.stylesList[j].closed){\n                    data[i].elements.push({\n                        ty:this.stylesList[j].type,\n                        st: this.stylesList[j]\n                    });\n                }\n            }\n        }else if(arr[i].ty == 'tm' || arr[i].ty == 'rd' || arr[i].ty == 'ms'){\n            var modifier = ShapeModifiers.getModifier(arr[i].ty);\n            modifier.init(this,arr[i],dynamicProperties);\n            this.shapeModifiers.push(modifier);\n            ownModifiers.push(modifier);\n            data[i] = modifier;\n        }\n    }\n    len = ownArrays.length;\n    for(i=0;i<len;i+=1){\n        ownArrays[i].closed = true;\n    }\n    len = ownModifiers.length;\n    for(i=0;i<len;i+=1){\n        ownModifiers[i].closed = true;\n    }\n};\n\nShapeElement.prototype.addShapeToModifiers = function(shape) {\n    var i, len = this.shapeModifiers.length;\n    for(i=0;i<len;i+=1){\n        this.shapeModifiers[i].addShape(shape);\n    }\n};\n\nShapeElement.prototype.renderModifiers = function() {\n    if(!this.shapeModifiers.length){\n        return;\n    }\n    var i, len = this.shapes.length;\n    for(i=0;i<len;i+=1){\n        this.shapes[i].reset();\n    }\n\n\n    len = this.shapeModifiers.length;\n\n    for(i=len-1;i>=0;i-=1){\n        this.shapeModifiers[i].processShapes(this.firstFrame);\n    }\n};\n\nShapeElement.prototype.renderFrame = function(parentMatrix){\n    var renderParent = this._parent.renderFrame.call(this,parentMatrix);\n    if(renderParent===false){\n        this.hide();\n        return;\n    }\n    this.globalToLocal([0,0,0]);\n    if(this.hidden){\n        this.layerElement.style.display = 'block';\n        this.hidden = false;\n    }\n    this.renderModifiers();\n    this.renderShape(null,null,true, null);\n};\n\nShapeElement.prototype.hide = function(){\n    if(!this.hidden){\n        this.layerElement.style.display = 'none';\n        var i, len = this.stylesList.length;\n        for(i=len-1;i>=0;i-=1){\n            if(this.stylesList[i].ld !== '0'){\n                this.stylesList[i].ld = '0';\n                this.stylesList[i].pElem.style.display = 'none';\n                if(this.stylesList[i].pElem.parentNode){\n                    this.stylesList[i].parent = this.stylesList[i].pElem.parentNode;\n                    //this.stylesList[i].pElem.parentNode.removeChild(this.stylesList[i].pElem);\n                }\n            }\n        }\n        this.hidden = true;\n    }\n};\n\nShapeElement.prototype.renderShape = function(items,data,isMain, container){\n    var i, len;\n    if(!items){\n        items = this.shapesData;\n        len = this.stylesList.length;\n        for(i=0;i<len;i+=1){\n            this.stylesList[i].d = '';\n            this.stylesList[i].mdf = false;\n        }\n    }\n    if(!data){\n        data = this.viewData;\n    }\n    ///\n    ///\n    len = items.length - 1;\n    var ty;\n    for(i=len;i>=0;i-=1){\n        ty = items[i].ty;\n        if(ty == 'tr'){\n            if(this.firstFrame || data[i].transform.op.mdf && container){\n                container.setAttribute('opacity',data[i].transform.op.v);\n            }\n            if(this.firstFrame || data[i].transform.mProps.mdf && container){\n                container.setAttribute('transform',data[i].transform.mProps.v.to2dCSS());\n            }\n        }else if(ty == 'sh' || ty == 'el' || ty == 'rc' || ty == 'sr'){\n            this.renderPath(items[i],data[i]);\n        }else if(ty == 'fl'){\n            this.renderFill(items[i],data[i]);\n        }else if(ty == 'gf'){\n            this.renderGradient(items[i],data[i]);\n        }else if(ty == 'gs'){\n            this.renderGradient(items[i],data[i]);\n            this.renderStroke(items[i],data[i]);\n        }else if(ty == 'st'){\n            this.renderStroke(items[i],data[i]);\n        }else if(ty == 'gr'){\n            this.renderShape(items[i].it,data[i].it,false, data[i].gr);\n        }else if(ty == 'tm'){\n            //\n        }\n    }\n    if(isMain) {\n        len = this.stylesList.length;\n        for (i = 0; i < len; i += 1) {\n            if (this.stylesList[i].ld === '0') {\n                this.stylesList[i].ld = '1';\n                this.stylesList[i].pElem.style.display = 'block';\n                //this.stylesList[i].parent.appendChild(this.stylesList[i].pElem);\n            }\n            if (this.stylesList[i].mdf || this.firstFrame) {\n                this.stylesList[i].pElem.setAttribute('d', this.stylesList[i].d);\n                if(this.stylesList[i].msElem){\n                    this.stylesList[i].msElem.setAttribute('d', this.stylesList[i].d);\n                }\n            }\n        }\n        if (this.firstFrame) {\n            this.firstFrame = false;\n        }\n    }\n\n};\n\nShapeElement.prototype.renderPath = function(pathData,viewData){\n    var len, i, j, jLen,pathStringTransformed,redraw,pathNodes,l, lLen = viewData.elements.length;\n    var lvl = viewData.lvl;\n    for(l=0;l<lLen;l+=1){\n        redraw = viewData.sh.mdf || this.firstFrame;\n        pathStringTransformed = 'M0 0';\n        var paths = viewData.sh.paths;\n        jLen = paths.length;\n        if(viewData.elements[l].st.lvl < lvl){\n            var mat = this.mHelper.reset(), props;\n            var iterations = lvl - viewData.elements[l].st.lvl;\n            var k = viewData.transformers.length-1;\n            while(iterations > 0) {\n                redraw = viewData.transformers[k].mProps.mdf || redraw;\n                props = viewData.transformers[k].mProps.v.props;\n                mat.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\n                iterations --;\n                k --;\n            }\n            if(redraw){\n                for(j=0;j<jLen;j+=1){\n                    pathNodes = paths[j];\n                    if(pathNodes && pathNodes.v){\n                        len = pathNodes.v.length;\n                        for (i = 1; i < len; i += 1) {\n                            if (i == 1) {\n                                pathStringTransformed += \" M\" + mat.applyToPointStringified(pathNodes.v[0][0], pathNodes.v[0][1]);\n                            }\n                            pathStringTransformed += \" C\" + mat.applyToPointStringified(pathNodes.o[i - 1][0], pathNodes.o[i - 1][1]) + \" \" + mat.applyToPointStringified(pathNodes.i[i][0], pathNodes.i[i][1]) + \" \" + mat.applyToPointStringified(pathNodes.v[i][0], pathNodes.v[i][1]);\n                        }\n                        if (len == 1) {\n                            pathStringTransformed += \" M\" + mat.applyToPointStringified(pathNodes.v[0][0], pathNodes.v[0][1]);\n                        }\n                        if (pathNodes.c) {\n                            pathStringTransformed += \" C\" + mat.applyToPointStringified(pathNodes.o[i - 1][0], pathNodes.o[i - 1][1]) + \" \" + mat.applyToPointStringified(pathNodes.i[0][0], pathNodes.i[0][1]) + \" \" + mat.applyToPointStringified(pathNodes.v[0][0], pathNodes.v[0][1]);\n                            pathStringTransformed += 'z';\n                        }\n                    }\n                }\n                viewData.caches[l] = pathStringTransformed;\n            } else {\n                pathStringTransformed = viewData.caches[l];\n            }\n        } else {\n            if(redraw){\n                for(j=0;j<jLen;j+=1){\n                    pathNodes = paths[j];\n                    if(pathNodes && pathNodes.v){\n                        len = pathNodes.v.length;\n                        for (i = 1; i < len; i += 1) {\n                            if (i == 1) {\n                                //pathStringTransformed += \" M\" + groupTransform.mat.applyToPointStringified(pathNodes.v[0][0], pathNodes.v[0][1]);\n                                pathStringTransformed += \" M\" + pathNodes.v[0].join(',');\n                            }\n                            //pathStringTransformed += \" C\" + groupTransform.mat.applyToPointStringified(pathNodes.o[i - 1][0], pathNodes.o[i - 1][1]) + \" \" + groupTransform.mat.applyToPointStringified(pathNodes.i[i][0], pathNodes.i[i][1]) + \" \" + groupTransform.mat.applyToPointStringified(pathNodes.v[i][0], pathNodes.v[i][1]);\n                            pathStringTransformed += \" C\" + pathNodes.o[i - 1].join(',') + \" \" + pathNodes.i[i].join(',') + \" \" + pathNodes.v[i].join(',');\n                        }\n                        if (len == 1) {\n                            //pathStringTransformed += \" M\" + groupTransform.mat.applyToPointStringified(pathNodes.v[0][0], pathNodes.v[0][1]);\n                            pathStringTransformed += \" M\" + pathNodes.v[0].join(',');\n                        }\n                        if (pathNodes.c && len) {\n                            //pathStringTransformed += \" C\" + groupTransform.mat.applyToPointStringified(pathNodes.o[i - 1][0], pathNodes.o[i - 1][1]) + \" \" + groupTransform.mat.applyToPointStringified(pathNodes.i[0][0], pathNodes.i[0][1]) + \" \" + groupTransform.mat.applyToPointStringified(pathNodes.v[0][0], pathNodes.v[0][1]);\n                            pathStringTransformed += \" C\" + pathNodes.o[i - 1].join(',') + \" \" + pathNodes.i[0].join(',') + \" \" + pathNodes.v[0].join(',');\n                            pathStringTransformed += 'z';\n                        }\n                    }\n                }\n                viewData.caches[l] = pathStringTransformed;\n            } else {\n                pathStringTransformed = viewData.caches[l];\n            }\n        }\n        viewData.elements[l].st.d += pathStringTransformed;\n        viewData.elements[l].st.mdf = redraw || viewData.elements[l].st.mdf;\n    }\n\n};\n\nShapeElement.prototype.renderFill = function(styleData,viewData){\n    var styleElem = viewData.style;\n\n    if(viewData.c.mdf || this.firstFrame){\n        styleElem.pElem.setAttribute('fill','rgb('+bm_floor(viewData.c.v[0])+','+bm_floor(viewData.c.v[1])+','+bm_floor(viewData.c.v[2])+')');\n        ////styleElem.pElem.style.fill = 'rgb('+bm_floor(viewData.c.v[0])+','+bm_floor(viewData.c.v[1])+','+bm_floor(viewData.c.v[2])+')';\n    }\n    if(viewData.o.mdf || this.firstFrame){\n        styleElem.pElem.setAttribute('fill-opacity',viewData.o.v);\n    }\n};\n\nShapeElement.prototype.renderGradient = function(styleData,viewData){\n    var gfill = viewData.gf;\n    var opFill = viewData.of;\n    var pt1 = viewData.s.v,pt2 = viewData.e.v;\n\n    if(viewData.o.mdf || this.firstFrame){\n        var attr = styleData.ty === 'gf' ? 'fill-opacity':'stroke-opacity';\n        viewData.elem.setAttribute(attr,viewData.o.v);\n    }\n    //clippedElement.setAttribute('transform','matrix(1,0,0,1,-100,0)');\n    if(viewData.s.mdf || this.firstFrame){\n        var attr1 = styleData.t === 1 ? 'x1':'cx';\n        var attr2 = attr1 === 'x1' ? 'y1':'cy';\n        gfill.setAttribute(attr1,pt1[0]);\n        gfill.setAttribute(attr2,pt1[1]);\n        if(opFill){\n            opFill.setAttribute(attr1,pt1[0]);\n            opFill.setAttribute(attr2,pt1[1]);\n        }\n    }\n    var stops, i, len, stop;\n    if(viewData.g.cmdf || this.firstFrame){\n        stops = viewData.cst;\n        var cValues = viewData.g.c;\n        len = stops.length;\n        for(i=0;i<len;i+=1){\n            stop = stops[i];\n            stop.setAttribute('offset',cValues[i*4]+'%');\n            stop.setAttribute('stop-color','rgb('+cValues[i*4+1]+','+cValues[i*4+2]+','+cValues[i*4+3]+')');\n        }\n    }\n    if(opFill && (viewData.g.omdf || this.firstFrame)){\n        stops = viewData.ost;\n        var oValues = viewData.g.o;\n        len = stops.length;\n        for(i=0;i<len;i+=1){\n            stop = stops[i];\n            stop.setAttribute('offset',oValues[i*2]+'%');\n            stop.setAttribute('stop-opacity',oValues[i*2+1]);\n        }\n    }\n    if(styleData.t === 1){\n        if(viewData.e.mdf  || this.firstFrame){\n            gfill.setAttribute('x2',pt2[0]);\n            gfill.setAttribute('y2',pt2[1]);\n            if(opFill){\n                opFill.setAttribute('x2',pt2[0]);\n                opFill.setAttribute('y2',pt2[1]);\n            }\n        }\n    } else {\n        var rad;\n        if(viewData.s.mdf || viewData.e.mdf || this.firstFrame){\n            rad = Math.sqrt(Math.pow(pt1[0]-pt2[0],2)+Math.pow(pt1[1]-pt2[1],2));\n            gfill.setAttribute('r',rad);\n            if(opFill){\n                opFill.setAttribute('r',rad);\n            }\n        }\n        if(viewData.e.mdf || viewData.h.mdf || viewData.a.mdf || this.firstFrame){\n            if(!rad){\n                rad = Math.sqrt(Math.pow(pt1[0]-pt2[0],2)+Math.pow(pt1[1]-pt2[1],2));\n            }\n            var ang = Math.atan2(pt2[1]-pt1[1], pt2[0]-pt1[0]);\n\n            var percent = viewData.h.v >= 1 ? 0.99 : viewData.h.v <= -1 ? -0.99:viewData.h.v;\n            var dist = rad*percent;\n            var x = Math.cos(ang + viewData.a.v)*dist + pt1[0];\n            var y = Math.sin(ang + viewData.a.v)*dist + pt1[1];\n            gfill.setAttribute('fx',x);\n            gfill.setAttribute('fy',y);\n            if(opFill){\n                opFill.setAttribute('fx',x);\n                opFill.setAttribute('fy',y);\n            }\n        }\n        //gfill.setAttribute('fy','200');\n    }\n};\n\nShapeElement.prototype.renderStroke = function(styleData,viewData){\n    var styleElem = viewData.style;\n    //TODO fix dashes\n    var d = viewData.d;\n    var dasharray,dashoffset;\n    if(d && d.k && (d.mdf || this.firstFrame)){\n        styleElem.pElem.setAttribute('stroke-dasharray', d.dasharray);\n        ////styleElem.pElem.style.strokeDasharray = d.dasharray;\n        styleElem.pElem.setAttribute('stroke-dashoffset', d.dashoffset);\n        ////styleElem.pElem.style.strokeDashoffset = d.dashoffset;\n    }\n    if(viewData.c && (viewData.c.mdf || this.firstFrame)){\n        styleElem.pElem.setAttribute('stroke','rgb('+bm_floor(viewData.c.v[0])+','+bm_floor(viewData.c.v[1])+','+bm_floor(viewData.c.v[2])+')');\n        ////styleElem.pElem.style.stroke = 'rgb('+bm_floor(viewData.c.v[0])+','+bm_floor(viewData.c.v[1])+','+bm_floor(viewData.c.v[2])+')';\n    }\n    if(viewData.o.mdf || this.firstFrame){\n        styleElem.pElem.setAttribute('stroke-opacity',viewData.o.v);\n    }\n    if(viewData.w.mdf || this.firstFrame){\n        styleElem.pElem.setAttribute('stroke-width',viewData.w.v);\n        if(styleElem.msElem){\n            styleElem.msElem.setAttribute('stroke-width',viewData.w.v);\n        }\n        ////styleElem.pElem.style.strokeWidth = viewData.w.v;\n    }\n};\n\nShapeElement.prototype.destroy = function(){\n    this._parent.destroy.call(this._parent);\n    this.shapeData = null;\n    this.viewData = null;\n    this.parentContainer = null;\n    this.placeholder = null;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./js/elements/ShapeElement.js","import SVGBaseElement from \"./svgElements/SVGBaseElement\";\nimport {createElement} from \"../utils/common\";\nimport ImageElement from \"./ImageElement\";\n\nexport default function SolidElement(data, parentContainer, globalData, comp, placeholder){\n    this._parent.constructor.call(this,data,parentContainer,globalData,comp, placeholder);\n}\ncreateElement(SVGBaseElement, SolidElement);\n\nSolidElement.prototype.createElements = function(){\n    this._parent.createElements.call(this);\n\n    var rect = document.createElementNS(svgNS,'rect');\n    ////rect.style.width = this.data.sw;\n    ////rect.style.height = this.data.sh;\n    ////rect.style.fill = this.data.sc;\n    rect.setAttribute('width',this.data.sw);\n    rect.setAttribute('height',this.data.sh);\n    rect.setAttribute('fill',this.data.sc);\n    this.layerElement.appendChild(rect);\n    this.innerElem = rect;\n    if(this.data.ln){\n        this.layerElement.setAttribute('id',this.data.ln);\n    }\n    if(this.data.cl){\n        this.layerElement.setAttribute('class',this.data.cl);\n    }\n};\n\nSolidElement.prototype.hide = ImageElement.prototype.hide;\nSolidElement.prototype.renderFrame = ImageElement.prototype.renderFrame;\nSolidElement.prototype.destroy = ImageElement.prototype.destroy;\n\n\n\n// WEBPACK FOOTER //\n// ./js/elements/SolidElement.js","import {LetterProps} from \"../utils/common\";\nexport default function ITextElement(data, animationItem, parentContainer, globalData){\n}\nITextElement.prototype.init = function(){\n    this._parent.init.call(this);\n\n    this.lettersChangedFlag = false;\n    this.currentTextDocumentData = {};\n    var data = this.data;\n    this.viewData = {\n        m:{\n            a: PropertyFactory.getProp(this,data.t.m.a,1,0,this.dynamicProperties)\n        }\n    };\n    var textData = this.data.t;\n    if(textData.a.length){\n        this.viewData.a = Array.apply(null,{length:textData.a.length});\n        var i, len = textData.a.length, animatorData, animatorProps;\n        for(i=0;i<len;i+=1){\n            animatorProps = textData.a[i];\n            animatorData = {\n                a: {},\n                s: {}\n            };\n            if('r' in animatorProps.a) {\n                animatorData.a.r = PropertyFactory.getProp(this,animatorProps.a.r,0,degToRads,this.dynamicProperties);\n            }\n            if('rx' in animatorProps.a) {\n                animatorData.a.rx = PropertyFactory.getProp(this,animatorProps.a.rx,0,degToRads,this.dynamicProperties);\n            }\n            if('ry' in animatorProps.a) {\n                animatorData.a.ry = PropertyFactory.getProp(this,animatorProps.a.ry,0,degToRads,this.dynamicProperties);\n            }\n            if('sk' in animatorProps.a) {\n                animatorData.a.sk = PropertyFactory.getProp(this,animatorProps.a.sk,0,degToRads,this.dynamicProperties);\n            }\n            if('sa' in animatorProps.a) {\n                animatorData.a.sa = PropertyFactory.getProp(this,animatorProps.a.sa,0,degToRads,this.dynamicProperties);\n            }\n            if('s' in animatorProps.a) {\n                animatorData.a.s = PropertyFactory.getProp(this,animatorProps.a.s,1,0.01,this.dynamicProperties);\n            }\n            if('a' in animatorProps.a) {\n                animatorData.a.a = PropertyFactory.getProp(this,animatorProps.a.a,1,0,this.dynamicProperties);\n            }\n            if('o' in animatorProps.a) {\n                animatorData.a.o = PropertyFactory.getProp(this,animatorProps.a.o,0,0.01,this.dynamicProperties);\n            }\n            if('p' in animatorProps.a) {\n                animatorData.a.p = PropertyFactory.getProp(this,animatorProps.a.p,1,0,this.dynamicProperties);\n            }\n            if('sw' in animatorProps.a) {\n                animatorData.a.sw = PropertyFactory.getProp(this,animatorProps.a.sw,0,0,this.dynamicProperties);\n            }\n            if('sc' in animatorProps.a) {\n                animatorData.a.sc = PropertyFactory.getProp(this,animatorProps.a.sc,1,0,this.dynamicProperties);\n            }\n            if('fc' in animatorProps.a) {\n                animatorData.a.fc = PropertyFactory.getProp(this,animatorProps.a.fc,1,0,this.dynamicProperties);\n            }\n            if('fh' in animatorProps.a) {\n                animatorData.a.fh = PropertyFactory.getProp(this,animatorProps.a.fh,0,0,this.dynamicProperties);\n            }\n            if('fs' in animatorProps.a) {\n                animatorData.a.fs = PropertyFactory.getProp(this,animatorProps.a.fs,0,0.01,this.dynamicProperties);\n            }\n            if('fb' in animatorProps.a) {\n                animatorData.a.fb = PropertyFactory.getProp(this,animatorProps.a.fb,0,0.01,this.dynamicProperties);\n            }\n            if('t' in animatorProps.a) {\n                animatorData.a.t = PropertyFactory.getProp(this,animatorProps.a.t,0,0,this.dynamicProperties);\n            }\n            animatorData.s = PropertyFactory.getTextSelectorProp(this,animatorProps.s,this.dynamicProperties);\n            animatorData.s.t = animatorProps.s.t;\n            this.viewData.a[i] = animatorData;\n        }\n    }else{\n        this.viewData.a = [];\n    }\n    if(textData.p && 'm' in textData.p){\n        this.viewData.p = {\n            f: PropertyFactory.getProp(this,textData.p.f,0,0,this.dynamicProperties),\n            l: PropertyFactory.getProp(this,textData.p.l,0,0,this.dynamicProperties),\n            r: textData.p.r,\n            m: this.maskManager.getMaskProperty(textData.p.m)\n        };\n        this.maskPath = true;\n    } else {\n        this.maskPath = false;\n    }\n};\nITextElement.prototype.prepareFrame = function(num) {\n    var i = 0, len = this.data.t.d.k.length;\n    var textDocumentData = this.data.t.d.k[i].s;\n    i += 1;\n    while(i<len){\n        if(this.data.t.d.k[i].t > num){\n            break;\n        }\n        textDocumentData = this.data.t.d.k[i].s;\n        i += 1;\n    }\n    this.lettersChangedFlag = false;\n    if(textDocumentData !== this.currentTextDocumentData){\n        this.currentTextDocumentData = textDocumentData;\n        this.lettersChangedFlag = true;\n        this.buildNewText();\n    }\n    this._parent.prepareFrame.call(this, num);\n}\n\nITextElement.prototype.createPathShape = function(matrixHelper, shapes) {\n    var j,jLen = shapes.length;\n    var k, kLen, pathNodes;\n    var shapeStr = '';\n    for(j=0;j<jLen;j+=1){\n        kLen = shapes[j].ks.k.i.length;\n        pathNodes = shapes[j].ks.k;\n        for(k=1;k<kLen;k+=1){\n            if(k==1){\n                shapeStr += \" M\"+matrixHelper.applyToPointStringified(pathNodes.v[0][0],pathNodes.v[0][1]);\n            }\n            shapeStr += \" C\"+matrixHelper.applyToPointStringified(pathNodes.o[k-1][0],pathNodes.o[k-1][1]) + \" \"+matrixHelper.applyToPointStringified(pathNodes.i[k][0],pathNodes.i[k][1]) + \" \"+matrixHelper.applyToPointStringified(pathNodes.v[k][0],pathNodes.v[k][1]);\n        }\n        shapeStr += \" C\"+matrixHelper.applyToPointStringified(pathNodes.o[k-1][0],pathNodes.o[k-1][1]) + \" \"+matrixHelper.applyToPointStringified(pathNodes.i[0][0],pathNodes.i[0][1]) + \" \"+matrixHelper.applyToPointStringified(pathNodes.v[0][0],pathNodes.v[0][1]);\n        shapeStr += 'z';\n    }\n    return shapeStr;\n};\n\nITextElement.prototype.getMeasures = function(){\n\n    var matrixHelper = this.mHelper;\n    var renderType = this.renderType;\n    var data = this.data;\n    var xPos,yPos;\n    var i, len;\n    var documentData = this.currentTextDocumentData;\n    var letters = documentData.l;\n    if(this.maskPath) {\n        var mask = this.viewData.p.m;\n        if(!this.viewData.p.n || this.viewData.p.mdf){\n            var paths = mask.v;\n            if(this.viewData.p.r){\n                paths = reversePath(paths);\n            }\n            var pathInfo = {\n                tLength: 0,\n                segments: []\n            };\n            len = paths.v.length - 1;\n            var pathData;\n            var totalLength = 0;\n            for (i = 0; i < len; i += 1) {\n                pathData = {\n                    s: paths.v[i],\n                    e: paths.v[i + 1],\n                    to: [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]],\n                    ti: [paths.i[i + 1][0] - paths.v[i + 1][0], paths.i[i + 1][1] - paths.v[i + 1][1]]\n                };\n                bez.buildBezierData(pathData);\n                pathInfo.tLength += pathData.bezierData.segmentLength;\n                pathInfo.segments.push(pathData);\n                totalLength += pathData.bezierData.segmentLength;\n            }\n            i = len;\n            if (mask.v.c) {\n                pathData = {\n                    s: paths.v[i],\n                    e: paths.v[0],\n                    to: [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]],\n                    ti: [paths.i[0][0] - paths.v[0][0], paths.i[0][1] - paths.v[0][1]]\n                };\n                bez.buildBezierData(pathData);\n                pathInfo.tLength += pathData.bezierData.segmentLength;\n                pathInfo.segments.push(pathData);\n                totalLength += pathData.bezierData.segmentLength;\n            }\n            this.viewData.p.pi = pathInfo;\n        }\n        var pathInfo = this.viewData.p.pi;\n\n        var currentLength = this.viewData.p.f.v, segmentInd = 0, pointInd = 1, currentPoint, prevPoint, points;\n        var segmentLength = 0, flag = true;\n        var segments = pathInfo.segments;\n        if (currentLength < 0 && mask.v.c) {\n            if (pathInfo.tLength < Math.abs(currentLength)) {\n                currentLength = -Math.abs(currentLength) % pathInfo.tLength;\n            }\n            segmentInd = segments.length - 1;\n            points = segments[segmentInd].bezierData.points;\n            pointInd = points.length - 1;\n            while (currentLength < 0) {\n                currentLength += points[pointInd].partialLength;\n                pointInd -= 1;\n                if (pointInd < 0) {\n                    segmentInd -= 1;\n                    points = segments[segmentInd].bezierData.points;\n                    pointInd = points.length - 1;\n                }\n            }\n\n        }\n        points = segments[segmentInd].bezierData.points;\n        prevPoint = points[pointInd - 1];\n        currentPoint = points[pointInd];\n        var partialLength = currentPoint.partialLength;\n        var perc, tanAngle;\n    }\n\n\n    len = letters.length;\n    xPos = 0;\n    yPos = 0;\n    var yOff = documentData.s*1.2*.714;\n    var firstLine = true;\n    var renderedData = this.viewData, animatorProps, animatorSelector;\n    var j, jLen;\n    var lettersValue = Array.apply(null,{length:len}), letterValue;\n\n    jLen = renderedData.a.length;\n    var lastLetter;\n\n    var mult, ind = -1, offf, xPathPos, yPathPos;\n    var initPathPos = currentLength,initSegmentInd = segmentInd, initPointInd = pointInd, currentLine = -1;\n    var elemOpacity;\n    var sc,sw,fc,k;\n    var lineLength = 0;\n    var letterSw,letterSc,letterFc,letterM,letterP,letterO;\n    for( i = 0; i < len; i += 1) {\n        matrixHelper.reset();\n        elemOpacity = 1;\n        if(letters[i].n) {\n            xPos = 0;\n            yPos += documentData.yOffset;\n            yPos += firstLine ? 1 : 0;\n            currentLength = initPathPos ;\n            firstLine = false;\n            lineLength = 0;\n            if(this.maskPath) {\n                segmentInd = initSegmentInd;\n                pointInd = initPointInd;\n                points = segments[segmentInd].bezierData.points;\n                prevPoint = points[pointInd - 1];\n                currentPoint = points[pointInd];\n                partialLength = currentPoint.partialLength;\n                segmentLength = 0;\n            }\n            lettersValue[i] = this.emptyProp;\n        }else{\n            if(this.maskPath) {\n                if(currentLine !== letters[i].line){\n                    switch(documentData.j){\n                        case 1:\n                            currentLength += totalLength - documentData.lineWidths[letters[i].line];\n                            break;\n                        case 2:\n                            currentLength += (totalLength - documentData.lineWidths[letters[i].line])/2;\n                            break;\n                    }\n                    currentLine = letters[i].line;\n                }\n                if (ind !== letters[i].ind) {\n                    if (letters[ind]) {\n                        currentLength += letters[ind].extra;\n                    }\n                    currentLength += letters[i].an / 2;\n                    ind = letters[i].ind;\n                }\n                currentLength += renderedData.m.a.v[0] * letters[i].an / 200;\n                var animatorOffset = 0;\n                for (j = 0; j < jLen; j += 1) {\n                    animatorProps = renderedData.a[j].a;\n                    if ('p' in animatorProps) {\n                        animatorSelector = renderedData.a[j].s;\n                        mult = animatorSelector.getMult(letters[i].anIndexes[j],data.t.a[j].s.totalChars);\n                        if(mult.length){\n                            animatorOffset += animatorProps.p.v[0] * mult[0];\n                        } else{\n                            animatorOffset += animatorProps.p.v[0] * mult;\n                        }\n\n                    }\n                }\n                flag = true;\n                while (flag) {\n                    if (segmentLength + partialLength >= currentLength + animatorOffset || !points) {\n                        perc = (currentLength + animatorOffset - segmentLength) / currentPoint.partialLength;\n                        xPathPos = prevPoint.point[0] + (currentPoint.point[0] - prevPoint.point[0]) * perc;\n                        yPathPos = prevPoint.point[1] + (currentPoint.point[1] - prevPoint.point[1]) * perc;\n                        matrixHelper.translate(0, -(renderedData.m.a.v[1] * yOff / 100) + yPos);\n                        flag = false;\n                    } else if (points) {\n                        segmentLength += currentPoint.partialLength;\n                        pointInd += 1;\n                        if (pointInd >= points.length) {\n                            pointInd = 0;\n                            segmentInd += 1;\n                            if (!segments[segmentInd]) {\n                                if (mask.v.c) {\n                                    pointInd = 0;\n                                    segmentInd = 0;\n                                    points = segments[segmentInd].bezierData.points;\n                                } else {\n                                    segmentLength -= currentPoint.partialLength;\n                                    points = null;\n                                }\n                            } else {\n                                points = segments[segmentInd].bezierData.points;\n                            }\n                        }\n                        if (points) {\n                            prevPoint = currentPoint;\n                            currentPoint = points[pointInd];\n                            partialLength = currentPoint.partialLength;\n                        }\n                    }\n                }\n                offf = letters[i].an / 2 - letters[i].add;\n                matrixHelper.translate(-offf, 0, 0);\n            } else {\n                offf = letters[i].an/2 - letters[i].add;\n                matrixHelper.translate(-offf,0,0);\n\n                // Grouping alignment\n                matrixHelper.translate(-renderedData.m.a.v[0]*letters[i].an/200, -renderedData.m.a.v[1]*yOff/100, 0);\n            }\n\n            lineLength += letters[i].l/2;\n            for(j=0;j<jLen;j+=1){\n                animatorProps = renderedData.a[j].a;\n                if ('t' in animatorProps) {\n                    animatorSelector = renderedData.a[j].s;\n                    mult = animatorSelector.getMult(letters[i].anIndexes[j],data.t.a[j].s.totalChars);\n                    if(this.maskPath) {\n                        if(mult.length) {\n                            currentLength += animatorProps.t*mult[0];\n                        } else {\n                            currentLength += animatorProps.t*mult;\n                        }\n                    }else{\n                        if(mult.length) {\n                            xPos += animatorProps.t.v*mult[0];\n                        } else {\n                            xPos += animatorProps.t.v*mult;\n                        }\n                    }\n                }\n            }\n            lineLength += letters[i].l/2;\n            if(documentData.strokeWidthAnim) {\n                sw = documentData.sw || 0;\n            }\n            if(documentData.strokeColorAnim) {\n                if(documentData.sc){\n                    sc = [documentData.sc[0], documentData.sc[1], documentData.sc[2]];\n                }else{\n                    sc = [0,0,0];\n                }\n            }\n            if(documentData.fillColorAnim) {\n                fc = [documentData.fc[0], documentData.fc[1], documentData.fc[2]];\n            }\n            for(j=0;j<jLen;j+=1){\n                animatorProps = renderedData.a[j].a;\n                if ('a' in animatorProps) {\n                    animatorSelector = renderedData.a[j].s;\n                    mult = animatorSelector.getMult(letters[i].anIndexes[j],data.t.a[j].s.totalChars);\n\n                    if(mult.length){\n                        matrixHelper.translate(-animatorProps.a.v[0]*mult[0], -animatorProps.a.v[1]*mult[1], animatorProps.a.v[2]*mult[2]);\n                    } else {\n                        matrixHelper.translate(-animatorProps.a.v[0]*mult, -animatorProps.a.v[1]*mult, animatorProps.a.v[2]*mult);\n                    }\n                }\n            }\n            for(j=0;j<jLen;j+=1){\n                animatorProps = renderedData.a[j].a;\n                if ('s' in animatorProps) {\n                    animatorSelector = renderedData.a[j].s;\n                    mult = animatorSelector.getMult(letters[i].anIndexes[j],data.t.a[j].s.totalChars);\n                    if(mult.length){\n                        matrixHelper.scale(1+((animatorProps.s.v[0]-1)*mult[0]),1+((animatorProps.s.v[1]-1)*mult[1]),1);\n                    } else {\n                        matrixHelper.scale(1+((animatorProps.s.v[0]-1)*mult),1+((animatorProps.s.v[1]-1)*mult),1);\n                    }\n                }\n            }\n            for(j=0;j<jLen;j+=1) {\n                animatorProps = renderedData.a[j].a;\n                animatorSelector = renderedData.a[j].s;\n                mult = animatorSelector.getMult(letters[i].anIndexes[j],data.t.a[j].s.totalChars);\n                if ('sk' in animatorProps) {\n                    if(mult.length) {\n                        matrixHelper.skewFromAxis(-animatorProps.sk.v * mult[0], animatorProps.sa.v * mult[1]);\n                    } else {\n                        matrixHelper.skewFromAxis(-animatorProps.sk.v * mult, animatorProps.sa.v * mult);\n                    }\n                }\n                if ('r' in animatorProps) {\n                    if(mult.length) {\n                        matrixHelper.rotateZ(-animatorProps.r.v * mult[2]);\n                    } else {\n                        matrixHelper.rotateZ(-animatorProps.r.v * mult);\n                    }\n                }\n                if ('ry' in animatorProps) {\n\n                    if(mult.length) {\n                        matrixHelper.rotateY(animatorProps.ry.v*mult[1]);\n                    }else{\n                        matrixHelper.rotateY(animatorProps.ry.v*mult);\n                    }\n                }\n                if ('rx' in animatorProps) {\n                    if(mult.length) {\n                        matrixHelper.rotateX(animatorProps.rx.v*mult[0]);\n                    } else {\n                        matrixHelper.rotateX(animatorProps.rx.v*mult);\n                    }\n                }\n                if ('o' in animatorProps) {\n                    if(mult.length) {\n                        elemOpacity += ((animatorProps.o.v)*mult[0] - elemOpacity)*mult[0];\n                    } else {\n                        elemOpacity += ((animatorProps.o.v)*mult - elemOpacity)*mult;\n                    }\n                }\n                if (documentData.strokeWidthAnim && 'sw' in animatorProps) {\n                    if(mult.length) {\n                        sw += animatorProps.sw.v*mult[0];\n                    } else {\n                        sw += animatorProps.sw.v*mult;\n                    }\n                }\n                if (documentData.strokeColorAnim && 'sc' in animatorProps) {\n                    for(k=0;k<3;k+=1){\n                        if(mult.length) {\n                            sc[k] = Math.round(255*(sc[k] + (animatorProps.sc.v[k] - sc[k])*mult[0]));\n                        } else {\n                            sc[k] = Math.round(255*(sc[k] + (animatorProps.sc.v[k] - sc[k])*mult));\n                        }\n                    }\n                }\n                if (documentData.fillColorAnim) {\n                    if('fc' in animatorProps){\n                        for(k=0;k<3;k+=1){\n                            if(mult.length) {\n                                fc[k] = fc[k] + (animatorProps.fc.v[k] - fc[k])*mult[0];\n                            } else {\n                                fc[k] = fc[k] + (animatorProps.fc.v[k] - fc[k])*mult;\n                                //console.log('mult',mult);\n                                //console.log(Math.round(fc[k] + (animatorProps.fc.v[k] - fc[k])*mult));\n                            }\n                        }\n                    }\n                    if('fh' in animatorProps){\n                        if(mult.length) {\n                            fc = addHueToRGB(fc,animatorProps.fh.v*mult[0]);\n                        } else {\n                            fc = addHueToRGB(fc,animatorProps.fh.v*mult);\n                        }\n                    }\n                    if('fs' in animatorProps){\n                        if(mult.length) {\n                            fc = addSaturationToRGB(fc,animatorProps.fs.v*mult[0]);\n                        } else {\n                            fc = addSaturationToRGB(fc,animatorProps.fs.v*mult);\n                        }\n                    }\n                    if('fb' in animatorProps){\n                        if(mult.length) {\n                            fc = addBrightnessToRGB(fc,animatorProps.fb.v*mult[0]);\n                        } else {\n                            fc = addBrightnessToRGB(fc,animatorProps.fb.v*mult);\n                        }\n                    }\n                }\n            }\n\n            for(j=0;j<jLen;j+=1){\n                animatorProps = renderedData.a[j].a;\n\n                if ('p' in animatorProps) {\n                    animatorSelector = renderedData.a[j].s;\n                    mult = animatorSelector.getMult(letters[i].anIndexes[j],data.t.a[j].s.totalChars);\n                    if(this.maskPath) {\n                        if(mult.length) {\n                            matrixHelper.translate(0, animatorProps.p.v[1] * mult[0], -animatorProps.p.v[2] * mult[1]);\n                        } else {\n                            matrixHelper.translate(0, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\n                        }\n                    }else{\n\n                        if(mult.length) {\n                            matrixHelper.translate(animatorProps.p.v[0] * mult[0], animatorProps.p.v[1] * mult[1], -animatorProps.p.v[2] * mult[2]);\n                        } else {\n                            matrixHelper.translate(animatorProps.p.v[0] * mult, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\n                        }\n                    }\n                }\n            }\n            if(documentData.strokeWidthAnim){\n                letterSw = sw < 0 ? 0 : sw;\n            }\n            if(documentData.strokeColorAnim){\n                letterSc = 'rgb('+Math.round(sc[0]*255)+','+Math.round(sc[1]*255)+','+Math.round(sc[2]*255)+')';\n            }\n            if(documentData.fillColorAnim){\n                letterFc = 'rgb('+Math.round(fc[0]*255)+','+Math.round(fc[1]*255)+','+Math.round(fc[2]*255)+')';\n            }\n\n            if(this.maskPath) {\n                if (data.t.p.p) {\n                    tanAngle = (currentPoint.point[1] - prevPoint.point[1]) / (currentPoint.point[0] - prevPoint.point[0]);\n                    var rot = Math.atan(tanAngle) * 180 / Math.PI;\n                    if (currentPoint.point[0] < prevPoint.point[0]) {\n                        rot += 180;\n                    }\n                    matrixHelper.rotate(-rot * Math.PI / 180);\n                }\n                matrixHelper.translate(xPathPos, yPathPos, 0);\n                matrixHelper.translate(renderedData.m.a.v[0]*letters[i].an/200, renderedData.m.a.v[1]*yOff/100,0);\n                currentLength -= renderedData.m.a.v[0]*letters[i].an/200;\n                if(letters[i+1] && ind !== letters[i+1].ind){\n                    currentLength += letters[i].an / 2;\n                    currentLength += documentData.tr/1000*documentData.s;\n                }\n            }else{\n\n                matrixHelper.translate(xPos,yPos,0);\n\n                if(documentData.ps){\n                    //matrixHelper.translate(documentData.ps[0],documentData.ps[1],0);\n                    matrixHelper.translate(documentData.ps[0],documentData.ps[1] + documentData.ascent,0);\n                }\n                switch(documentData.j){\n                    case 1:\n                        matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]),0,0);\n                        break;\n                    case 2:\n                        matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line])/2,0,0);\n                        break;\n                }\n                matrixHelper.translate(offf,0,0);\n                matrixHelper.translate(renderedData.m.a.v[0]*letters[i].an/200,renderedData.m.a.v[1]*yOff/100,0);\n                xPos += letters[i].l + documentData.tr/1000*documentData.s;\n            }\n            if(renderType === 'html'){\n                letterM = matrixHelper.toCSS();\n            }else if(renderType === 'svg'){\n                letterM = matrixHelper.to2dCSS();\n            }else{\n                letterP = [matrixHelper.props[0],matrixHelper.props[1],matrixHelper.props[2],matrixHelper.props[3],matrixHelper.props[4],matrixHelper.props[5],matrixHelper.props[6],matrixHelper.props[7],matrixHelper.props[8],matrixHelper.props[9],matrixHelper.props[10],matrixHelper.props[11],matrixHelper.props[12],matrixHelper.props[13],matrixHelper.props[14],matrixHelper.props[15]];\n            }\n            letterO = elemOpacity;\n\n            lastLetter = this.renderedLetters[i];\n            if(lastLetter && (lastLetter.o !== letterO || lastLetter.sw !== letterSw || lastLetter.sc !== letterSc || lastLetter.fc !== letterFc)){\n                this.lettersChangedFlag = true;\n                letterValue = new LetterProps(letterO,letterSw,letterSc,letterFc,letterM,letterP);\n            }else{\n                if((renderType === 'svg' || renderType === 'html') && (!lastLetter || lastLetter.m !== letterM)){\n                    this.lettersChangedFlag = true;\n                    letterValue = new LetterProps(letterO,letterSw,letterSc,letterFc,letterM);\n                }else if(renderType === 'canvas' && (!lastLetter || (lastLetter.props[0] !== letterP[0] || lastLetter.props[1] !== letterP[1] || lastLetter.props[4] !== letterP[4] || lastLetter.props[5] !== letterP[5] || lastLetter.props[12] !== letterP[12] || lastLetter.props[13] !== letterP[13]))){\n                    this.lettersChangedFlag = true;\n                    letterValue = new LetterProps(letterO,letterSw,letterSc,letterFc,null,letterP);\n                } else {\n                    letterValue = lastLetter;\n                }\n            }\n            this.renderedLetters[i] = letterValue;\n        }\n    }\n};\n\nITextElement.prototype.emptyProp = new LetterProps();\n\n\n\n// WEBPACK FOOTER //\n// ./js/elements/TextElement.js","import SVGBaseElement from \"./SVGBaseElement\";\nimport {createElement} from \"../../utils/common\";\nimport TextElement from \"../TextElement\";\nexport default function SVGTextElement(data, parentContainer, globalData, comp, placeholder){\n    this.textSpans = [];\n    this.renderType = 'svg';\n    this._parent.constructor.call(this,data,parentContainer,globalData,comp, placeholder);\n}\ncreateElement(SVGBaseElement, SVGTextElement);\n\nSVGTextElement.prototype.init = TextElement.prototype.init;\nSVGTextElement.prototype.createPathShape = TextElement.prototype.createPathShape;\nSVGTextElement.prototype.getMeasures = TextElement.prototype.getMeasures;\nSVGTextElement.prototype.prepareFrame = TextElement.prototype.prepareFrame;\n\nSVGTextElement.prototype.createElements = function(){\n\n    this._parent.createElements.call(this);\n\n\n    if(this.data.ln){\n        this.layerElement.setAttribute('id',this.data.ln);\n    }\n    if(this.data.cl){\n        this.layerElement.setAttribute('class',this.data.cl);\n    }\n};\n\nSVGTextElement.prototype.buildNewText = function(){\n    var i, len;\n\n    var documentData = this.currentTextDocumentData;\n    this.renderedLetters = Array.apply(null,{length:this.currentTextDocumentData.l ? this.currentTextDocumentData.l.length : 0});\n    if(documentData.fc) {\n        this.layerElement.setAttribute('fill', 'rgb(' + Math.round(documentData.fc[0]*255) + ',' + Math.round(documentData.fc[1]*255) + ',' + Math.round(documentData.fc[2]*255) + ')');\n    }else{\n        this.layerElement.setAttribute('fill', 'rgba(0,0,0,0)');\n    }\n    if(documentData.sc){\n        this.layerElement.setAttribute('stroke', 'rgb(' + Math.round(documentData.sc[0]*255) + ',' + Math.round(documentData.sc[1]*255) + ',' + Math.round(documentData.sc[2]*255) + ')');\n        this.layerElement.setAttribute('stroke-width', documentData.sw);\n    }\n    this.layerElement.setAttribute('font-size', documentData.s);\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n    if(fontData.fClass){\n        this.layerElement.setAttribute('class',fontData.fClass);\n    } else {\n        this.layerElement.setAttribute('font-family', fontData.fFamily);\n        var fWeight = documentData.fWeight, fStyle = documentData.fStyle;\n        this.layerElement.setAttribute('font-style', fStyle);\n        this.layerElement.setAttribute('font-weight', fWeight);\n    }\n\n\n\n    var letters = documentData.l || [];\n    len = letters.length;\n    if(!len){\n        return;\n    }\n    var tSpan;\n    var matrixHelper = this.mHelper;\n    var shapes, shapeStr = '', singleShape = this.data.singleShape;\n    if (singleShape) {\n        var xPos = 0, yPos = 0, lineWidths = documentData.lineWidths, boxWidth = documentData.boxWidth, firstLine = true;\n    }\n    var cnt = 0;\n    for (i = 0;i < len ;i += 1) {\n        if(this.globalData.fontManager.chars){\n            if(!singleShape || i === 0){\n                tSpan = this.textSpans[cnt] ? this.textSpans[cnt] : document.createElementNS(svgNS,'path');\n            }\n        }else{\n            tSpan = this.textSpans[cnt] ? this.textSpans[cnt] : document.createElementNS(svgNS,'text');\n        }\n        tSpan.style.display = 'inherit';\n        tSpan.setAttribute('stroke-linecap', 'butt');\n        tSpan.setAttribute('stroke-linejoin','round');\n        tSpan.setAttribute('stroke-miterlimit','4');\n        //tSpan.setAttribute('visibility', 'hidden');\n        if(singleShape && letters[i].n) {\n            xPos = 0;\n            yPos += documentData.yOffset;\n            yPos += firstLine ? 1 : 0;\n            firstLine = false;\n        }\n        matrixHelper.reset();\n        if(this.globalData.fontManager.chars) {\n            matrixHelper.scale(documentData.s / 100, documentData.s / 100);\n        }\n        if (singleShape) {\n            if(documentData.ps){\n                matrixHelper.translate(documentData.ps[0],documentData.ps[1] + documentData.ascent,0);\n            }\n            switch(documentData.j){\n                case 1:\n                    matrixHelper.translate(documentData.justifyOffset + (boxWidth - lineWidths[letters[i].line]),0,0);\n                    break;\n                case 2:\n                    matrixHelper.translate(documentData.justifyOffset + (boxWidth - lineWidths[letters[i].line])/2,0,0);\n                    break;\n            }\n            matrixHelper.translate(xPos, yPos, 0);\n        }\n        if(this.globalData.fontManager.chars){\n            var charData = this.globalData.fontManager.getCharData(documentData.t.charAt(i), fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n            var shapeData;\n            if(charData){\n                shapeData = charData.data;\n            } else {\n                shapeData = null;\n            }\n            if(shapeData && shapeData.shapes){\n                shapes = shapeData.shapes[0].it;\n                if(!singleShape){\n                    shapeStr = '';\n                }\n                shapeStr += this.createPathShape(matrixHelper,shapes);\n                if(!singleShape){\n\n                    tSpan.setAttribute('d',shapeStr);\n                }\n            }\n            if(!singleShape){\n                this.layerElement.appendChild(tSpan);\n            }\n        }else{\n            tSpan.textContent = letters[i].val;\n            tSpan.setAttributeNS(\"http://www.w3.org/XML/1998/namespace\", \"xml:space\",\"preserve\");\n            this.layerElement.appendChild(tSpan);\n            if(singleShape){\n                tSpan.setAttribute('transform',matrixHelper.to2dCSS());\n            }\n        }\n        if(singleShape) {\n            xPos += letters[i].l;\n            xPos += documentData.tr/1000*documentData.s;\n        }\n        //\n        this.textSpans[cnt] = tSpan;\n        cnt += 1;\n    }\n    if(!singleShape){\n        while(cnt < this.textSpans.length){\n            this.textSpans[cnt].style.display = 'none';\n            cnt += 1;\n        }\n    }\n    if(singleShape && this.globalData.fontManager.chars){\n        tSpan.setAttribute('d',shapeStr);\n        this.layerElement.appendChild(tSpan);\n    }\n}\n\nSVGTextElement.prototype.hide = function(){\n    if(!this.hidden){\n        this.layerElement.style.display = 'none';\n        this.hidden = true;\n    }\n};\n\nSVGTextElement.prototype.renderFrame = function(parentMatrix){\n\n    var renderParent = this._parent.renderFrame.call(this,parentMatrix);\n    if(renderParent===false){\n        this.hide();\n        return;\n    }\n    if(this.hidden){\n        this.hidden = false;\n        this.layerElement.style.display = 'block';\n    }\n\n    if(this.data.singleShape){\n        return;\n    }\n    this.getMeasures();\n    if(!this.lettersChangedFlag){\n        return;\n    }\n    var  i,len;\n    var renderedLetters = this.renderedLetters;\n\n    var letters = this.currentTextDocumentData.l;\n\n    len = letters.length;\n    var renderedLetter;\n    for(i=0;i<len;i+=1){\n        if(letters[i].n){\n            continue;\n        }\n        renderedLetter = renderedLetters[i];\n        this.textSpans[i].setAttribute('transform',renderedLetter.m);\n        this.textSpans[i].setAttribute('opacity',renderedLetter.o);\n        if(renderedLetter.sw){\n            this.textSpans[i].setAttribute('stroke-width',renderedLetter.sw);\n        }\n        if(renderedLetter.sc){\n            this.textSpans[i].setAttribute('stroke',renderedLetter.sc);\n        }\n        if(renderedLetter.fc){\n            this.textSpans[i].setAttribute('fill',renderedLetter.fc);\n        }\n    }\n    if(this.firstFrame) {\n        this.firstFrame = false;\n    }\n}\n\n\nSVGTextElement.prototype.destroy = function(){\n    this._parent.destroy.call(this._parent);\n};\n\n\n// WEBPACK FOOTER //\n// ./js/elements/svgElements/SVGTextElement.js","import {extendPrototype} from \"../utils/common\";\nimport BaseRenderer from \"./BaseRenderer\";\nexport default function CanvasRenderer(animationItem, config){\n    this.animationItem = animationItem;\n    this.renderConfig = {\n        clearCanvas: (config && config.clearCanvas !== undefined) ? config.clearCanvas : true,\n        context: (config && config.context) || null,\n        progressiveLoad: (config && config.progressiveLoad) || false,\n        preserveAspectRatio: (config && config.preserveAspectRatio) || 'xMidYMid meet'\n    };\n    this.renderConfig.dpr = (config && config.dpr) || 1;\n    if (this.animationItem.wrapper) {\n        this.renderConfig.dpr = (config && config.dpr) || window.devicePixelRatio || 1;\n    }\n    this.renderedFrame = -1;\n    this.globalData = {\n        frameNum: -1\n    };\n    this.contextData = {\n        saved : Array.apply(null,{length:15}),\n        savedOp: Array.apply(null,{length:15}),\n        cArrPos : 0,\n        cTr : new Matrix(),\n        cO : 1\n    };\n    var i, len = 15;\n    for(i=0;i<len;i+=1){\n        this.contextData.saved[i] = Array.apply(null,{length:16});\n    }\n    this.elements = [];\n    this.pendingElements = [];\n    this.transformMat = new Matrix();\n    this.completeLayers = false;\n}\nextendPrototype(BaseRenderer,CanvasRenderer);\n\nCanvasRenderer.prototype.createBase = function (data) {\n    return new CVBaseElement(data, this, this.globalData);\n};\n\nCanvasRenderer.prototype.createShape = function (data) {\n    return new CVShapeElement(data, this, this.globalData);\n};\n\nCanvasRenderer.prototype.createText = function (data) {\n    return new CVTextElement(data, this, this.globalData);\n};\n\nCanvasRenderer.prototype.createImage = function (data) {\n    return new CVImageElement(data, this, this.globalData);\n};\n\nCanvasRenderer.prototype.createComp = function (data) {\n    return new CVCompElement(data, this, this.globalData);\n};\n\nCanvasRenderer.prototype.createSolid = function (data) {\n    return new CVSolidElement(data, this, this.globalData);\n};\n\nCanvasRenderer.prototype.ctxTransform = function(props){\n    if(props[0] === 1 && props[1] === 0 && props[4] === 0 && props[5] === 1 && props[12] === 0 && props[13] === 0){\n        return;\n    }\n    if(!this.renderConfig.clearCanvas){\n        this.canvasContext.transform(props[0],props[1],props[4],props[5],props[12],props[13]);\n        return;\n    }\n    this.transformMat.cloneFromProps(props);\n    this.transformMat.transform(this.contextData.cTr.props[0],this.contextData.cTr.props[1],this.contextData.cTr.props[2],this.contextData.cTr.props[3],this.contextData.cTr.props[4],this.contextData.cTr.props[5],this.contextData.cTr.props[6],this.contextData.cTr.props[7],this.contextData.cTr.props[8],this.contextData.cTr.props[9],this.contextData.cTr.props[10],this.contextData.cTr.props[11],this.contextData.cTr.props[12],this.contextData.cTr.props[13],this.contextData.cTr.props[14],this.contextData.cTr.props[15])\n    //this.contextData.cTr.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\n    this.contextData.cTr.cloneFromProps(this.transformMat.props);\n    var trProps = this.contextData.cTr.props;\n    this.canvasContext.setTransform(trProps[0],trProps[1],trProps[4],trProps[5],trProps[12],trProps[13]);\n};\n\nCanvasRenderer.prototype.ctxOpacity = function(op){\n    if(op === 1){\n        return;\n    }\n    if(!this.renderConfig.clearCanvas){\n        this.canvasContext.globalAlpha *= op < 0 ? 0 : op;\n        return;\n    }\n    this.contextData.cO *= op < 0 ? 0 : op;\n    this.canvasContext.globalAlpha = this.contextData.cO;\n};\n\nCanvasRenderer.prototype.reset = function(){\n    if(!this.renderConfig.clearCanvas){\n        this.canvasContext.restore();\n        return;\n    }\n    this.contextData.cArrPos = 0;\n    this.contextData.cTr.reset();\n    this.contextData.cO = 1;\n};\n\nCanvasRenderer.prototype.save = function(actionFlag){\n    if(!this.renderConfig.clearCanvas){\n        this.canvasContext.save();\n        return;\n    }\n    if(actionFlag){\n        this.canvasContext.save();\n    }\n    var props = this.contextData.cTr.props;\n    if(this.contextData.saved[this.contextData.cArrPos] === null || this.contextData.saved[this.contextData.cArrPos] === undefined){\n        this.contextData.saved[this.contextData.cArrPos] = new Array(16);\n    }\n    var i,arr = this.contextData.saved[this.contextData.cArrPos];\n    for(i=0;i<16;i+=1){\n        arr[i] = props[i];\n    }\n    this.contextData.savedOp[this.contextData.cArrPos] = this.contextData.cO;\n    this.contextData.cArrPos += 1;\n};\n\nCanvasRenderer.prototype.restore = function(actionFlag){\n    if(!this.renderConfig.clearCanvas){\n        this.canvasContext.restore();\n        return;\n    }\n    if(actionFlag){\n        this.canvasContext.restore();\n    }\n    this.contextData.cArrPos -= 1;\n    var popped = this.contextData.saved[this.contextData.cArrPos];\n    var i,arr = this.contextData.cTr.props;\n    for(i=0;i<16;i+=1){\n        arr[i] = popped[i];\n    }\n    this.canvasContext.setTransform(popped[0],popped[1],popped[4],popped[5],popped[12],popped[13]);\n    popped = this.contextData.savedOp[this.contextData.cArrPos];\n    this.contextData.cO = popped;\n    this.canvasContext.globalAlpha = popped;\n};\n\nCanvasRenderer.prototype.configAnimation = function(animData){\n    if(this.animationItem.wrapper){\n        this.animationItem.container = document.createElement('canvas');\n        this.animationItem.container.style.width = '100%';\n        this.animationItem.container.style.height = '100%';\n        //this.animationItem.container.style.transform = 'translate3d(0,0,0)';\n        //this.animationItem.container.style.webkitTransform = 'translate3d(0,0,0)';\n        this.animationItem.container.style.transformOrigin = this.animationItem.container.style.mozTransformOrigin = this.animationItem.container.style.webkitTransformOrigin = this.animationItem.container.style['-webkit-transform'] = \"0px 0px 0px\";\n        this.animationItem.wrapper.appendChild(this.animationItem.container);\n        this.canvasContext = this.animationItem.container.getContext('2d');\n    }else{\n        this.canvasContext = this.renderConfig.context;\n    }\n    this.data = animData;\n    this.globalData.canvasContext = this.canvasContext;\n    this.globalData.renderer = this;\n    this.globalData.isDashed = false;\n    this.globalData.totalFrames = Math.floor(animData.tf);\n    this.globalData.compWidth = animData.w;\n    this.globalData.compHeight = animData.h;\n    this.globalData.frameRate = animData.fr;\n    this.globalData.frameId = 0;\n    this.globalData.compSize = {\n        w: animData.w,\n        h: animData.h\n    };\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\n    this.layers = animData.layers;\n    this.transformCanvas = {};\n    this.transformCanvas.w = animData.w;\n    this.transformCanvas.h = animData.h;\n    this.globalData.fontManager = new FontManager();\n    this.globalData.fontManager.addChars(animData.chars);\n    this.globalData.fontManager.addFonts(animData.fonts,document.body);\n    this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\n    this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\n    this.globalData.elementLoaded = this.animationItem.elementLoaded.bind(this.animationItem);\n    this.globalData.addPendingElement = this.animationItem.addPendingElement.bind(this.animationItem);\n    this.globalData.transformCanvas = this.transformCanvas;\n    this.elements = Array.apply(null,{length:animData.layers.length});\n\n    this.updateContainerSize();\n};\n\nCanvasRenderer.prototype.updateContainerSize = function () {\n    var elementWidth,elementHeight;\n    if(this.animationItem.wrapper && this.animationItem.container){\n        elementWidth = this.animationItem.wrapper.offsetWidth;\n        elementHeight = this.animationItem.wrapper.offsetHeight;\n        this.animationItem.container.setAttribute('width',elementWidth * this.renderConfig.dpr );\n        this.animationItem.container.setAttribute('height',elementHeight * this.renderConfig.dpr);\n    }else{\n        elementWidth = this.canvasContext.canvas.width * this.renderConfig.dpr;\n        elementHeight = this.canvasContext.canvas.height * this.renderConfig.dpr;\n    }\n    var elementRel,animationRel;\n    if(this.renderConfig.preserveAspectRatio.indexOf('meet') !== -1 || this.renderConfig.preserveAspectRatio.indexOf('slice') !== -1){\n        var par = this.renderConfig.preserveAspectRatio.split(' ');\n        var fillType = par[1] || 'meet';\n        var pos = par[0] || 'xMidYMid';\n        var xPos = pos.substr(0,4);\n        var yPos = pos.substr(4);\n        elementRel = elementWidth/elementHeight;\n        animationRel = this.transformCanvas.w/this.transformCanvas.h;\n        if(animationRel>elementRel && fillType === 'meet' || animationRel<elementRel && fillType === 'slice'){\n            this.transformCanvas.sx = elementWidth/(this.transformCanvas.w/this.renderConfig.dpr);\n            this.transformCanvas.sy = elementWidth/(this.transformCanvas.w/this.renderConfig.dpr);\n        }else{\n            this.transformCanvas.sx = elementHeight/(this.transformCanvas.h / this.renderConfig.dpr);\n            this.transformCanvas.sy = elementHeight/(this.transformCanvas.h / this.renderConfig.dpr);\n        }\n\n        if(xPos === 'xMid' && ((animationRel<elementRel && fillType==='meet') || (animationRel>elementRel && fillType === 'slice'))){\n            this.transformCanvas.tx = (elementWidth-this.transformCanvas.w*(elementHeight/this.transformCanvas.h))/2*this.renderConfig.dpr;\n        } else if(xPos === 'xMax' && ((animationRel<elementRel && fillType==='meet') || (animationRel>elementRel && fillType === 'slice'))){\n            this.transformCanvas.tx = (elementWidth-this.transformCanvas.w*(elementHeight/this.transformCanvas.h))*this.renderConfig.dpr;\n        } else {\n            this.transformCanvas.tx = 0;\n        }\n        if(yPos === 'YMid' && ((animationRel>elementRel && fillType==='meet') || (animationRel<elementRel && fillType === 'slice'))){\n            this.transformCanvas.ty = ((elementHeight-this.transformCanvas.h*(elementWidth/this.transformCanvas.w))/2)*this.renderConfig.dpr;\n        } else if(yPos === 'YMax' && ((animationRel>elementRel && fillType==='meet') || (animationRel<elementRel && fillType === 'slice'))){\n            this.transformCanvas.ty = ((elementHeight-this.transformCanvas.h*(elementWidth/this.transformCanvas.w)))*this.renderConfig.dpr;\n        } else {\n            this.transformCanvas.ty = 0;\n        }\n\n    }else if(this.renderConfig.preserveAspectRatio == 'none'){\n        this.transformCanvas.sx = elementWidth/(this.transformCanvas.w/this.renderConfig.dpr);\n        this.transformCanvas.sy = elementHeight/(this.transformCanvas.h/this.renderConfig.dpr);\n        this.transformCanvas.tx = 0;\n        this.transformCanvas.ty = 0;\n    }else{\n        this.transformCanvas.sx = this.renderConfig.dpr;\n        this.transformCanvas.sy = this.renderConfig.dpr;\n        this.transformCanvas.tx = 0;\n        this.transformCanvas.ty = 0;\n    }\n    this.transformCanvas.props = [this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1];\n    var i, len = this.elements.length;\n    for(i=0;i<len;i+=1){\n        if(this.elements[i] && this.elements[i].data.ty === 0){\n            this.elements[i].resize(this.globalData.transformCanvas);\n        }\n    }\n};\n\nCanvasRenderer.prototype.destroy = function () {\n    if(this.renderConfig.clearCanvas) {\n        this.animationItem.wrapper.innerHTML = '';\n    }\n    var i, len = this.layers ? this.layers.length : 0;\n    for (i = len - 1; i >= 0; i-=1) {\n        this.elements[i].destroy();\n    }\n    this.elements.length = 0;\n    this.globalData.canvasContext = null;\n    this.animationItem.container = null;\n    this.destroyed = true;\n};\n\nCanvasRenderer.prototype.renderFrame = function(num){\n    if((this.renderedFrame == num && this.renderConfig.clearCanvas === true) || this.destroyed || num === null){\n        return;\n    }\n    this.renderedFrame = num;\n    this.globalData.frameNum = num - this.animationItem.firstFrame;\n    this.globalData.frameId += 1;\n    this.globalData.projectInterface.currentFrame = num;\n    if(this.renderConfig.clearCanvas === true){\n        this.reset();\n        this.canvasContext.save();\n        //this.canvasContext.canvas.width = this.canvasContext.canvas.width;\n        this.canvasContext.clearRect(this.transformCanvas.tx, this.transformCanvas.ty, this.transformCanvas.w*this.transformCanvas.sx, this.transformCanvas.h*this.transformCanvas.sy);\n    }else{\n        this.save();\n    }\n    this.ctxTransform(this.transformCanvas.props);\n    this.canvasContext.beginPath();\n    this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h);\n    this.canvasContext.closePath();\n    this.canvasContext.clip();\n\n    //console.log('--------');\n    //console.log('NEW: ',num);\n    var i, len = this.layers.length;\n    if(!this.completeLayers){\n        this.checkLayers(num);\n    }\n\n    for (i = 0; i < len; i++) {\n        if(this.completeLayers || this.elements[i]){\n            this.elements[i].prepareFrame(num - this.layers[i].st);\n        }\n    }\n    for (i = len - 1; i >= 0; i-=1) {\n        if(this.completeLayers || this.elements[i]){\n            this.elements[i].renderFrame();\n        }\n    }\n    if(this.renderConfig.clearCanvas !== true){\n        this.restore();\n    } else {\n        this.canvasContext.restore();\n    }\n};\n\nCanvasRenderer.prototype.buildItem = function(pos){\n    var elements = this.elements;\n    if(elements[pos] || this.layers[pos].ty == 99){\n        return;\n    }\n    var element = this.createItem(this.layers[pos], this,this.globalData);\n    elements[pos] = element;\n    element.initExpressions();\n    if(this.layers[pos].ty === 0){\n        element.resize(this.globalData.transformCanvas);\n    }\n};\n\nCanvasRenderer.prototype.checkPendingElements  = function(){\n    while(this.pendingElements.length){\n        var element = this.pendingElements.pop();\n        element.checkParenting();\n    }\n};\n\nCanvasRenderer.prototype.hide = function(){\n    this.animationItem.container.style.display = 'none';\n};\n\nCanvasRenderer.prototype.show = function(){\n    this.animationItem.container.style.display = 'block';\n};\n\nCanvasRenderer.prototype.searchExtraCompositions = function(assets){\n    var i, len = assets.length;\n    var floatingContainer = document.createElementNS(svgNS,'g');\n    for(i=0;i<len;i+=1){\n        if(assets[i].xt){\n            var comp = this.createComp(assets[i],this.globalData.comp,this.globalData);\n            comp.initExpressions();\n            //comp.compInterface = CompExpressionInterface(comp);\n            //Expressions.addLayersInterface(comp.elements, this.globalData.projectInterface);\n            this.globalData.projectInterface.registerComposition(comp);\n        }\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ./js/renderers/CanvasRenderer.js","import SVGRenderer from \"./SVGRenderer\";\nimport BaseRenderer from \"./BaseRenderer\";\nimport {extendPrototype} from \"../utils/common\";\n\nexport default function HybridRenderer(animationItem){\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.globalData = {\n        frameNum: -1\n    };\n    this.pendingElements = [];\n    this.elements = [];\n    this.threeDElements = [];\n    this.destroyed = false;\n    this.camera = null;\n    this.supports3d = true;\n\n}\n\nextendPrototype(BaseRenderer,HybridRenderer);\n\nHybridRenderer.prototype.buildItem = SVGRenderer.prototype.buildItem;\n\nHybridRenderer.prototype.checkPendingElements  = function(){\n    while(this.pendingElements.length){\n        var element = this.pendingElements.pop();\n        element.checkParenting();\n    }\n};\n\nHybridRenderer.prototype.appendElementInPos = function(element, pos){\n    var newElement = element.getBaseElement();\n    if(!newElement){\n        return;\n    }\n    var layer = this.layers[pos];\n    if(!layer.ddd || !this.supports3d){\n        var i = 0;\n        var nextElement;\n        while(i<pos){\n            if(this.elements[i] && this.elements[i]!== true && this.elements[i].getBaseElement){\n                nextElement = this.elements[i].getBaseElement();\n            }\n            i += 1;\n        }\n        if(nextElement){\n            if(!layer.ddd || !this.supports3d){\n                this.layerElement.insertBefore(newElement, nextElement);\n            }\n        } else {\n            if(!layer.ddd || !this.supports3d){\n                this.layerElement.appendChild(newElement);\n            }\n        }\n    } else {\n        this.addTo3dContainer(newElement,pos);\n    }\n};\n\n\nHybridRenderer.prototype.createBase = function (data) {\n    return new SVGBaseElement(data, this.layerElement,this.globalData,this);\n};\n\nHybridRenderer.prototype.createShape = function (data) {\n    if(!this.supports3d){\n        return new IShapeElement(data, this.layerElement,this.globalData,this);\n    }\n    return new HShapeElement(data, this.layerElement,this.globalData,this);\n};\n\nHybridRenderer.prototype.createText = function (data) {\n    if(!this.supports3d){\n        return new SVGTextElement(data, this.layerElement,this.globalData,this);\n    }\n    return new HTextElement(data, this.layerElement,this.globalData,this);\n};\n\nHybridRenderer.prototype.createCamera = function (data) {\n    this.camera = new HCameraElement(data, this.layerElement,this.globalData,this);\n    return this.camera;\n};\n\nHybridRenderer.prototype.createImage = function (data) {\n    if(!this.supports3d){\n        return new IImageElement(data, this.layerElement,this.globalData,this);\n    }\n    return new HImageElement(data, this.layerElement,this.globalData,this);\n};\n\nHybridRenderer.prototype.createComp = function (data) {\n    if(!this.supports3d){\n        return new ICompElement(data, this.layerElement,this.globalData,this);\n    }\n    return new HCompElement(data, this.layerElement,this.globalData,this);\n\n};\n\nHybridRenderer.prototype.createSolid = function (data) {\n    if(!this.supports3d){\n        return new ISolidElement(data, this.layerElement,this.globalData,this);\n    }\n    return new HSolidElement(data, this.layerElement,this.globalData,this);\n};\n\nHybridRenderer.prototype.getThreeDContainer = function(pos){\n    var perspectiveElem = document.createElement('div');\n    styleDiv(perspectiveElem);\n    perspectiveElem.style.width = this.globalData.compSize.w+'px';\n    perspectiveElem.style.height = this.globalData.compSize.h+'px';\n    perspectiveElem.style.transformOrigin = perspectiveElem.style.mozTransformOrigin = perspectiveElem.style.webkitTransformOrigin = \"50% 50%\";\n    var container = document.createElement('div');\n    styleDiv(container);\n    container.style.transform = container.style.webkitTransform = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\n    perspectiveElem.appendChild(container);\n    this.resizerElem.appendChild(perspectiveElem);\n    var threeDContainerData = {\n        container:container,\n        perspectiveElem:perspectiveElem,\n        startPos: pos,\n        endPos: pos\n    };\n    this.threeDElements.push(threeDContainerData);\n    return threeDContainerData;\n};\n\nHybridRenderer.prototype.build3dContainers = function(){\n    var i, len = this.layers.length;\n    var lastThreeDContainerData;\n    for(i=0;i<len;i+=1){\n        if(this.layers[i].ddd){\n            if(!lastThreeDContainerData){\n                lastThreeDContainerData = this.getThreeDContainer(i);\n            }\n            lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos,i);\n        } else {\n            lastThreeDContainerData = null;\n        }\n    }\n};\n\nHybridRenderer.prototype.addTo3dContainer = function(elem,pos){\n    var i = 0, len = this.threeDElements.length;\n    while(i<len){\n        if(pos <= this.threeDElements[i].endPos){\n            var j = this.threeDElements[i].startPos;\n            var nextElement;\n            while(j<pos){\n                if(this.elements[j] && this.elements[j].getBaseElement){\n                    nextElement = this.elements[j].getBaseElement();\n                }\n                j += 1;\n            }\n            if(nextElement){\n                this.threeDElements[i].container.insertBefore(elem, nextElement);\n            } else {\n                this.threeDElements[i].container.appendChild(elem);\n            }\n            break;\n        }\n        i += 1;\n    }\n};\n\nHybridRenderer.prototype.configAnimation = function(animData){\n    var resizerElem = document.createElement('div');\n    var wrapper = this.animationItem.wrapper;\n    resizerElem.style.width = animData.w+'px';\n    resizerElem.style.height = animData.h+'px';\n    this.resizerElem = resizerElem;\n    styleDiv(resizerElem);\n    resizerElem.style.transformStyle = resizerElem.style.webkitTransformStyle = resizerElem.style.mozTransformStyle = \"flat\";\n    wrapper.appendChild(resizerElem);\n\n    resizerElem.style.overflow = 'hidden';\n    var svg = document.createElementNS(svgNS,'svg');\n    svg.setAttribute('width','1');\n    svg.setAttribute('height','1');\n    styleDiv(svg);\n    this.resizerElem.appendChild(svg);\n    var defs = document.createElementNS(svgNS,'defs');\n    svg.appendChild(defs);\n    this.globalData.defs = defs;\n    this.data = animData;\n    //Mask animation\n    this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\n    this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\n    this.globalData.elementLoaded = this.animationItem.elementLoaded.bind(this.animationItem);\n    this.globalData.frameId = 0;\n    this.globalData.compSize = {\n        w: animData.w,\n        h: animData.h\n    };\n    this.globalData.frameRate = animData.fr;\n    this.layers = animData.layers;\n    this.globalData.fontManager = new FontManager();\n    this.globalData.fontManager.addChars(animData.chars);\n    this.globalData.fontManager.addFonts(animData.fonts,svg);\n    this.layerElement = this.resizerElem;\n    this.build3dContainers();\n    this.updateContainerSize();\n};\n\nHybridRenderer.prototype.destroy = function () {\n    this.animationItem.wrapper.innerHTML = '';\n    this.animationItem.container = null;\n    this.globalData.defs = null;\n    var i, len = this.layers ? this.layers.length : 0;\n    for (i = 0; i < len; i++) {\n        this.elements[i].destroy();\n    }\n    this.elements.length = 0;\n    this.destroyed = true;\n    this.animationItem = null;\n};\n\nHybridRenderer.prototype.updateContainerSize = function () {\n    var elementWidth = this.animationItem.wrapper.offsetWidth;\n    var elementHeight = this.animationItem.wrapper.offsetHeight;\n    var elementRel = elementWidth/elementHeight;\n    var animationRel = this.globalData.compSize.w/this.globalData.compSize.h;\n    var sx,sy,tx,ty;\n    if(animationRel>elementRel){\n        sx = elementWidth/(this.globalData.compSize.w);\n        sy = elementWidth/(this.globalData.compSize.w);\n        tx = 0;\n        ty = ((elementHeight-this.globalData.compSize.h*(elementWidth/this.globalData.compSize.w))/2);\n    }else{\n        sx = elementHeight/(this.globalData.compSize.h);\n        sy = elementHeight/(this.globalData.compSize.h);\n        tx = (elementWidth-this.globalData.compSize.w*(elementHeight/this.globalData.compSize.h))/2;\n        ty = 0;\n    }\n    this.resizerElem.style.transform = this.resizerElem.style.webkitTransform = 'matrix3d(' + sx + ',0,0,0,0,'+sy+',0,0,0,0,1,0,'+tx+','+ty+',0,1)';\n};\n\nHybridRenderer.prototype.renderFrame = SVGRenderer.prototype.renderFrame;\n\nHybridRenderer.prototype.hide = function(){\n    this.resizerElem.style.display = 'none';\n};\n\nHybridRenderer.prototype.show = function(){\n    this.resizerElem.style.display = 'block';\n};\n\nHybridRenderer.prototype.initItems = function(){\n    this.buildAllItems();\n    if(this.camera){\n        this.camera.setup();\n    } else {\n        var cWidth = this.globalData.compSize.w;\n        var cHeight = this.globalData.compSize.h;\n        var i, len = this.threeDElements.length;\n        for(i=0;i<len;i+=1){\n            this.threeDElements[i].perspectiveElem.style.perspective = this.threeDElements[i].perspectiveElem.style.webkitPerspective = Math.sqrt(Math.pow(cWidth,2) + Math.pow(cHeight,2)) + 'px';\n        }\n    }\n};\n\nHybridRenderer.prototype.searchExtraCompositions = function(assets){\n    var i, len = assets.length;\n    var floatingContainer = document.createElement('div');\n    for(i=0;i<len;i+=1){\n        if(assets[i].xt){\n            var comp = this.createComp(assets[i],floatingContainer,this.globalData.comp,null);\n            comp.initExpressions();\n            this.globalData.projectInterface.registerComposition(comp);\n        }\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ./js/renderers/HybridRenderer.js","function dataFunctionManager(){\n\n    //var tCanvasHelper = document.createElement('canvas').getContext('2d');\n\n    function completeLayers(layers, comps, fontManager){\n        var layerData;\n        var animArray, lastFrame;\n        var i, len = layers.length;\n        var j, jLen, k, kLen;\n        for(i=0;i<len;i+=1){\n            layerData = layers[i];\n            if(!('ks' in layerData) || layerData.completed){\n                continue;\n            }\n            layerData.completed = true;\n            if(layerData.tt){\n                layers[i-1].td = layerData.tt;\n            }\n            animArray = [];\n            lastFrame = -1;\n            if(layerData.hasMask){\n                var maskProps = layerData.masksProperties;\n                jLen = maskProps.length;\n                for(j=0;j<jLen;j+=1){\n                    if(maskProps[j].pt.k.i){\n                        convertPathsToAbsoluteValues(maskProps[j].pt.k);\n                    }else{\n                        kLen = maskProps[j].pt.k.length;\n                        for(k=0;k<kLen;k+=1){\n                            if(maskProps[j].pt.k[k].s){\n                                convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);\n                            }\n                            if(maskProps[j].pt.k[k].e){\n                                convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);\n                            }\n                        }\n                    }\n                }\n            }\n            if(layerData.ty===0){\n                layerData.layers = findCompLayers(layerData.refId, comps);\n                completeLayers(layerData.layers,comps, fontManager);\n            }else if(layerData.ty === 4){\n                completeShapes(layerData.shapes);\n            }else if(layerData.ty == 5){\n                completeText(layerData, fontManager);\n            }\n        }\n    }\n\n    function findCompLayers(id,comps){\n        var i = 0, len = comps.length;\n        while(i<len){\n            if(comps[i].id === id){\n                return comps[i].layers;\n            }\n            i += 1;\n        }\n    }\n\n    function completeShapes(arr){\n        var i, len = arr.length;\n        var j, jLen;\n        var hasPaths = false;\n        for(i=len-1;i>=0;i-=1){\n            if(arr[i].ty == 'sh'){\n                if(arr[i].ks.k.i){\n                    convertPathsToAbsoluteValues(arr[i].ks.k);\n                }else{\n                    jLen = arr[i].ks.k.length;\n                    for(j=0;j<jLen;j+=1){\n                        if(arr[i].ks.k[j].s){\n                            convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);\n                        }\n                        if(arr[i].ks.k[j].e){\n                            convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);\n                        }\n                    }\n                }\n                hasPaths = true;\n            }else if(arr[i].ty == 'gr'){\n                completeShapes(arr[i].it);\n            }\n        }\n        /*if(hasPaths){\n            //mx: distance\n            //ss: sensitivity\n            //dc: decay\n            arr.splice(arr.length-1,0,{\n                \"ty\": \"ms\",\n                \"mx\":20,\n                \"ss\":10,\n                 \"dc\":0.001,\n                \"maxDist\":200\n            });\n        }*/\n    }\n\n    function convertPathsToAbsoluteValues(path){\n        var i, len = path.i.length;\n        for(i=0;i<len;i+=1){\n            path.i[i][0] += path.v[i][0];\n            path.i[i][1] += path.v[i][1];\n            path.o[i][0] += path.v[i][0];\n            path.o[i][1] += path.v[i][1];\n        }\n    }\n\n    function checkVersion(minimum,animVersionString){\n        var animVersion = animVersionString ? animVersionString.split('.') : [100,100,100];\n        if(minimum[0]>animVersion[0]){\n            return true;\n        } else if(animVersion[0] > minimum[0]){\n            return false;\n        }\n        if(minimum[1]>animVersion[1]){\n            return true;\n        } else if(animVersion[1] > minimum[1]){\n            return false;\n        }\n        if(minimum[2]>animVersion[2]){\n            return true;\n        } else if(animVersion[2] > minimum[2]){\n            return false;\n        }\n    }\n\n    var checkText = (function(){\n        var minimumVersion = [4,4,14];\n\n        function updateTextLayer(textLayer){\n            var documentData = textLayer.t.d;\n            textLayer.t.d = {\n                k: [\n                    {\n                        s:documentData,\n                        t:0\n                    }\n                ]\n            }\n        }\n\n        function iterateLayers(layers){\n            var i, len = layers.length;\n            for(i=0;i<len;i+=1){\n                if(layers[i].ty === 5){\n                    updateTextLayer(layers[i]);\n                }\n            }\n        }\n\n        return function (animationData){\n            if(checkVersion(minimumVersion,animationData.v)){\n                iterateLayers(animationData.layers);\n                if(animationData.assets){\n                    var i, len = animationData.assets.length;\n                    for(i=0;i<len;i+=1){\n                        if(animationData.assets[i].layers){\n                            iterateLayers(animationData.assets[i].layers);\n\n                        }\n                    }\n                }\n            }\n        }\n    }())\n\n    var checkColors = (function(){\n        var minimumVersion = [4,1,9];\n\n        function iterateShapes(shapes){\n            var i, len = shapes.length;\n            var j, jLen;\n            for(i=0;i<len;i+=1){\n                if(shapes[i].ty === 'gr'){\n                    iterateShapes(shapes[i].it);\n                }else if(shapes[i].ty === 'fl' || shapes[i].ty === 'st'){\n                    if(shapes[i].c.k && shapes[i].c.k[0].i){\n                        jLen = shapes[i].c.k.length;\n                        for(j=0;j<jLen;j+=1){\n                            if(shapes[i].c.k[j].s){\n                                shapes[i].c.k[j].s[0] /= 255;\n                                shapes[i].c.k[j].s[1] /= 255;\n                                shapes[i].c.k[j].s[2] /= 255;\n                                shapes[i].c.k[j].s[3] /= 255;\n                            }\n                            if(shapes[i].c.k[j].e){\n                                shapes[i].c.k[j].e[0] /= 255;\n                                shapes[i].c.k[j].e[1] /= 255;\n                                shapes[i].c.k[j].e[2] /= 255;\n                                shapes[i].c.k[j].e[3] /= 255;\n                            }\n                        }\n                    } else {\n                        shapes[i].c.k[0] /= 255;\n                        shapes[i].c.k[1] /= 255;\n                        shapes[i].c.k[2] /= 255;\n                        shapes[i].c.k[3] /= 255;\n                    }\n                }\n            }\n        }\n\n        function iterateLayers(layers){\n            var i, len = layers.length;\n            for(i=0;i<len;i+=1){\n                if(layers[i].ty === 4){\n                    iterateShapes(layers[i].shapes);\n                }\n            }\n        }\n\n        return function (animationData){\n            if(checkVersion(minimumVersion,animationData.v)){\n                iterateLayers(animationData.layers);\n                if(animationData.assets){\n                    var i, len = animationData.assets.length;\n                    for(i=0;i<len;i+=1){\n                        if(animationData.assets[i].layers){\n                            iterateLayers(animationData.assets[i].layers);\n\n                        }\n                    }\n                }\n            }\n        }\n    }());\n\n    var checkShapes = (function(){\n        var minimumVersion = [4,4,18];\n\n\n\n        function completeShapes(arr){\n            var i, len = arr.length;\n            var j, jLen;\n            var hasPaths = false;\n            for(i=len-1;i>=0;i-=1){\n                if(arr[i].ty == 'sh'){\n                    if(arr[i].ks.k.i){\n                        arr[i].ks.k.c = arr[i].closed;\n                    }else{\n                        jLen = arr[i].ks.k.length;\n                        for(j=0;j<jLen;j+=1){\n                            if(arr[i].ks.k[j].s){\n                                arr[i].ks.k[j].s[0].c = arr[i].closed;\n                            }\n                            if(arr[i].ks.k[j].e){\n                                arr[i].ks.k[j].e[0].c = arr[i].closed;\n                            }\n                        }\n                    }\n                    hasPaths = true;\n                }else if(arr[i].ty == 'gr'){\n                    completeShapes(arr[i].it);\n                }\n            }\n        }\n\n        function iterateLayers(layers){\n            var layerData;\n            var i, len = layers.length;\n            var j, jLen, k, kLen;\n            for(i=0;i<len;i+=1){\n                layerData = layers[i];\n                if(layerData.hasMask){\n                    var maskProps = layerData.masksProperties;\n                    jLen = maskProps.length;\n                    for(j=0;j<jLen;j+=1){\n                        if(maskProps[j].pt.k.i){\n                            maskProps[j].pt.k.c = maskProps[j].cl;\n                        }else{\n                            kLen = maskProps[j].pt.k.length;\n                            for(k=0;k<kLen;k+=1){\n                                if(maskProps[j].pt.k[k].s){\n                                    maskProps[j].pt.k[k].s[0].c = maskProps[j].cl;\n                                }\n                                if(maskProps[j].pt.k[k].e){\n                                    maskProps[j].pt.k[k].e[0].c = maskProps[j].cl;\n                                }\n                            }\n                        }\n                    }\n                }\n                if(layerData.ty === 4){\n                    completeShapes(layerData.shapes);\n                }\n            }\n        }\n\n        return function (animationData){\n            if(checkVersion(minimumVersion,animationData.v)){\n                iterateLayers(animationData.layers);\n                if(animationData.assets){\n                    var i, len = animationData.assets.length;\n                    for(i=0;i<len;i+=1){\n                        if(animationData.assets[i].layers){\n                            iterateLayers(animationData.assets[i].layers);\n\n                        }\n                    }\n                }\n            }\n        }\n    }());\n\n    /*function blitPaths(path){\n        var i, len = path.i.length;\n        for(i=0;i<len;i+=1){\n            path.i[i][0] /= blitter;\n            path.i[i][1] /= blitter;\n            path.o[i][0] /= blitter;\n            path.o[i][1] /= blitter;\n            path.v[i][0] /= blitter;\n            path.v[i][1] /= blitter;\n        }\n    }\n\n    function blitShapes(arr){\n        var i, len = arr.length;\n        var j, jLen;\n        var hasPaths = false;\n        for(i=len-1;i>=0;i-=1){\n            if(arr[i].ty == 'sh'){\n                if(arr[i].ks.k.i){\n                    blitPaths(arr[i].ks.k);\n                }else{\n                    jLen = arr[i].ks.k.length;\n                    for(j=0;j<jLen;j+=1){\n                        if(arr[i].ks.k[j].s){\n                            blitPaths(arr[i].ks.k[j].s[0]);\n                        }\n                        if(arr[i].ks.k[j].e){\n                            blitPaths(arr[i].ks.k[j].e[0]);\n                        }\n                    }\n                }\n                hasPaths = true;\n            }else if(arr[i].ty == 'gr'){\n                blitShapes(arr[i].it);\n            }else if(arr[i].ty == 'rc'){\n                blitProperty(arr[i].p);\n                blitProperty(arr[i].s);\n            }else if(arr[i].ty == 'st'){\n                blitProperty(arr[i].w);\n            }else if(arr[i].ty == 'tr'){\n                blitProperty(arr[i].p);\n                blitProperty(arr[i].sk);\n                blitProperty(arr[i].a);\n            }else if(arr[i].ty == 'el'){\n                blitProperty(arr[i].p);\n                blitProperty(arr[i].s);\n            }else if(arr[i].ty == 'rd'){\n                blitProperty(arr[i].r);\n            }else{\n\n                //console.log(arr[i].ty );\n            }\n        }\n    }\n\n    function blitText(data, fontManager){\n\n    }\n\n    function blitValue(val){\n        if(typeof(val) === 'number'){\n            val /= blitter;\n        } else {\n            var i = val.length-1;\n            while(i>=0){\n                val[i] /= blitter;\n                i-=1;\n            }\n        }\n        return val;\n    }\n\n    function blitProperty(data){\n        if(!data.k.length){\n            data.k = blitValue(data.k);\n        }else if(typeof(data.k[0]) === 'number'){\n            data.k = blitValue(data.k);\n        } else {\n            var i, len = data.k.length;\n            for(i=0;i<len;i+=1){\n                if(data.k[i].s){\n                    //console.log('pre S: ', data.k[i].s);\n                    data.k[i].s = blitValue(data.k[i].s);\n                    //console.log('post S: ', data.k[i].s);\n                }\n                if(data.k[i].e){\n                    //console.log('pre E: ', data.k[i].e);\n                    data.k[i].e = blitValue(data.k[i].e);\n                    //console.log('post E: ', data.k[i].e);\n                }\n            }\n        }\n    }\n\n    function blitLayers(layers,comps, fontManager){\n        var layerData;\n        var animArray, lastFrame;\n        var i, len = layers.length;\n        var j, jLen, k, kLen;\n        for(i=0;i<len;i+=1){\n            layerData = layers[i];\n            if(!('ks' in layerData)){\n                continue;\n            }\n            blitProperty(layerData.ks.a);\n            blitProperty(layerData.ks.p);\n            layerData.completed = true;\n            if(layerData.tt){\n                layers[i-1].td = layerData.tt;\n            }\n            animArray = [];\n            lastFrame = -1;\n            if(layerData.hasMask){\n                var maskProps = layerData.masksProperties;\n                jLen = maskProps.length;\n                for(j=0;j<jLen;j+=1){\n                    if(maskProps[j].pt.k.i){\n                        blitPaths(maskProps[j].pt.k);\n                    }else{\n                        kLen = maskProps[j].pt.k.length;\n                        for(k=0;k<kLen;k+=1){\n                            if(maskProps[j].pt.k[k].s){\n                                blitPaths(maskProps[j].pt.k[k].s[0]);\n                            }\n                            if(maskProps[j].pt.k[k].e){\n                                blitPaths(maskProps[j].pt.k[k].e[0]);\n                            }\n                        }\n                    }\n                }\n            }\n            if(layerData.ty===0){\n                layerData.w = Math.round(layerData.w/blitter);\n                layerData.h = Math.round(layerData.h/blitter);\n                blitLayers(layerData.layers,comps, fontManager);\n            }else if(layerData.ty === 4){\n                blitShapes(layerData.shapes);\n            }else if(layerData.ty == 5){\n                blitText(layerData, fontManager);\n            }else if(layerData.ty == 1){\n                layerData.sh /= blitter;\n                layerData.sw /= blitter;\n            } else {\n            }\n        }\n    }\n\n    function blitAnimation(animationData,comps, fontManager){\n        blitLayers(animationData.layers,comps, fontManager);\n    }*/\n\n    function completeData(animationData, fontManager){\n        if(animationData.__complete){\n            return;\n        }\n        checkColors(animationData);\n        checkText(animationData);\n        checkShapes(animationData);\n        completeLayers(animationData.layers, animationData.assets, fontManager);\n        animationData.__complete = true;\n        //blitAnimation(animationData, animationData.assets, fontManager);\n    }\n\n    function completeText(data, fontManager){\n        var letters;\n        var keys = data.t.d.k;\n        var k, kLen = keys.length;\n        for(k=0;k<kLen;k+=1){\n            var documentData = data.t.d.k[k].s;\n            letters = [];\n            var i, len;\n            var newLineFlag, index = 0, val;\n            var anchorGrouping = data.t.m.g;\n            var currentSize = 0, currentPos = 0, currentLine = 0, lineWidths = [];\n            var lineWidth = 0;\n            var maxLineWidth = 0;\n            var j, jLen;\n            var fontData = fontManager.getFontByName(documentData.f);\n            var charData, cLength = 0;\n            var styles = fontData.fStyle.split(' ');\n\n            var fWeight = 'normal', fStyle = 'normal';\n            len = styles.length;\n            for(i=0;i<len;i+=1){\n                if (styles[i].toLowerCase() === 'italic') {\n                    fStyle = 'italic';\n                }else if (styles[i].toLowerCase() === 'bold') {\n                    fWeight = '700';\n                } else if (styles[i].toLowerCase() === 'black') {\n                    fWeight = '900';\n                } else if (styles[i].toLowerCase() === 'medium') {\n                    fWeight = '500';\n                } else if (styles[i].toLowerCase() === 'regular' || styles[i].toLowerCase() === 'normal') {\n                    fWeight = '400';\n                } else if (styles[i].toLowerCase() === 'light' || styles[i].toLowerCase() === 'thin') {\n                    fWeight = '200';\n                }\n            }\n            documentData.fWeight = fWeight;\n            documentData.fStyle = fStyle;\n            len = documentData.t.length;\n            if(documentData.sz){\n                var boxWidth = documentData.sz[0];\n                var lastSpaceIndex = -1;\n                for(i=0;i<len;i+=1){\n                    newLineFlag = false;\n                    if(documentData.t.charAt(i) === ' '){\n                        lastSpaceIndex = i;\n                    }else if(documentData.t.charCodeAt(i) === 13){\n                        lineWidth = 0;\n                        newLineFlag = true;\n                    }\n                    if(fontManager.chars){\n                        charData = fontManager.getCharData(documentData.t.charAt(i), fontData.fStyle, fontData.fFamily);\n                        cLength = newLineFlag ? 0 : charData.w*documentData.s/100;\n                    }else{\n                        //tCanvasHelper.font = documentData.s + 'px '+ fontData.fFamily;\n                        cLength = fontManager.measureText(documentData.t.charAt(i), documentData.f, documentData.s);\n                    }\n                    if(lineWidth + cLength > boxWidth){\n                        if(lastSpaceIndex === -1){\n                            //i -= 1;\n                            documentData.t = documentData.t.substr(0,i) + \"\\r\" + documentData.t.substr(i);\n                            len += 1;\n                        } else {\n                            i = lastSpaceIndex;\n                            documentData.t = documentData.t.substr(0,i) + \"\\r\" + documentData.t.substr(i+1);\n                        }\n                        lastSpaceIndex = -1;\n                        lineWidth = 0;\n                    }else {\n                        lineWidth += cLength;\n                    }\n                }\n                len = documentData.t.length;\n            }\n            lineWidth = 0;\n            cLength = 0;\n            for (i = 0;i < len ;i += 1) {\n                newLineFlag = false;\n                if(documentData.t.charAt(i) === ' '){\n                    val = '\\u00A0';\n                }else if(documentData.t.charCodeAt(i) === 13){\n                    lineWidths.push(lineWidth);\n                    maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\n                    lineWidth = 0;\n                    val = '';\n                    newLineFlag = true;\n                    currentLine += 1;\n                }else{\n                    val = documentData.t.charAt(i);\n                }\n                if(fontManager.chars){\n                    charData = fontManager.getCharData(documentData.t.charAt(i), fontData.fStyle, fontManager.getFontByName(documentData.f).fFamily);\n                    cLength = newLineFlag ? 0 : charData.w*documentData.s/100;\n                }else{\n                    //var charWidth = fontManager.measureText(val, documentData.f, documentData.s);\n                    //tCanvasHelper.font = documentData.s + 'px '+ fontManager.getFontByName(documentData.f).fFamily;\n                    cLength = fontManager.measureText(val, documentData.f, documentData.s);\n                }\n\n                //\n                lineWidth += cLength;\n                letters.push({l:cLength,an:cLength,add:currentSize,n:newLineFlag, anIndexes:[], val: val, line: currentLine});\n                if(anchorGrouping == 2){\n                    currentSize += cLength;\n                    if(val == '' || val == '\\u00A0' || i == len - 1){\n                        if(val == '' || val == '\\u00A0'){\n                            currentSize -= cLength;\n                        }\n                        while(currentPos<=i){\n                            letters[currentPos].an = currentSize;\n                            letters[currentPos].ind = index;\n                            letters[currentPos].extra = cLength;\n                            currentPos += 1;\n                        }\n                        index += 1;\n                        currentSize = 0;\n                    }\n                }else if(anchorGrouping == 3){\n                    currentSize += cLength;\n                    if(val == '' || i == len - 1){\n                        if(val == ''){\n                            currentSize -= cLength;\n                        }\n                        while(currentPos<=i){\n                            letters[currentPos].an = currentSize;\n                            letters[currentPos].ind = index;\n                            letters[currentPos].extra = cLength;\n                            currentPos += 1;\n                        }\n                        currentSize = 0;\n                        index += 1;\n                    }\n                }else{\n                    letters[index].ind = index;\n                    letters[index].extra = 0;\n                    index += 1;\n                }\n            }\n            documentData.l = letters;\n            maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\n            lineWidths.push(lineWidth);\n            if(documentData.sz){\n                documentData.boxWidth = documentData.sz[0];\n                documentData.justifyOffset = 0;\n            }else{\n                documentData.boxWidth = maxLineWidth;\n                switch(documentData.j){\n                    case 1:\n                        documentData.justifyOffset = - documentData.boxWidth;\n                        break;\n                    case 2:\n                        documentData.justifyOffset = - documentData.boxWidth/2;\n                        break;\n                    default:\n                        documentData.justifyOffset = 0;\n                }\n            }\n            documentData.lineWidths = lineWidths;\n\n            var animators = data.t.a;\n            jLen = animators.length;\n            var based, ind, indexes = [];\n            for(j=0;j<jLen;j+=1){\n                if(animators[j].a.sc){\n                    documentData.strokeColorAnim = true;\n                }\n                if(animators[j].a.sw){\n                    documentData.strokeWidthAnim = true;\n                }\n                if(animators[j].a.fc || animators[j].a.fh || animators[j].a.fs || animators[j].a.fb){\n                    documentData.fillColorAnim = true;\n                }\n                ind = 0;\n                based = animators[j].s.b;\n                for(i=0;i<len;i+=1){\n                    letters[i].anIndexes[j] = ind;\n                    if((based == 1 && letters[i].val != '') || (based == 2 && letters[i].val != '' && letters[i].val != '\\u00A0') || (based == 3 && (letters[i].n || letters[i].val == '\\u00A0' || i == len - 1)) || (based == 4 && (letters[i].n || i == len - 1))){\n                        if(animators[j].s.rn === 1){\n                            indexes.push(ind);\n                        }\n                        ind += 1;\n                    }\n                }\n                data.t.a[j].s.totalChars = ind;\n                var currentInd = -1, newInd;\n                if(animators[j].s.rn === 1){\n                    for(i = 0; i < len; i += 1){\n                        if(currentInd != letters[i].anIndexes[j]){\n                            currentInd = letters[i].anIndexes[j];\n                            newInd = indexes.splice(Math.floor(Math.random()*indexes.length),1)[0];\n                        }\n                        letters[i].anIndexes[j] = newInd;\n                    }\n                }\n            }\n            if(jLen === 0 && !('m' in data.t.p)){\n                data.singleShape = true;\n            }\n            documentData.yOffset = documentData.lh || documentData.s*1.2;\n            documentData.ascent = fontData.ascent*documentData.s/100;\n        }\n\n    }\n\n    var moduleOb = {};\n    moduleOb.completeData = completeData;\n\n    return moduleOb;\n}\n\nvar DataManager = dataFunctionManager();\n\nexport default DataManager;\n\n\n// WEBPACK FOOTER //\n// ./js/utils/DataManager.js","\n\n    var maxWaitingTime = 5000;\n\n    function setUpNode(font, family){\n        var parentNode = document.createElement('span');\n        parentNode.style.fontFamily    = family;\n        var node = document.createElement('span');\n        // Characters that vary significantly among different fonts\n        node.innerHTML = 'giItT1WQy@!-/#';\n        // Visible - so we can measure it - but not on the screen\n        parentNode.style.position      = 'absolute';\n        parentNode.style.left          = '-10000px';\n        parentNode.style.top           = '-10000px';\n        // Large font size makes even subtle changes obvious\n        parentNode.style.fontSize      = '300px';\n        // Reset any font properties\n        parentNode.style.fontVariant   = 'normal';\n        parentNode.style.fontStyle     = 'normal';\n        parentNode.style.fontWeight    = 'normal';\n        parentNode.style.letterSpacing = '0';\n        parentNode.appendChild(node);\n        document.body.appendChild(parentNode);\n\n        // Remember width with no applied web font\n        var width = node.offsetWidth;\n        node.style.fontFamily = font + ', '+family;\n        return {node:node, w:width, parent:parentNode};\n    }\n\n    function checkLoadedFonts() {\n        var i, len = this.fonts.length;\n        var node, w;\n        var loadedCount = len;\n        for(i=0;i<len; i+= 1){\n            if(this.fonts[i].loaded){\n                loadedCount -= 1;\n                continue;\n            }\n            if(this.fonts[i].fOrigin === 't'){\n                if(window.Typekit && window.Typekit.load && this.typekitLoaded === 0){\n                    this.typekitLoaded = 1;\n                    try{window.Typekit.load({\n                        async: true,\n                        active: function() {\n                            this.typekitLoaded = 2;\n                        }.bind(this)\n                    });}catch(e){}\n                }\n                if(this.typekitLoaded === 2) {\n                    this.fonts[i].loaded = true;\n                }\n            } else if(this.fonts[i].fOrigin === 'n'){\n                this.fonts[i].loaded = true;\n            } else{\n                node = this.fonts[i].monoCase.node;\n                w = this.fonts[i].monoCase.w;\n                if(node.offsetWidth !== w){\n                    loadedCount -= 1;\n                    this.fonts[i].loaded = true;\n                }else{\n                    node = this.fonts[i].sansCase.node;\n                    w = this.fonts[i].sansCase.w;\n                    if(node.offsetWidth !== w){\n                        loadedCount -= 1;\n                        this.fonts[i].loaded = true;\n                    }\n                }\n                if(this.fonts[i].loaded){\n                    this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent);\n                    this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent);\n                }\n            }\n        }\n\n        if(loadedCount !== 0 && Date.now() - this.initTime < maxWaitingTime){\n            setTimeout(checkLoadedFonts.bind(this),20);\n        }else{\n            setTimeout(function(){this.loaded = true;}.bind(this),0);\n\n        }\n    };\n\n    function createHelper(def, fontData){\n        var tHelper = document.createElementNS(svgNS,'text');\n        tHelper.style.fontSize = '100px';\n        tHelper.style.fontFamily = fontData.fFamily;\n        tHelper.textContent = '1';\n        if(fontData.fClass){\n            tHelper.style.fontFamily = 'inherit';\n            tHelper.className = fontData.fClass;\n        } else {\n            tHelper.style.fontFamily = fontData.fFamily;\n        }\n        def.appendChild(tHelper);\n        var tCanvasHelper = document.createElement('canvas').getContext('2d');\n        tCanvasHelper.font = '100px '+ fontData.fFamily;\n        return tCanvasHelper;\n        return tHelper;\n    }\n\n    function addFonts(fontData, defs){\n        if(!fontData){\n            this.loaded = true;\n            return;\n        }\n        if(this.chars){\n            this.loaded = true;\n            this.fonts = fontData.list;\n            return;\n        }\n\n        var fontArr = fontData.list;\n        var i, len = fontArr.length;\n        for(i=0; i<len; i+= 1){\n            fontArr[i].loaded = false;\n            fontArr[i].monoCase = setUpNode(fontArr[i].fFamily,'monospace');\n            fontArr[i].sansCase = setUpNode(fontArr[i].fFamily,'sans-serif');\n            if(!fontArr[i].fPath) {\n                fontArr[i].loaded = true;\n            }else if(fontArr[i].fOrigin === 'p'){\n                var s = document.createElement('style');\n                s.type = \"text/css\";\n                s.innerHTML = \"@font-face {\" + \"font-family: \"+fontArr[i].fFamily+\"; font-style: normal; src: url('\"+fontArr[i].fPath+\"');}\";\n                defs.appendChild(s);\n            } else if(fontArr[i].fOrigin === 'g'){\n                //<link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css'>\n                var l = document.createElement('link');\n                l.type = \"text/css\";\n                l.rel = \"stylesheet\";\n                l.href = fontArr[i].fPath;\n                defs.appendChild(l);\n            } else if(fontArr[i].fOrigin === 't'){\n                //<link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css'>\n                var sc = document.createElement('script');\n                sc.setAttribute('src',fontArr[i].fPath);\n                defs.appendChild(sc);\n            }\n            fontArr[i].helper = createHelper(defs,fontArr[i]);\n            this.fonts.push(fontArr[i]);\n        }\n        checkLoadedFonts.bind(this)();\n    }\n\n    function addChars(chars){\n        if(!chars){\n            return;\n        }\n        if(!this.chars){\n            this.chars = [];\n        }\n        var i, len = chars.length;\n        var j, jLen = this.chars.length, found;\n        for(i=0;i<len;i+=1){\n            j = 0;\n            found = false;\n            while(j<jLen){\n                if(this.chars[j].style === chars[i].style && this.chars[j].fFamily === chars[i].fFamily && this.chars[j].ch === chars[i].ch){\n                    found = true;\n                }\n                j += 1;\n            }\n            if(!found){\n                this.chars.push(chars[i]);\n                jLen += 1;\n            }\n        }\n    }\n\n    function getCharData(char, style, font){\n        var i = 0, len = this.chars.length;\n        while( i < len) {\n            if(this.chars[i].ch === char && this.chars[i].style === style && this.chars[i].fFamily === font){\n                return this.chars[i];\n            }\n            i+= 1;\n        }\n    }\n\n    function measureText(char, fontName, size){\n        var fontData = this.getFontByName(fontName);\n        var tHelper = fontData.helper;\n        //tHelper.textContent = char;\n        return tHelper.measureText(char).width*size/100;\n        //return tHelper.getComputedTextLength()*size/100;\n    }\n\n    function getFontByName(name){\n        var i = 0, len = this.fonts.length;\n        while(i<len){\n            if(this.fonts[i].fName === name) {\n                return this.fonts[i];\n            }\n            i += 1;\n        }\n        return 'sans-serif';\n    }\n\n    function FontManager(){\n        this.fonts = [];\n        this.chars = null;\n        this.typekitLoaded = 0;\n        this.loaded = false;\n        this.initTime = Date.now();\n    };\n    FontManager.prototype.addChars = addChars;\n    FontManager.prototype.addFonts = addFonts;\n    FontManager.prototype.getCharData = getCharData;\n    FontManager.prototype.getFontByName = getFontByName;\n    FontManager.prototype.measureText = measureText;\n\n    export default FontManager;\n\n\n// WEBPACK FOOTER //\n// ./js/utils/FontManager.js","function imageLoaded ()\n{\n\tthis.loadedAssets += 1;\n\tif (this.loadedAssets === this.totalImages)\n\t{\n\t}\n}\n\nfunction getAssetsPath (assetData)\n{\n\tvar path = '';\n\tif (this.assetsPath)\n\t{\n\t\tvar imagePath = assetData.p;\n\t\tif (imagePath.indexOf('images/') !== -1)\n\t\t{\n\t\t\timagePath = imagePath.split('/')[1];\n\t\t}\n\t\tpath = this.assetsPath + imagePath;\n\t}\n\telse\n\t{\n\t\tpath = this.path;\n\t\tpath += assetData.u ? assetData.u : '';\n\t\tpath += assetData.p;\n\t}\n\treturn path;\n}\n\nfunction loadImage (path)\n{\n\tvar img = document.createElement('img');\n\timg.addEventListener('load', imageLoaded.bind(this), false);\n\timg.addEventListener('error', imageLoaded.bind(this), false);\n\timg.src = path;\n}\nfunction loadAssets (assets)\n{\n\tthis.totalAssets = assets.length;\n\tvar i;\n\tfor (i = 0; i < this.totalAssets; i += 1)\n\t{\n\t\tif (!assets[i].layers)\n\t\t{\n\t\t\tloadImage.bind(this)(getAssetsPath.bind(this)(assets[i]));\n\t\t\tthis.totalImages += 1;\n\t\t}\n\t}\n}\n\nfunction setPath (path)\n{\n\tthis.path = path || '';\n}\n\nfunction setAssetsPath (path)\n{\n\tthis.assetsPath = path || '';\n}\n\nexport default function ImagePreloader ()\n{\n\tthis.loadAssets = loadAssets;\n\tthis.setAssetsPath = setAssetsPath;\n\tthis.setPath = setPath;\n\tthis.assetsPath = '';\n\tthis.path = '';\n\tthis.totalAssets = 0;\n\tthis.totalImages = 0;\n\tthis.loadedAssets = 0;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/utils/ImagePreloader.js","import {extendPrototype} from \"../common\";\nimport {ShapeModifier, ShapeModifiers} from \"./ShapeModifiers\";\nfunction MouseModifier(){};\nextendPrototype(ShapeModifier,MouseModifier);\nMouseModifier.prototype.processKeys = function(forceRender){\n    if(this.elem.globalData.frameId === this.frameId && !forceRender){\n        return;\n    }\n    this.mdf = true;\n\n};\n\nMouseModifier.prototype.addShapeToModifier = function(){\n    this.positions.push([]);\n};\n\nMouseModifier.prototype.processPath = function(path, mouseCoords, positions){\n    var i, len = path.v.length;\n    var vValues = [],oValues = [],iValues = [];\n    var dist;\n    //console.log(mouseCoords);\n    var theta, x,y;\n    //// OPTION A\n    for(i=0;i<len;i+=1){\n        if(!positions.v[i]){\n            positions.v[i] = [path.v[i][0],path.v[i][1]];\n            positions.o[i] = [path.o[i][0],path.o[i][1]];\n            positions.i[i] = [path.i[i][0],path.i[i][1]];\n            positions.distV[i] = 0;\n            positions.distO[i] = 0;\n            positions.distI[i] = 0;\n\n        }\n        theta = Math.atan2(\n            path.v[i][1] - mouseCoords[1],\n            path.v[i][0] - mouseCoords[0]\n        );\n\n        x = mouseCoords[0] - positions.v[i][0];\n        y = mouseCoords[1] - positions.v[i][1];\n        var distance = Math.sqrt( (x * x) + (y * y) );\n        positions.distV[i] += (distance - positions.distV[i]) * this.data.dc;\n\n        positions.v[i][0] = Math.cos(theta) * Math.max(0,this.data.maxDist-positions.distV[i])/2 + (path.v[i][0]);\n        positions.v[i][1] = Math.sin(theta) * Math.max(0,this.data.maxDist-positions.distV[i])/2 + (path.v[i][1]);\n\n\n        theta = Math.atan2(\n            path.o[i][1] - mouseCoords[1],\n            path.o[i][0] - mouseCoords[0]\n        );\n\n        x = mouseCoords[0] - positions.o[i][0];\n        y = mouseCoords[1] - positions.o[i][1];\n        var distance = Math.sqrt( (x * x) + (y * y) );\n        positions.distO[i] += (distance - positions.distO[i]) * this.data.dc;\n\n        positions.o[i][0] = Math.cos(theta) * Math.max(0,this.data.maxDist-positions.distO[i])/2 + (path.o[i][0]);\n        positions.o[i][1] = Math.sin(theta) * Math.max(0,this.data.maxDist-positions.distO[i])/2 + (path.o[i][1]);\n\n\n        theta = Math.atan2(\n            path.i[i][1] - mouseCoords[1],\n            path.i[i][0] - mouseCoords[0]\n        );\n\n        x = mouseCoords[0] - positions.i[i][0];\n        y = mouseCoords[1] - positions.i[i][1];\n        var distance = Math.sqrt( (x * x) + (y * y) );\n        positions.distI[i] += (distance - positions.distI[i]) * this.data.dc;\n\n        positions.i[i][0] = Math.cos(theta) * Math.max(0,this.data.maxDist-positions.distI[i])/2 + (path.i[i][0]);\n        positions.i[i][1] = Math.sin(theta) * Math.max(0,this.data.maxDist-positions.distI[i])/2 + (path.i[i][1]);\n\n        /////OPTION 1\n        vValues.push(positions.v[i]);\n         oValues.push(positions.o[i]);\n         iValues.push(positions.i[i]);\n\n\n\n        /////OPTION 2\n        //vValues.push(positions.v[i]);\n        // iValues.push([path.i[i][0]+(positions.v[i][0]-path.v[i][0]),path.i[i][1]+(positions.v[i][1]-path.v[i][1])]);\n        // oValues.push([path.o[i][0]+(positions.v[i][0]-path.v[i][0]),path.o[i][1]+(positions.v[i][1]-path.v[i][1])]);\n\n\n\n        /////OPTION 3\n        //vValues.push(positions.v[i]);\n        //iValues.push(path.i[i]);\n        //oValues.push(path.o[i]);\n\n\n        /////OPTION 4\n        //vValues.push(path.v[i]);\n         //oValues.push(positions.o[i]);\n         //iValues.push(positions.i[i]);\n    }\n\n\n\n    //// OPTION B\n    /*for(i=0;i<len;i+=1){\n        if(!positions.v[i]){\n            positions.v[i] = [path.v[i][0],path.v[i][1]];\n            positions.o[i] = [path.o[i][0],path.o[i][1]];\n            positions.i[i] = [path.i[i][0],path.i[i][1]];\n            positions.distV[i] = 0;\n\n        }\n        theta = Math.atan2(\n            positions.v[i][1] - mouseCoords[1],\n            positions.v[i][0] - mouseCoords[0]\n        );\n        x = mouseCoords[0] - positions.v[i][0];\n        y = mouseCoords[1] - positions.v[i][1];\n        var distance = this.data.ss * this.data.mx / Math.sqrt( (x * x) + (y * y) );\n\n        positions.v[i][0] += Math.cos(theta) * distance + (path.v[i][0] - positions.v[i][0]) * this.data.dc;\n        positions.v[i][1] += Math.sin(theta) * distance + (path.v[i][1] - positions.v[i][1]) * this.data.dc;\n\n\n        theta = Math.atan2(\n            positions.o[i][1] - mouseCoords[1],\n            positions.o[i][0] - mouseCoords[0]\n        );\n        x = mouseCoords[0] - positions.o[i][0];\n        y = mouseCoords[1] - positions.o[i][1];\n        var distance =  this.data.ss * this.data.mx / Math.sqrt( (x * x) + (y * y) );\n\n        positions.o[i][0] += Math.cos(theta) * distance + (path.o[i][0] - positions.o[i][0]) * this.data.dc;\n        positions.o[i][1] += Math.sin(theta) * distance + (path.o[i][1] - positions.o[i][1]) * this.data.dc;\n\n\n        theta = Math.atan2(\n            positions.i[i][1] - mouseCoords[1],\n            positions.i[i][0] - mouseCoords[0]\n        );\n        x = mouseCoords[0] - positions.i[i][0];\n        y = mouseCoords[1] - positions.i[i][1];\n        var distance =  this.data.ss * this.data.mx / Math.sqrt( (x * x) + (y * y) );\n\n        positions.i[i][0] += Math.cos(theta) * distance + (path.i[i][0] - positions.i[i][0]) * this.data.dc;\n        positions.i[i][1] += Math.sin(theta) * distance + (path.i[i][1] - positions.i[i][1]) * this.data.dc;\n\n        /////OPTION 1\n        //vValues.push(positions.v[i]);\n        // oValues.push(positions.o[i]);\n        // iValues.push(positions.i[i]);\n\n\n\n        /////OPTION 2\n        //vValues.push(positions.v[i]);\n        // iValues.push([path.i[i][0]+(positions.v[i][0]-path.v[i][0]),path.i[i][1]+(positions.v[i][1]-path.v[i][1])]);\n        // oValues.push([path.o[i][0]+(positions.v[i][0]-path.v[i][0]),path.o[i][1]+(positions.v[i][1]-path.v[i][1])]);\n\n\n\n        /////OPTION 3\n        //vValues.push(positions.v[i]);\n        //iValues.push(path.i[i]);\n        //oValues.push(path.o[i]);\n\n\n        /////OPTION 4\n        //vValues.push(path.v[i]);\n        // oValues.push(positions.o[i]);\n        // iValues.push(positions.i[i]);\n    }*/\n\n\n    return {\n        v:vValues,\n        o:oValues,\n        i:iValues,\n        c:path.c\n    };\n}\n\nMouseModifier.prototype.processShapes = function(){\n    var mouseX = this.elem.globalData.mouseX;\n    var mouseY = this.elem.globalData.mouseY;\n    var shapePaths;\n    var i, len = this.shapes.length;\n    var j, jLen;\n\n    if(mouseX){\n        var localMouseCoords = this.elem.globalToLocal([mouseX,mouseY,0]);\n\n        var shapeData, newPaths = [];\n        for(i=0;i<len;i+=1){\n            shapeData = this.shapes[i];\n            if(!shapeData.shape.mdf && !this.mdf){\n                shapeData.shape.paths = shapeData.last;\n            } else {\n                shapeData.shape.mdf = true;\n                shapePaths = shapeData.shape.paths;\n                jLen = shapePaths.length;\n                for(j=0;j<jLen;j+=1){\n                    if(!this.positions[i][j]){\n                        this.positions[i][j] = {\n                            v:[],\n                            o:[],\n                            i:[],\n                            distV:[],\n                            distO:[],\n                            distI:[]\n                        };\n                    }\n                    newPaths.push(this.processPath(shapePaths[j],localMouseCoords, this.positions[i][j]));\n                }\n                shapeData.shape.paths = newPaths;\n                shapeData.last = newPaths;\n            }\n        }\n\n    }\n\n}\n\nMouseModifier.prototype.initModifierProperties = function(elem,data){\n    this.getValue = this.processKeys;\n    this.data = data;\n    this.positions = [];\n};\n\n\n\nShapeModifiers.registerModifier('ms',MouseModifier);\n\n\n// WEBPACK FOOTER //\n// ./js/utils/shapes/MouseModifier.js","import {extendPrototype} from \"../common\";\nimport {ShapeModifier, ShapeModifiers} from \"./ShapeModifiers\";\n\nexport default function RoundCornersModifier(){};\nextendPrototype(ShapeModifier,RoundCornersModifier);\nRoundCornersModifier.prototype.processKeys = function(forceRender){\n    if(this.elem.globalData.frameId === this.frameId && !forceRender){\n        return;\n    }\n    this.mdf = forceRender ? true : false;\n    this.frameId = this.elem.globalData.frameId;\n    var i, len = this.dynamicProperties.length;\n\n    for(i=0;i<len;i+=1){\n        this.dynamicProperties[i].getValue();\n        if(this.dynamicProperties[i].mdf){\n            this.mdf = true;\n        }\n    }\n}\nRoundCornersModifier.prototype.initModifierProperties = function(elem,data){\n    this.getValue = this.processKeys;\n    this.rd = PropertyFactory.getProp(elem,data.r,0,null,this.dynamicProperties);\n    if(!this.dynamicProperties.length){\n        this.getValue(true);\n    }\n};\n\nRoundCornersModifier.prototype.processPath = function(path, round){\n    var i, len = path.v.length;\n    var vValues = [],oValues = [],iValues = [];\n    var currentV,currentI,currentO,closerV, newV,newO,newI,distance,newPosPerc;\n    for(i=0;i<len;i+=1){\n        currentV = path.v[i];\n        currentO = path.o[i];\n        currentI = path.i[i];\n        if(currentV[0]===currentO[0] && currentV[1]===currentO[1] && currentV[0]===currentI[0] && currentV[1]===currentI[1]){\n            if((i===0 || i === len - 1) && !path.c){\n                vValues.push(currentV);\n                oValues.push(currentO);\n                iValues.push(currentI);\n            } else {\n                if(i===0){\n                    closerV = path.v[len-1];\n                } else {\n                    closerV = path.v[i-1];\n                }\n                distance = Math.sqrt(Math.pow(currentV[0]-closerV[0],2)+Math.pow(currentV[1]-closerV[1],2));\n                newPosPerc = distance ? Math.min(distance/2,round)/distance : 0;\n                newV = [currentV[0]+(closerV[0]-currentV[0])*newPosPerc,currentV[1]-(currentV[1]-closerV[1])*newPosPerc];\n                newI = newV;\n                newO = [newV[0]-(newV[0]-currentV[0])*roundCorner,newV[1]-(newV[1]-currentV[1])*roundCorner];\n                vValues.push(newV);\n                oValues.push(newO);\n                iValues.push(newI);\n\n                if(i === len - 1){\n                    closerV = path.v[0];\n                } else {\n                    closerV = path.v[i+1];\n                }\n                distance = Math.sqrt(Math.pow(currentV[0]-closerV[0],2)+Math.pow(currentV[1]-closerV[1],2));\n                newPosPerc = distance ? Math.min(distance/2,round)/distance : 0;\n                newV = [currentV[0]+(closerV[0]-currentV[0])*newPosPerc,currentV[1]+(closerV[1]-currentV[1])*newPosPerc];\n                newI = [newV[0]-(newV[0]-currentV[0])*roundCorner,newV[1]-(newV[1]-currentV[1])*roundCorner];\n                newO = newV;\n                vValues.push(newV);\n                oValues.push(newO);\n                iValues.push(newI);\n            }\n        } else {\n            vValues.push(path.v[i]);\n            oValues.push(path.o[i]);\n            iValues.push(path.i[i]);\n        }\n    }\n    return {\n        v:vValues,\n        o:oValues,\n        i:iValues,\n        c:path.c\n    };\n}\n\nRoundCornersModifier.prototype.processShapes = function(){\n    var shapePaths;\n    var i, len = this.shapes.length;\n    var j, jLen;\n    var rd = this.rd.v;\n\n    if(rd !== 0){\n        var shapeData, newPaths;\n        for(i=0;i<len;i+=1){\n            newPaths = [];\n            shapeData = this.shapes[i];\n            if(!shapeData.shape.mdf && !this.mdf){\n                shapeData.shape.paths = shapeData.last;\n            } else {\n                shapeData.shape.mdf = true;\n                shapePaths = shapeData.shape.paths;\n                jLen = shapePaths.length;\n                for(j=0;j<jLen;j+=1){\n                    newPaths.push(this.processPath(shapePaths[j],rd));\n                }\n                shapeData.shape.paths = newPaths;\n                shapeData.last = newPaths;\n            }\n        }\n\n    }\n    if(!this.dynamicProperties.length){\n        this.mdf = false;\n    }\n}\n\n\nShapeModifiers.registerModifier('rd',RoundCornersModifier);\n\n\n// WEBPACK FOOTER //\n// ./js/utils/shapes/RoundCornersModifier.js","import {ShapeModifier, ShapeModifiers} from \"./ShapeModifiers\";\nimport {extendPrototype} from \"../common\";\nimport PropertyFactory from \"../PropertyFactory\";\nimport bez from \"../bez\";\n\nexport default function TrimModifier ()\n{\n};\n\nextendPrototype(ShapeModifier, TrimModifier);\nTrimModifier.prototype.processKeys = function (forceRender)\n{\n\tif (this.elem.globalData.frameId === this.frameId && !forceRender)\n\t{\n\t\treturn;\n\t}\n\tthis.mdf = forceRender ? true : false;\n\tthis.frameId = this.elem.globalData.frameId;\n\tvar i, len = this.dynamicProperties.length;\n\n\tfor (i = 0; i < len; i += 1)\n\t{\n\t\tthis.dynamicProperties[i].getValue();\n\t\tif (this.dynamicProperties[i].mdf)\n\t\t{\n\t\t\tthis.mdf = true;\n\t\t}\n\t}\n\tif (this.mdf || forceRender)\n\t{\n\t\tvar o = (this.o.v % 360) / 360;\n\t\tif (o < 0)\n\t\t{\n\t\t\to += 1;\n\t\t}\n\t\tvar s = this.s.v + o;\n\t\tvar e = this.e.v + o;\n\t\tif (s == e)\n\t\t{\n\n\t\t}\n\t\tif (s > e)\n\t\t{\n\t\t\tvar _s = s;\n\t\t\ts = e;\n\t\t\te = _s;\n\t\t}\n\t\tthis.sValue = s;\n\t\tthis.eValue = e;\n\t\tthis.oValue = o;\n\t}\n}\nTrimModifier.prototype.initModifierProperties = function (elem, data)\n{\n\tthis.sValue = 0;\n\tthis.eValue = 0;\n\tthis.oValue = 0;\n\tthis.getValue = this.processKeys;\n\tthis.s = PropertyFactory.getProp(elem, data.s, 0, 0.01, this.dynamicProperties);\n\tthis.e = PropertyFactory.getProp(elem, data.e, 0, 0.01, this.dynamicProperties);\n\tthis.o = PropertyFactory.getProp(elem, data.o, 0, 0, this.dynamicProperties);\n\tthis.m = data.m;\n\tif (!this.dynamicProperties.length)\n\t{\n\t\tthis.getValue(true);\n\t}\n};\n\nTrimModifier.prototype.getSegmentsLength = function (keyframes)\n{\n\tvar closed = keyframes.c;\n\tvar pathV = keyframes.v;\n\tvar pathO = keyframes.o;\n\tvar pathI = keyframes.i;\n\tvar i, len = pathV.length;\n\tvar lengths = [];\n\tvar totalLength = 0;\n\tfor (i = 0; i < len - 1; i += 1)\n\t{\n\t\tlengths[i] = bez.getBezierLength(pathV[i], pathV[i + 1], pathO[i], pathI[i + 1]);\n\t\ttotalLength += lengths[i].addedLength;\n\t}\n\tif (closed)\n\t{\n\t\tlengths[i] = bez.getBezierLength(pathV[i], pathV[0], pathO[i], pathI[0]);\n\t\ttotalLength += lengths[i].addedLength;\n\t}\n\treturn {lengths: lengths, totalLength: totalLength};\n}\n\nTrimModifier.prototype.calculateShapeEdges = function (s, e, shapeLength, addedLength, totalModifierLength)\n{\n\tvar segments = []\n\tif (e <= 1)\n\t{\n\t\tsegments.push({\n\t\t\ts: s,\n\t\t\te: e\n\t\t})\n\t}\n\telse if (s >= 1)\n\t{\n\t\tsegments.push({\n\t\t\ts: s - 1,\n\t\t\te: e - 1\n\t\t})\n\t}\n\telse\n\t{\n\t\tsegments.push({\n\t\t\ts: s,\n\t\t\te: 1\n\t\t})\n\t\tsegments.push({\n\t\t\ts: 0,\n\t\t\te: e - 1\n\t\t})\n\t}\n\tvar shapeSegments = [];\n\tvar i, len = segments.length, segmentOb;\n\tfor (i = 0; i < len; i += 1)\n\t{\n\t\tsegmentOb = segments[i];\n\t\tif (segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength)\n\t\t{\n\n\t\t}\n\t\telse\n\t\t{\n\t\t\tvar shapeS, shapeE;\n\t\t\tif (segmentOb.s * totalModifierLength <= addedLength)\n\t\t\t{\n\t\t\t\tshapeS = 0;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tshapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;\n\t\t\t}\n\t\t\tif (segmentOb.e * totalModifierLength >= addedLength + shapeLength)\n\t\t\t{\n\t\t\t\tshapeE = 1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tshapeE = ((segmentOb.e * totalModifierLength - addedLength) / shapeLength);\n\t\t\t}\n\t\t\tshapeSegments.push([shapeS, shapeE]);\n\t\t}\n\t}\n\t//console.log(shapeSegments);\n\tif (!shapeSegments.length)\n\t{\n\t\tshapeSegments.push([0, 0]);\n\t}\n\treturn shapeSegments;\n}\n\nTrimModifier.prototype.processShapes = function (firstFrame)\n{\n\tvar shapePaths;\n\tvar i, len = this.shapes.length;\n\tvar j, jLen;\n\tvar s = this.sValue;\n\tvar e = this.eValue;\n\tvar pathsData, pathData, totalShapeLength, totalModifierLength = 0;\n\n\n\tif (e === s)\n\t{\n\t\tfor (i = 0; i < len; i += 1)\n\t\t{\n\t\t\tthis.shapes[i].shape.paths = [];\n\t\t\tthis.shapes[i].shape.mdf = true;\n\t\t}\n\t}\n\telse if ((e === 1 && s === 0) || (e === 0 && s === 1))\n\t{\n\t\tfor (i = 0; i < len; i += 1)\n\t\t{\n\t\t\tshapeData = this.shapes[i];\n\t\t\tif (shapeData.shape.paths !== shapeData.last)\n\t\t\t{\n\t\t\t\tshapeData.shape.mdf = true;\n\t\t\t\tshapeData.last = shapeData.shape.paths;\n\t\t\t}\n\t\t}\n\t}\n\telse\n\t{\n\t\tvar segments = [], shapeData, newShapes;\n\t\tfor (i = 0; i < len; i += 1)\n\t\t{\n\t\t\tshapeData = this.shapes[i];\n\t\t\tif (!shapeData.shape.mdf && !this.mdf && !firstFrame && this.m !== 2)\n\t\t\t{\n\t\t\t\tshapeData.shape.paths = shapeData.last;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tshapePaths = shapeData.shape.paths;\n\t\t\t\tjLen = shapePaths.length;\n\t\t\t\ttotalShapeLength = 0;\n\t\t\t\tif (!shapeData.shape.mdf && shapeData.pathsData)\n\t\t\t\t{\n\t\t\t\t\ttotalShapeLength = shapeData.totalShapeLength;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tpathsData = [];\n\t\t\t\t\tfor (j = 0; j < jLen; j += 1)\n\t\t\t\t\t{\n\t\t\t\t\t\tpathData = this.getSegmentsLength(shapePaths[j]);\n\t\t\t\t\t\tpathsData.push(pathData);\n\t\t\t\t\t\ttotalShapeLength += pathData.totalLength;\n\t\t\t\t\t}\n\t\t\t\t\tshapeData.totalShapeLength = totalShapeLength;\n\t\t\t\t\tshapeData.pathsData = pathsData;\n\t\t\t\t}\n\n\t\t\t\ttotalModifierLength += totalShapeLength;\n\t\t\t\tshapeData.shape.mdf = true;\n\t\t\t}\n\t\t}\n\t\tvar shapeS = s, shapeE = e, addedLength = 0;\n\t\tvar j, jLen;\n\t\tfor (i = len - 1; i >= 0; i -= 1)\n\t\t{\n\t\t\tnewShapes = [];\n\t\t\tshapeData = this.shapes[i];\n\t\t\tif (shapeData.shape.mdf)\n\t\t\t{\n\t\t\t\tif (this.m === 2 && len > 1)\n\t\t\t\t{\n\t\t\t\t\tvar edges = this.calculateShapeEdges(s, e, shapeData.totalShapeLength, addedLength, totalModifierLength);\n\t\t\t\t\taddedLength += shapeData.totalShapeLength;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tedges = [[shapeS, shapeE]]\n\t\t\t\t}\n\t\t\t\tjLen = edges.length;\n\t\t\t\tfor (j = 0; j < jLen; j += 1)\n\t\t\t\t{\n\t\t\t\t\tshapeS = edges[j][0];\n\t\t\t\t\tshapeE = edges[j][1];\n\t\t\t\t\tsegments.length = 0;\n\t\t\t\t\tif (shapeE <= 1)\n\t\t\t\t\t{\n\t\t\t\t\t\tsegments.push({\n\t\t\t\t\t\t\ts: shapeData.totalShapeLength * shapeS,\n\t\t\t\t\t\t\te: shapeData.totalShapeLength * shapeE\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\telse if (shapeS >= 1)\n\t\t\t\t\t{\n\t\t\t\t\t\tsegments.push({\n\t\t\t\t\t\t\ts: shapeData.totalShapeLength * (shapeS - 1),\n\t\t\t\t\t\t\te: shapeData.totalShapeLength * (shapeE - 1)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tsegments.push({\n\t\t\t\t\t\t\ts: shapeData.totalShapeLength * shapeS,\n\t\t\t\t\t\t\te: shapeData.totalShapeLength\n\t\t\t\t\t\t})\n\t\t\t\t\t\tsegments.push({\n\t\t\t\t\t\t\ts: 0,\n\t\t\t\t\t\t\te: shapeData.totalShapeLength * (shapeE - 1)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tvar newShapeData = this.addShapes(shapeData, segments[0]);\n\t\t\t\t\tif (segments[0].s !== segments[0].e)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar lastPos;\n\t\t\t\t\t\tnewShapes.push(newShapeData);\n\t\t\t\t\t\tif (segments.length > 1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (shapeData.shape.v.c)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.addShapes(shapeData, segments[1], newShapeData);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tnewShapeData.i[0] = [newShapeData.v[0][0], newShapeData.v[0][1]];\n\t\t\t\t\t\t\t\tlastPos = newShapeData.v.length - 1;\n\t\t\t\t\t\t\t\tnewShapeData.o[lastPos] = [newShapeData.v[lastPos][0], newShapeData.v[lastPos][1]];\n\t\t\t\t\t\t\t\tnewShapeData = this.addShapes(shapeData, segments[1]);\n\t\t\t\t\t\t\t\tnewShapes.push(newShapeData);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnewShapeData.i[0] = [newShapeData.v[0][0], newShapeData.v[0][1]];\n\t\t\t\t\t\tlastPos = newShapeData.v.length - 1;\n\t\t\t\t\t\tnewShapeData.o[lastPos] = [newShapeData.v[lastPos][0], newShapeData.v[lastPos][1]];\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tshapeData.last = newShapes;\n\t\t\t\tshapeData.shape.paths = newShapes;\n\t\t\t}\n\t\t}\n\t}\n\tif (!this.dynamicProperties.length)\n\t{\n\t\tthis.mdf = false;\n\t}\n}\n\nTrimModifier.prototype.addSegment = function (pt1, pt2, pt3, pt4, shapePath, pos)\n{\n\tshapePath.o[pos] = pt2;\n\tshapePath.i[pos + 1] = pt3;\n\tshapePath.v[pos + 1] = pt4;\n\tshapePath.v[pos] = pt1;\n}\n\nTrimModifier.prototype.addShapes = function (shapeData, shapeSegment, shapePath)\n{\n\tvar pathsData = shapeData.pathsData;\n\tvar shapePaths = shapeData.shape.paths;\n\tvar i, len = shapePaths.length, j, jLen;\n\tvar addedLength = 0;\n\tvar currentLengthData, segmentCount;\n\tvar lengths;\n\tvar segment;\n\tif (!shapePath)\n\t{\n\t\tshapePath = {\n\t\t\tc: false,\n\t\t\tv: [],\n\t\t\ti: [],\n\t\t\to: []\n\t\t};\n\t\tsegmentCount = 0;\n\t}\n\telse\n\t{\n\t\tsegmentCount = shapePath.v.length - 1;\n\t}\n\tfor (i = 0; i < len; i += 1)\n\t{\n\t\tlengths = pathsData[i].lengths;\n\t\tjLen = shapePaths[i].c ? lengths.length : lengths.length + 1;\n\t\tfor (j = 1; j < jLen; j += 1)\n\t\t{\n\t\t\tcurrentLengthData = lengths[j - 1];\n\t\t\tif (addedLength + currentLengthData.addedLength < shapeSegment.s)\n\t\t\t{\n\t\t\t\taddedLength += currentLengthData.addedLength;\n\t\t\t}\n\t\t\telse if (addedLength > shapeSegment.e)\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength)\n\t\t\t\t{\n\t\t\t\t\tthis.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[j], shapePaths[i].v[j], shapePath, segmentCount);\n\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tsegment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[j], shapePaths[i].o[j - 1], shapePaths[i].i[j], (shapeSegment.s - addedLength) / currentLengthData.addedLength, (shapeSegment.e - addedLength) / currentLengthData.addedLength, lengths[j - 1]);\n\t\t\t\t\tthis.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount);\n\t\t\t\t}\n\t\t\t\taddedLength += currentLengthData.addedLength;\n\t\t\t\tsegmentCount += 1;\n\t\t\t}\n\t\t}\n\t\tif (shapePaths[i].c)\n\t\t{\n\t\t\tif (addedLength <= shapeSegment.e)\n\t\t\t{\n\t\t\t\tvar segmentLength = lengths[j - 1].addedLength;\n\t\t\t\tif (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength)\n\t\t\t\t{\n\t\t\t\t\tthis.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[0], shapePaths[i].v[0], shapePath, segmentCount);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tsegment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[0], shapePaths[i].o[j - 1], shapePaths[i].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j - 1]);\n\t\t\t\t\tthis.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn shapePath;\n\n}\n\n\nShapeModifiers.registerModifier('tm', TrimModifier);\n\n\n// WEBPACK FOOTER //\n// ./js/utils/shapes/TrimModifier.js","import AnimationManager from \"./animation/AnimationManager\";\n\nlet bodymovin = {};\n\nfunction play (animation)\n{\n\tAnimationManager.play(animation);\n}\nfunction pause (animation)\n{\n\tAnimationManager.pause(animation);\n}\nfunction togglePause (animation)\n{\n\tAnimationManager.togglePause(animation);\n}\nfunction setSpeed (value, animation)\n{\n\tAnimationManager.setSpeed(value, animation);\n}\nfunction setDirection (value, animation)\n{\n\tAnimationManager.setDirection(value, animation);\n}\nfunction stop (animation)\n{\n\tAnimationManager.stop(animation);\n}\nfunction moveFrame (value)\n{\n\tAnimationManager.moveFrame(value);\n}\nfunction searchAnimations ()\n{\n\tif (standalone === true)\n\t{\n\t\tAnimationManager.searchAnimations(animationData, standalone, renderer);\n\t}\n\telse\n\t{\n\t\tAnimationManager.searchAnimations();\n\t}\n}\nfunction registerAnimation (elem)\n{\n\treturn AnimationManager.registerAnimation(elem);\n}\nfunction resize ()\n{\n\tAnimationManager.resize();\n}\nfunction start ()\n{\n\tAnimationManager.start();\n}\nfunction goToAndStop (val, isFrame, animation)\n{\n\tAnimationManager.goToAndStop(val, isFrame, animation);\n}\nfunction setSubframeRendering (flag)\n{\n\tsubframeEnabled = flag;\n}\nfunction loadAnimation (params)\n{\n\tif (standalone === true)\n\t{\n\t\tparams.animationData = JSON.parse(animationData);\n\t}\n\treturn AnimationManager.loadAnimation(params);\n}\nfunction destroy (animation)\n{\n\treturn AnimationManager.destroy(animation);\n}\nfunction setQuality (value)\n{\n\tif (typeof value === 'string')\n\t{\n\t\tswitch (value)\n\t\t{\n\t\t\tcase 'high':\n\t\t\t\tdefaultCurveSegments = 200;\n\t\t\t\tbreak;\n\t\t\tcase 'medium':\n\t\t\t\tdefaultCurveSegments = 50;\n\t\t\t\tbreak;\n\t\t\tcase 'low':\n\t\t\t\tdefaultCurveSegments = 10;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\telse if (!isNaN(value) && value > 1)\n\t{\n\t\tdefaultCurveSegments = value;\n\t}\n\tif (defaultCurveSegments >= 50)\n\t{\n\t\troundValues(false);\n\t}\n\telse\n\t{\n\t\troundValues(true);\n\t}\n\n}\nfunction installPlugin (type, plugin)\n{\n\tif (type === 'expressions')\n\t{\n\t\texpressionsPlugin = plugin;\n\t}\n}\n\nfunction getFactory (name)\n{\n\tswitch (name)\n\t{\n\t\tcase \"propertyFactory\":\n\t\t\treturn PropertyFactory;\n\t\tcase \"shapePropertyFactory\":\n\t\t\treturn ShapePropertyFactory;\n\t\tcase \"matrix\":\n\t\t\treturn Matrix;\n\t}\n}\n\nbodymovin.play = play;\nbodymovin.pause = pause;\nbodymovin.togglePause = togglePause;\nbodymovin.setSpeed = setSpeed;\nbodymovin.setDirection = setDirection;\nbodymovin.stop = stop;\nbodymovin.moveFrame = moveFrame;\nbodymovin.searchAnimations = searchAnimations;\nbodymovin.registerAnimation = registerAnimation;\nbodymovin.loadAnimation = loadAnimation;\nbodymovin.setSubframeRendering = setSubframeRendering;\nbodymovin.resize = resize;\nbodymovin.start = start;\nbodymovin.goToAndStop = goToAndStop;\nbodymovin.destroy = destroy;\nbodymovin.setQuality = setQuality;\nbodymovin.installPlugin = installPlugin;\nbodymovin.__getFactory = getFactory;\nbodymovin.version = '4.6';\n\nfunction checkReady ()\n{\n\tif (document.readyState === \"complete\")\n\t{\n\t\tclearInterval(readyStateCheckInterval);\n\t\tsearchAnimations();\n\t}\n}\n\nfunction getQueryVariable (variable)\n{\n\tvar vars = queryString.split('&');\n\tfor (var i = 0; i < vars.length; i++)\n\t{\n\t\tvar pair = vars[i].split('=');\n\t\tif (decodeURIComponent(pair[0]) == variable)\n\t\t{\n\t\t\treturn decodeURIComponent(pair[1]);\n\t\t}\n\t}\n}\n\nvar standalone = '__[STANDALONE]__';\nvar animationData = '__[ANIMATIONDATA]__';\n\nvar renderer = '';\nif (standalone)\n{\n\tvar scripts = document.getElementsByTagName('script');\n\tvar index = scripts.length - 1;\n\tvar myScript = scripts[index];\n\tvar queryString = myScript.src.replace(/^[^\\?]+\\??/, '');\n\trenderer = getQueryVariable('renderer');\n}\n\nvar readyStateCheckInterval = setInterval(checkReady, 100);\n\nconsole.log('webpack2');\n\nwindow.bodymovin = bodymovin;\n\n\n// WEBPACK FOOTER //\n// ./js/index.js"],"sourceRoot":""}